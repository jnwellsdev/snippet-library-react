var GI=Object.defineProperty;var QI=(t,e,n)=>e in t?GI(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Lh=(t,e,n)=>QI(t,typeof e!="symbol"?e+"":e,n);function XI(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Hg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vc(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Cw={exports:{}},yc={},Iw={exports:{}},oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ka=Symbol.for("react.element"),YI=Symbol.for("react.portal"),JI=Symbol.for("react.fragment"),ZI=Symbol.for("react.strict_mode"),eA=Symbol.for("react.profiler"),tA=Symbol.for("react.provider"),nA=Symbol.for("react.context"),rA=Symbol.for("react.forward_ref"),iA=Symbol.for("react.suspense"),sA=Symbol.for("react.memo"),oA=Symbol.for("react.lazy"),Kg=Symbol.iterator;function aA(t){return t===null||typeof t!="object"?null:(t=Kg&&t[Kg]||t["@@iterator"],typeof t=="function"?t:null)}var Aw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},bw=Object.assign,Rw={};function zs(t,e,n){this.props=t,this.context=e,this.refs=Rw,this.updater=n||Aw}zs.prototype.isReactComponent={};zs.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};zs.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function kw(){}kw.prototype=zs.prototype;function Ap(t,e,n){this.props=t,this.context=e,this.refs=Rw,this.updater=n||Aw}var bp=Ap.prototype=new kw;bp.constructor=Ap;bw(bp,zs.prototype);bp.isPureReactComponent=!0;var Gg=Array.isArray,Pw=Object.prototype.hasOwnProperty,Rp={current:null},Nw={key:!0,ref:!0,__self:!0,__source:!0};function Ow(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Pw.call(e,r)&&!Nw.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:ka,type:t,key:s,ref:o,props:i,_owner:Rp.current}}function lA(t,e){return{$$typeof:ka,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function kp(t){return typeof t=="object"&&t!==null&&t.$$typeof===ka}function uA(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Qg=/\/+/g;function Mh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?uA(""+t.key):e.toString(36)}function Zl(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ka:case YI:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Mh(o,0):r,Gg(i)?(n="",t!=null&&(n=t.replace(Qg,"$&/")+"/"),Zl(i,e,n,"",function(c){return c})):i!=null&&(kp(i)&&(i=lA(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Qg,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Gg(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Mh(s,a);o+=Zl(s,e,n,l,i)}else if(l=aA(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Mh(s,a++),o+=Zl(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function gl(t,e,n){if(t==null)return t;var r=[],i=0;return Zl(t,r,"","",function(s){return e.call(n,s,i++)}),r}function cA(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var yt={current:null},eu={transition:null},hA={ReactCurrentDispatcher:yt,ReactCurrentBatchConfig:eu,ReactCurrentOwner:Rp};function Dw(){throw Error("act(...) is not supported in production builds of React.")}oe.Children={map:gl,forEach:function(t,e,n){gl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return gl(t,function(){e++}),e},toArray:function(t){return gl(t,function(e){return e})||[]},only:function(t){if(!kp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};oe.Component=zs;oe.Fragment=JI;oe.Profiler=eA;oe.PureComponent=Ap;oe.StrictMode=ZI;oe.Suspense=iA;oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hA;oe.act=Dw;oe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=bw({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Rp.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Pw.call(e,l)&&!Nw.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:ka,type:t.type,key:i,ref:s,props:r,_owner:o}};oe.createContext=function(t){return t={$$typeof:nA,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:tA,_context:t},t.Consumer=t};oe.createElement=Ow;oe.createFactory=function(t){var e=Ow.bind(null,t);return e.type=t,e};oe.createRef=function(){return{current:null}};oe.forwardRef=function(t){return{$$typeof:rA,render:t}};oe.isValidElement=kp;oe.lazy=function(t){return{$$typeof:oA,_payload:{_status:-1,_result:t},_init:cA}};oe.memo=function(t,e){return{$$typeof:sA,type:t,compare:e===void 0?null:e}};oe.startTransition=function(t){var e=eu.transition;eu.transition={};try{t()}finally{eu.transition=e}};oe.unstable_act=Dw;oe.useCallback=function(t,e){return yt.current.useCallback(t,e)};oe.useContext=function(t){return yt.current.useContext(t)};oe.useDebugValue=function(){};oe.useDeferredValue=function(t){return yt.current.useDeferredValue(t)};oe.useEffect=function(t,e){return yt.current.useEffect(t,e)};oe.useId=function(){return yt.current.useId()};oe.useImperativeHandle=function(t,e,n){return yt.current.useImperativeHandle(t,e,n)};oe.useInsertionEffect=function(t,e){return yt.current.useInsertionEffect(t,e)};oe.useLayoutEffect=function(t,e){return yt.current.useLayoutEffect(t,e)};oe.useMemo=function(t,e){return yt.current.useMemo(t,e)};oe.useReducer=function(t,e,n){return yt.current.useReducer(t,e,n)};oe.useRef=function(t){return yt.current.useRef(t)};oe.useState=function(t){return yt.current.useState(t)};oe.useSyncExternalStore=function(t,e,n){return yt.current.useSyncExternalStore(t,e,n)};oe.useTransition=function(){return yt.current.useTransition()};oe.version="18.3.1";Iw.exports=oe;var S=Iw.exports;const hn=vc(S),Pp=XI({__proto__:null,default:hn},[S]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dA=S,fA=Symbol.for("react.element"),pA=Symbol.for("react.fragment"),_A=Object.prototype.hasOwnProperty,mA=dA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,gA={key:!0,ref:!0,__self:!0,__source:!0};function Lw(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)_A.call(e,r)&&!gA.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:fA,type:t,key:s,ref:o,props:i,_owner:mA.current}}yc.Fragment=pA;yc.jsx=Lw;yc.jsxs=Lw;Cw.exports=yc;var x=Cw.exports,Gd={},Mw={exports:{}},jt={},Fw={exports:{}},Vw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(M,j){var q=M.length;M.push(j);e:for(;0<q;){var ee=q-1>>>1,J=M[ee];if(0<i(J,j))M[ee]=j,M[q]=J,q=ee;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var j=M[0],q=M.pop();if(q!==j){M[0]=q;e:for(var ee=0,J=M.length,pe=J>>>1;ee<pe;){var Te=2*(ee+1)-1,Le=M[Te],be=Te+1,Se=M[be];if(0>i(Le,q))be<J&&0>i(Se,Le)?(M[ee]=Se,M[be]=q,ee=be):(M[ee]=Le,M[Te]=q,ee=Te);else if(be<J&&0>i(Se,q))M[ee]=Se,M[be]=q,ee=be;else break e}}return j}function i(M,j){var q=M.sortIndex-j.sortIndex;return q!==0?q:M.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],h=1,d=null,_=3,C=!1,b=!1,A=!1,y=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(M){for(var j=n(c);j!==null;){if(j.callback===null)r(c);else if(j.startTime<=M)r(c),j.sortIndex=j.expirationTime,e(l,j);else break;j=n(c)}}function R(M){if(A=!1,w(M),!b)if(n(l)!==null)b=!0,G(L);else{var j=n(c);j!==null&&Z(R,j.startTime-M)}}function L(M,j){b=!1,A&&(A=!1,p(v),v=-1),C=!0;var q=_;try{for(w(j),d=n(l);d!==null&&(!(d.expirationTime>j)||M&&!k());){var ee=d.callback;if(typeof ee=="function"){d.callback=null,_=d.priorityLevel;var J=ee(d.expirationTime<=j);j=t.unstable_now(),typeof J=="function"?d.callback=J:d===n(l)&&r(l),w(j)}else r(l);d=n(l)}if(d!==null)var pe=!0;else{var Te=n(c);Te!==null&&Z(R,Te.startTime-j),pe=!1}return pe}finally{d=null,_=q,C=!1}}var P=!1,E=null,v=-1,I=5,f=-1;function k(){return!(t.unstable_now()-f<I)}function N(){if(E!==null){var M=t.unstable_now();f=M;var j=!0;try{j=E(!0,M)}finally{j?D():(P=!1,E=null)}}else P=!1}var D;if(typeof g=="function")D=function(){g(N)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,Y=z.port2;z.port1.onmessage=N,D=function(){Y.postMessage(null)}}else D=function(){y(N,0)};function G(M){E=M,P||(P=!0,D())}function Z(M,j){v=y(function(){M(t.unstable_now())},j)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_continueExecution=function(){b||C||(b=!0,G(L))},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(M){switch(_){case 1:case 2:case 3:var j=3;break;default:j=_}var q=_;_=j;try{return M()}finally{_=q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(M,j){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var q=_;_=M;try{return j()}finally{_=q}},t.unstable_scheduleCallback=function(M,j,q){var ee=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?ee+q:ee):q=ee,M){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=q+J,M={id:h++,callback:j,priorityLevel:M,startTime:q,expirationTime:J,sortIndex:-1},q>ee?(M.sortIndex=q,e(c,M),n(l)===null&&M===n(c)&&(A?(p(v),v=-1):A=!0,Z(R,q-ee))):(M.sortIndex=J,e(l,M),b||C||(b=!0,G(L))),M},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(M){var j=_;return function(){var q=_;_=j;try{return M.apply(this,arguments)}finally{_=q}}}})(Vw);Fw.exports=Vw;var vA=Fw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yA=S,Ft=vA;function B(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var jw=new Set,Jo={};function Ei(t,e){Ss(t,e),Ss(t+"Capture",e)}function Ss(t,e){for(Jo[t]=e,t=0;t<e.length;t++)jw.add(e[t])}var Vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qd=Object.prototype.hasOwnProperty,wA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Xg={},Yg={};function EA(t){return Qd.call(Yg,t)?!0:Qd.call(Xg,t)?!1:wA.test(t)?Yg[t]=!0:(Xg[t]=!0,!1)}function TA(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function SA(t,e,n,r){if(e===null||typeof e>"u"||TA(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function wt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var et={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){et[t]=new wt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];et[e]=new wt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){et[t]=new wt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){et[t]=new wt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){et[t]=new wt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){et[t]=new wt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){et[t]=new wt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){et[t]=new wt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){et[t]=new wt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Np=/[\-:]([a-z])/g;function Op(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Np,Op);et[e]=new wt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Np,Op);et[e]=new wt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Np,Op);et[e]=new wt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){et[t]=new wt(t,1,!1,t.toLowerCase(),null,!1,!1)});et.xlinkHref=new wt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){et[t]=new wt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Dp(t,e,n,r){var i=et.hasOwnProperty(e)?et[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(SA(e,n,i,r)&&(n=null),r||i===null?EA(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Gn=yA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,vl=Symbol.for("react.element"),Qi=Symbol.for("react.portal"),Xi=Symbol.for("react.fragment"),Lp=Symbol.for("react.strict_mode"),Xd=Symbol.for("react.profiler"),Uw=Symbol.for("react.provider"),$w=Symbol.for("react.context"),Mp=Symbol.for("react.forward_ref"),Yd=Symbol.for("react.suspense"),Jd=Symbol.for("react.suspense_list"),Fp=Symbol.for("react.memo"),sr=Symbol.for("react.lazy"),Bw=Symbol.for("react.offscreen"),Jg=Symbol.iterator;function go(t){return t===null||typeof t!="object"?null:(t=Jg&&t[Jg]||t["@@iterator"],typeof t=="function"?t:null)}var Ae=Object.assign,Fh;function Ro(t){if(Fh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Fh=e&&e[1]||""}return`
`+Fh+t}var Vh=!1;function jh(t,e){if(!t||Vh)return"";Vh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Vh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ro(t):""}function xA(t){switch(t.tag){case 5:return Ro(t.type);case 16:return Ro("Lazy");case 13:return Ro("Suspense");case 19:return Ro("SuspenseList");case 0:case 2:case 15:return t=jh(t.type,!1),t;case 11:return t=jh(t.type.render,!1),t;case 1:return t=jh(t.type,!0),t;default:return""}}function Zd(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Xi:return"Fragment";case Qi:return"Portal";case Xd:return"Profiler";case Lp:return"StrictMode";case Yd:return"Suspense";case Jd:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case $w:return(t.displayName||"Context")+".Consumer";case Uw:return(t._context.displayName||"Context")+".Provider";case Mp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Fp:return e=t.displayName||null,e!==null?e:Zd(t.type)||"Memo";case sr:e=t._payload,t=t._init;try{return Zd(t(e))}catch{}}return null}function CA(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Zd(e);case 8:return e===Lp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Lr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function zw(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function IA(t){var e=zw(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function yl(t){t._valueTracker||(t._valueTracker=IA(t))}function Ww(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=zw(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Tu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ef(t,e){var n=e.checked;return Ae({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Zg(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Lr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function qw(t,e){e=e.checked,e!=null&&Dp(t,"checked",e,!1)}function tf(t,e){qw(t,e);var n=Lr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?nf(t,e.type,n):e.hasOwnProperty("defaultValue")&&nf(t,e.type,Lr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function ev(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function nf(t,e,n){(e!=="number"||Tu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ko=Array.isArray;function us(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Lr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function rf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(B(91));return Ae({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function tv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(B(92));if(ko(n)){if(1<n.length)throw Error(B(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Lr(n)}}function Hw(t,e){var n=Lr(e.value),r=Lr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function nv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Kw(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function sf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Kw(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var wl,Gw=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(wl=wl||document.createElement("div"),wl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=wl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Zo(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var jo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},AA=["Webkit","ms","Moz","O"];Object.keys(jo).forEach(function(t){AA.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),jo[e]=jo[t]})});function Qw(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||jo.hasOwnProperty(t)&&jo[t]?(""+e).trim():e+"px"}function Xw(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Qw(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var bA=Ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function of(t,e){if(e){if(bA[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(B(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(B(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(B(61))}if(e.style!=null&&typeof e.style!="object")throw Error(B(62))}}function af(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lf=null;function Vp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var uf=null,cs=null,hs=null;function rv(t){if(t=Oa(t)){if(typeof uf!="function")throw Error(B(280));var e=t.stateNode;e&&(e=xc(e),uf(t.stateNode,t.type,e))}}function Yw(t){cs?hs?hs.push(t):hs=[t]:cs=t}function Jw(){if(cs){var t=cs,e=hs;if(hs=cs=null,rv(t),e)for(t=0;t<e.length;t++)rv(e[t])}}function Zw(t,e){return t(e)}function eE(){}var Uh=!1;function tE(t,e,n){if(Uh)return t(e,n);Uh=!0;try{return Zw(t,e,n)}finally{Uh=!1,(cs!==null||hs!==null)&&(eE(),Jw())}}function ea(t,e){var n=t.stateNode;if(n===null)return null;var r=xc(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(B(231,e,typeof n));return n}var cf=!1;if(Vn)try{var vo={};Object.defineProperty(vo,"passive",{get:function(){cf=!0}}),window.addEventListener("test",vo,vo),window.removeEventListener("test",vo,vo)}catch{cf=!1}function RA(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}var Uo=!1,Su=null,xu=!1,hf=null,kA={onError:function(t){Uo=!0,Su=t}};function PA(t,e,n,r,i,s,o,a,l){Uo=!1,Su=null,RA.apply(kA,arguments)}function NA(t,e,n,r,i,s,o,a,l){if(PA.apply(this,arguments),Uo){if(Uo){var c=Su;Uo=!1,Su=null}else throw Error(B(198));xu||(xu=!0,hf=c)}}function Ti(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function nE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function iv(t){if(Ti(t)!==t)throw Error(B(188))}function OA(t){var e=t.alternate;if(!e){if(e=Ti(t),e===null)throw Error(B(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return iv(i),t;if(s===r)return iv(i),e;s=s.sibling}throw Error(B(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(B(189))}}if(n.alternate!==r)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?t:e}function rE(t){return t=OA(t),t!==null?iE(t):null}function iE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=iE(t);if(e!==null)return e;t=t.sibling}return null}var sE=Ft.unstable_scheduleCallback,sv=Ft.unstable_cancelCallback,DA=Ft.unstable_shouldYield,LA=Ft.unstable_requestPaint,Oe=Ft.unstable_now,MA=Ft.unstable_getCurrentPriorityLevel,jp=Ft.unstable_ImmediatePriority,oE=Ft.unstable_UserBlockingPriority,Cu=Ft.unstable_NormalPriority,FA=Ft.unstable_LowPriority,aE=Ft.unstable_IdlePriority,wc=null,mn=null;function VA(t){if(mn&&typeof mn.onCommitFiberRoot=="function")try{mn.onCommitFiberRoot(wc,t,void 0,(t.current.flags&128)===128)}catch{}}var tn=Math.clz32?Math.clz32:$A,jA=Math.log,UA=Math.LN2;function $A(t){return t>>>=0,t===0?32:31-(jA(t)/UA|0)|0}var El=64,Tl=4194304;function Po(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Iu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Po(a):(s&=o,s!==0&&(r=Po(s)))}else o=n&~i,o!==0?r=Po(o):s!==0&&(r=Po(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-tn(e),i=1<<n,r|=t[n],e&=~i;return r}function BA(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zA(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-tn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=BA(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function df(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function lE(){var t=El;return El<<=1,!(El&4194240)&&(El=64),t}function $h(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Pa(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-tn(e),t[e]=n}function WA(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-tn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Up(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-tn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var _e=0;function uE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var cE,$p,hE,dE,fE,ff=!1,Sl=[],wr=null,Er=null,Tr=null,ta=new Map,na=new Map,ar=[],qA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ov(t,e){switch(t){case"focusin":case"focusout":wr=null;break;case"dragenter":case"dragleave":Er=null;break;case"mouseover":case"mouseout":Tr=null;break;case"pointerover":case"pointerout":ta.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":na.delete(e.pointerId)}}function yo(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Oa(e),e!==null&&$p(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function HA(t,e,n,r,i){switch(e){case"focusin":return wr=yo(wr,t,e,n,r,i),!0;case"dragenter":return Er=yo(Er,t,e,n,r,i),!0;case"mouseover":return Tr=yo(Tr,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return ta.set(s,yo(ta.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,na.set(s,yo(na.get(s)||null,t,e,n,r,i)),!0}return!1}function pE(t){var e=ti(t.target);if(e!==null){var n=Ti(e);if(n!==null){if(e=n.tag,e===13){if(e=nE(n),e!==null){t.blockedOn=e,fE(t.priority,function(){hE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function tu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=pf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);lf=r,n.target.dispatchEvent(r),lf=null}else return e=Oa(n),e!==null&&$p(e),t.blockedOn=n,!1;e.shift()}return!0}function av(t,e,n){tu(t)&&n.delete(e)}function KA(){ff=!1,wr!==null&&tu(wr)&&(wr=null),Er!==null&&tu(Er)&&(Er=null),Tr!==null&&tu(Tr)&&(Tr=null),ta.forEach(av),na.forEach(av)}function wo(t,e){t.blockedOn===e&&(t.blockedOn=null,ff||(ff=!0,Ft.unstable_scheduleCallback(Ft.unstable_NormalPriority,KA)))}function ra(t){function e(i){return wo(i,t)}if(0<Sl.length){wo(Sl[0],t);for(var n=1;n<Sl.length;n++){var r=Sl[n];r.blockedOn===t&&(r.blockedOn=null)}}for(wr!==null&&wo(wr,t),Er!==null&&wo(Er,t),Tr!==null&&wo(Tr,t),ta.forEach(e),na.forEach(e),n=0;n<ar.length;n++)r=ar[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ar.length&&(n=ar[0],n.blockedOn===null);)pE(n),n.blockedOn===null&&ar.shift()}var ds=Gn.ReactCurrentBatchConfig,Au=!0;function GA(t,e,n,r){var i=_e,s=ds.transition;ds.transition=null;try{_e=1,Bp(t,e,n,r)}finally{_e=i,ds.transition=s}}function QA(t,e,n,r){var i=_e,s=ds.transition;ds.transition=null;try{_e=4,Bp(t,e,n,r)}finally{_e=i,ds.transition=s}}function Bp(t,e,n,r){if(Au){var i=pf(t,e,n,r);if(i===null)Yh(t,e,r,bu,n),ov(t,r);else if(HA(i,t,e,n,r))r.stopPropagation();else if(ov(t,r),e&4&&-1<qA.indexOf(t)){for(;i!==null;){var s=Oa(i);if(s!==null&&cE(s),s=pf(t,e,n,r),s===null&&Yh(t,e,r,bu,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Yh(t,e,r,null,n)}}var bu=null;function pf(t,e,n,r){if(bu=null,t=Vp(r),t=ti(t),t!==null)if(e=Ti(t),e===null)t=null;else if(n=e.tag,n===13){if(t=nE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return bu=t,null}function _E(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(MA()){case jp:return 1;case oE:return 4;case Cu:case FA:return 16;case aE:return 536870912;default:return 16}default:return 16}}var fr=null,zp=null,nu=null;function mE(){if(nu)return nu;var t,e=zp,n=e.length,r,i="value"in fr?fr.value:fr.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return nu=i.slice(t,1<r?1-r:void 0)}function ru(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function xl(){return!0}function lv(){return!1}function Ut(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?xl:lv,this.isPropagationStopped=lv,this}return Ae(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=xl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=xl)},persist:function(){},isPersistent:xl}),e}var Ws={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wp=Ut(Ws),Na=Ae({},Ws,{view:0,detail:0}),XA=Ut(Na),Bh,zh,Eo,Ec=Ae({},Na,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Eo&&(Eo&&t.type==="mousemove"?(Bh=t.screenX-Eo.screenX,zh=t.screenY-Eo.screenY):zh=Bh=0,Eo=t),Bh)},movementY:function(t){return"movementY"in t?t.movementY:zh}}),uv=Ut(Ec),YA=Ae({},Ec,{dataTransfer:0}),JA=Ut(YA),ZA=Ae({},Na,{relatedTarget:0}),Wh=Ut(ZA),eb=Ae({},Ws,{animationName:0,elapsedTime:0,pseudoElement:0}),tb=Ut(eb),nb=Ae({},Ws,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),rb=Ut(nb),ib=Ae({},Ws,{data:0}),cv=Ut(ib),sb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ob={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ab={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lb(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=ab[t])?!!e[t]:!1}function qp(){return lb}var ub=Ae({},Na,{key:function(t){if(t.key){var e=sb[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ru(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ob[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qp,charCode:function(t){return t.type==="keypress"?ru(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ru(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),cb=Ut(ub),hb=Ae({},Ec,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hv=Ut(hb),db=Ae({},Na,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qp}),fb=Ut(db),pb=Ae({},Ws,{propertyName:0,elapsedTime:0,pseudoElement:0}),_b=Ut(pb),mb=Ae({},Ec,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),gb=Ut(mb),vb=[9,13,27,32],Hp=Vn&&"CompositionEvent"in window,$o=null;Vn&&"documentMode"in document&&($o=document.documentMode);var yb=Vn&&"TextEvent"in window&&!$o,gE=Vn&&(!Hp||$o&&8<$o&&11>=$o),dv=" ",fv=!1;function vE(t,e){switch(t){case"keyup":return vb.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Yi=!1;function wb(t,e){switch(t){case"compositionend":return yE(e);case"keypress":return e.which!==32?null:(fv=!0,dv);case"textInput":return t=e.data,t===dv&&fv?null:t;default:return null}}function Eb(t,e){if(Yi)return t==="compositionend"||!Hp&&vE(t,e)?(t=mE(),nu=zp=fr=null,Yi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return gE&&e.locale!=="ko"?null:e.data;default:return null}}var Tb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Tb[t.type]:e==="textarea"}function wE(t,e,n,r){Yw(r),e=Ru(e,"onChange"),0<e.length&&(n=new Wp("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Bo=null,ia=null;function Sb(t){PE(t,0)}function Tc(t){var e=es(t);if(Ww(e))return t}function xb(t,e){if(t==="change")return e}var EE=!1;if(Vn){var qh;if(Vn){var Hh="oninput"in document;if(!Hh){var _v=document.createElement("div");_v.setAttribute("oninput","return;"),Hh=typeof _v.oninput=="function"}qh=Hh}else qh=!1;EE=qh&&(!document.documentMode||9<document.documentMode)}function mv(){Bo&&(Bo.detachEvent("onpropertychange",TE),ia=Bo=null)}function TE(t){if(t.propertyName==="value"&&Tc(ia)){var e=[];wE(e,ia,t,Vp(t)),tE(Sb,e)}}function Cb(t,e,n){t==="focusin"?(mv(),Bo=e,ia=n,Bo.attachEvent("onpropertychange",TE)):t==="focusout"&&mv()}function Ib(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Tc(ia)}function Ab(t,e){if(t==="click")return Tc(e)}function bb(t,e){if(t==="input"||t==="change")return Tc(e)}function Rb(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var rn=typeof Object.is=="function"?Object.is:Rb;function sa(t,e){if(rn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Qd.call(e,i)||!rn(t[i],e[i]))return!1}return!0}function gv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function vv(t,e){var n=gv(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=gv(n)}}function SE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?SE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function xE(){for(var t=window,e=Tu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Tu(t.document)}return e}function Kp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function kb(t){var e=xE(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&SE(n.ownerDocument.documentElement,n)){if(r!==null&&Kp(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=vv(n,s);var o=vv(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Pb=Vn&&"documentMode"in document&&11>=document.documentMode,Ji=null,_f=null,zo=null,mf=!1;function yv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;mf||Ji==null||Ji!==Tu(r)||(r=Ji,"selectionStart"in r&&Kp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),zo&&sa(zo,r)||(zo=r,r=Ru(_f,"onSelect"),0<r.length&&(e=new Wp("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ji)))}function Cl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Zi={animationend:Cl("Animation","AnimationEnd"),animationiteration:Cl("Animation","AnimationIteration"),animationstart:Cl("Animation","AnimationStart"),transitionend:Cl("Transition","TransitionEnd")},Kh={},CE={};Vn&&(CE=document.createElement("div").style,"AnimationEvent"in window||(delete Zi.animationend.animation,delete Zi.animationiteration.animation,delete Zi.animationstart.animation),"TransitionEvent"in window||delete Zi.transitionend.transition);function Sc(t){if(Kh[t])return Kh[t];if(!Zi[t])return t;var e=Zi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in CE)return Kh[t]=e[n];return t}var IE=Sc("animationend"),AE=Sc("animationiteration"),bE=Sc("animationstart"),RE=Sc("transitionend"),kE=new Map,wv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Br(t,e){kE.set(t,e),Ei(e,[t])}for(var Gh=0;Gh<wv.length;Gh++){var Qh=wv[Gh],Nb=Qh.toLowerCase(),Ob=Qh[0].toUpperCase()+Qh.slice(1);Br(Nb,"on"+Ob)}Br(IE,"onAnimationEnd");Br(AE,"onAnimationIteration");Br(bE,"onAnimationStart");Br("dblclick","onDoubleClick");Br("focusin","onFocus");Br("focusout","onBlur");Br(RE,"onTransitionEnd");Ss("onMouseEnter",["mouseout","mouseover"]);Ss("onMouseLeave",["mouseout","mouseover"]);Ss("onPointerEnter",["pointerout","pointerover"]);Ss("onPointerLeave",["pointerout","pointerover"]);Ei("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ei("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ei("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ei("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ei("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ei("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var No="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Db=new Set("cancel close invalid load scroll toggle".split(" ").concat(No));function Ev(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,NA(r,e,void 0,t),t.currentTarget=null}function PE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Ev(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Ev(i,a,c),s=l}}}if(xu)throw t=hf,xu=!1,hf=null,t}function we(t,e){var n=e[Ef];n===void 0&&(n=e[Ef]=new Set);var r=t+"__bubble";n.has(r)||(NE(e,t,2,!1),n.add(r))}function Xh(t,e,n){var r=0;e&&(r|=4),NE(n,t,r,e)}var Il="_reactListening"+Math.random().toString(36).slice(2);function oa(t){if(!t[Il]){t[Il]=!0,jw.forEach(function(n){n!=="selectionchange"&&(Db.has(n)||Xh(n,!1,t),Xh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Il]||(e[Il]=!0,Xh("selectionchange",!1,e))}}function NE(t,e,n,r){switch(_E(e)){case 1:var i=GA;break;case 4:i=QA;break;default:i=Bp}n=i.bind(null,e,n,t),i=void 0,!cf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Yh(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=ti(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}tE(function(){var c=s,h=Vp(n),d=[];e:{var _=kE.get(t);if(_!==void 0){var C=Wp,b=t;switch(t){case"keypress":if(ru(n)===0)break e;case"keydown":case"keyup":C=cb;break;case"focusin":b="focus",C=Wh;break;case"focusout":b="blur",C=Wh;break;case"beforeblur":case"afterblur":C=Wh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":C=uv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":C=JA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":C=fb;break;case IE:case AE:case bE:C=tb;break;case RE:C=_b;break;case"scroll":C=XA;break;case"wheel":C=gb;break;case"copy":case"cut":case"paste":C=rb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":C=hv}var A=(e&4)!==0,y=!A&&t==="scroll",p=A?_!==null?_+"Capture":null:_;A=[];for(var g=c,w;g!==null;){w=g;var R=w.stateNode;if(w.tag===5&&R!==null&&(w=R,p!==null&&(R=ea(g,p),R!=null&&A.push(aa(g,R,w)))),y)break;g=g.return}0<A.length&&(_=new C(_,b,null,n,h),d.push({event:_,listeners:A}))}}if(!(e&7)){e:{if(_=t==="mouseover"||t==="pointerover",C=t==="mouseout"||t==="pointerout",_&&n!==lf&&(b=n.relatedTarget||n.fromElement)&&(ti(b)||b[jn]))break e;if((C||_)&&(_=h.window===h?h:(_=h.ownerDocument)?_.defaultView||_.parentWindow:window,C?(b=n.relatedTarget||n.toElement,C=c,b=b?ti(b):null,b!==null&&(y=Ti(b),b!==y||b.tag!==5&&b.tag!==6)&&(b=null)):(C=null,b=c),C!==b)){if(A=uv,R="onMouseLeave",p="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(A=hv,R="onPointerLeave",p="onPointerEnter",g="pointer"),y=C==null?_:es(C),w=b==null?_:es(b),_=new A(R,g+"leave",C,n,h),_.target=y,_.relatedTarget=w,R=null,ti(h)===c&&(A=new A(p,g+"enter",b,n,h),A.target=w,A.relatedTarget=y,R=A),y=R,C&&b)t:{for(A=C,p=b,g=0,w=A;w;w=Mi(w))g++;for(w=0,R=p;R;R=Mi(R))w++;for(;0<g-w;)A=Mi(A),g--;for(;0<w-g;)p=Mi(p),w--;for(;g--;){if(A===p||p!==null&&A===p.alternate)break t;A=Mi(A),p=Mi(p)}A=null}else A=null;C!==null&&Tv(d,_,C,A,!1),b!==null&&y!==null&&Tv(d,y,b,A,!0)}}e:{if(_=c?es(c):window,C=_.nodeName&&_.nodeName.toLowerCase(),C==="select"||C==="input"&&_.type==="file")var L=xb;else if(pv(_))if(EE)L=bb;else{L=Ib;var P=Cb}else(C=_.nodeName)&&C.toLowerCase()==="input"&&(_.type==="checkbox"||_.type==="radio")&&(L=Ab);if(L&&(L=L(t,c))){wE(d,L,n,h);break e}P&&P(t,_,c),t==="focusout"&&(P=_._wrapperState)&&P.controlled&&_.type==="number"&&nf(_,"number",_.value)}switch(P=c?es(c):window,t){case"focusin":(pv(P)||P.contentEditable==="true")&&(Ji=P,_f=c,zo=null);break;case"focusout":zo=_f=Ji=null;break;case"mousedown":mf=!0;break;case"contextmenu":case"mouseup":case"dragend":mf=!1,yv(d,n,h);break;case"selectionchange":if(Pb)break;case"keydown":case"keyup":yv(d,n,h)}var E;if(Hp)e:{switch(t){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Yi?vE(t,n)&&(v="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(v="onCompositionStart");v&&(gE&&n.locale!=="ko"&&(Yi||v!=="onCompositionStart"?v==="onCompositionEnd"&&Yi&&(E=mE()):(fr=h,zp="value"in fr?fr.value:fr.textContent,Yi=!0)),P=Ru(c,v),0<P.length&&(v=new cv(v,t,null,n,h),d.push({event:v,listeners:P}),E?v.data=E:(E=yE(n),E!==null&&(v.data=E)))),(E=yb?wb(t,n):Eb(t,n))&&(c=Ru(c,"onBeforeInput"),0<c.length&&(h=new cv("onBeforeInput","beforeinput",null,n,h),d.push({event:h,listeners:c}),h.data=E))}PE(d,e)})}function aa(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ru(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=ea(t,n),s!=null&&r.unshift(aa(t,s,i)),s=ea(t,e),s!=null&&r.push(aa(t,s,i))),t=t.return}return r}function Mi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Tv(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=ea(n,s),l!=null&&o.unshift(aa(n,l,a))):i||(l=ea(n,s),l!=null&&o.push(aa(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Lb=/\r\n?/g,Mb=/\u0000|\uFFFD/g;function Sv(t){return(typeof t=="string"?t:""+t).replace(Lb,`
`).replace(Mb,"")}function Al(t,e,n){if(e=Sv(e),Sv(t)!==e&&n)throw Error(B(425))}function ku(){}var gf=null,vf=null;function yf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var wf=typeof setTimeout=="function"?setTimeout:void 0,Fb=typeof clearTimeout=="function"?clearTimeout:void 0,xv=typeof Promise=="function"?Promise:void 0,Vb=typeof queueMicrotask=="function"?queueMicrotask:typeof xv<"u"?function(t){return xv.resolve(null).then(t).catch(jb)}:wf;function jb(t){setTimeout(function(){throw t})}function Jh(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),ra(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ra(e)}function Sr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Cv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var qs=Math.random().toString(36).slice(2),dn="__reactFiber$"+qs,la="__reactProps$"+qs,jn="__reactContainer$"+qs,Ef="__reactEvents$"+qs,Ub="__reactListeners$"+qs,$b="__reactHandles$"+qs;function ti(t){var e=t[dn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[jn]||n[dn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Cv(t);t!==null;){if(n=t[dn])return n;t=Cv(t)}return e}t=n,n=t.parentNode}return null}function Oa(t){return t=t[dn]||t[jn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function es(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(B(33))}function xc(t){return t[la]||null}var Tf=[],ts=-1;function zr(t){return{current:t}}function Ee(t){0>ts||(t.current=Tf[ts],Tf[ts]=null,ts--)}function ve(t,e){ts++,Tf[ts]=t.current,t.current=e}var Mr={},dt=zr(Mr),Ct=zr(!1),ci=Mr;function xs(t,e){var n=t.type.contextTypes;if(!n)return Mr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function It(t){return t=t.childContextTypes,t!=null}function Pu(){Ee(Ct),Ee(dt)}function Iv(t,e,n){if(dt.current!==Mr)throw Error(B(168));ve(dt,e),ve(Ct,n)}function OE(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(B(108,CA(t)||"Unknown",i));return Ae({},n,r)}function Nu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Mr,ci=dt.current,ve(dt,t),ve(Ct,Ct.current),!0}function Av(t,e,n){var r=t.stateNode;if(!r)throw Error(B(169));n?(t=OE(t,e,ci),r.__reactInternalMemoizedMergedChildContext=t,Ee(Ct),Ee(dt),ve(dt,t)):Ee(Ct),ve(Ct,n)}var kn=null,Cc=!1,Zh=!1;function DE(t){kn===null?kn=[t]:kn.push(t)}function Bb(t){Cc=!0,DE(t)}function Wr(){if(!Zh&&kn!==null){Zh=!0;var t=0,e=_e;try{var n=kn;for(_e=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}kn=null,Cc=!1}catch(i){throw kn!==null&&(kn=kn.slice(t+1)),sE(jp,Wr),i}finally{_e=e,Zh=!1}}return null}var ns=[],rs=0,Ou=null,Du=0,Bt=[],zt=0,hi=null,Pn=1,Nn="";function Jr(t,e){ns[rs++]=Du,ns[rs++]=Ou,Ou=t,Du=e}function LE(t,e,n){Bt[zt++]=Pn,Bt[zt++]=Nn,Bt[zt++]=hi,hi=t;var r=Pn;t=Nn;var i=32-tn(r)-1;r&=~(1<<i),n+=1;var s=32-tn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Pn=1<<32-tn(e)+i|n<<i|r,Nn=s+t}else Pn=1<<s|n<<i|r,Nn=t}function Gp(t){t.return!==null&&(Jr(t,1),LE(t,1,0))}function Qp(t){for(;t===Ou;)Ou=ns[--rs],ns[rs]=null,Du=ns[--rs],ns[rs]=null;for(;t===hi;)hi=Bt[--zt],Bt[zt]=null,Nn=Bt[--zt],Bt[zt]=null,Pn=Bt[--zt],Bt[zt]=null}var Lt=null,Dt=null,xe=!1,en=null;function ME(t,e){var n=Wt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function bv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Lt=t,Dt=Sr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Lt=t,Dt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=hi!==null?{id:Pn,overflow:Nn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Wt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Lt=t,Dt=null,!0):!1;default:return!1}}function Sf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function xf(t){if(xe){var e=Dt;if(e){var n=e;if(!bv(t,e)){if(Sf(t))throw Error(B(418));e=Sr(n.nextSibling);var r=Lt;e&&bv(t,e)?ME(r,n):(t.flags=t.flags&-4097|2,xe=!1,Lt=t)}}else{if(Sf(t))throw Error(B(418));t.flags=t.flags&-4097|2,xe=!1,Lt=t}}}function Rv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Lt=t}function bl(t){if(t!==Lt)return!1;if(!xe)return Rv(t),xe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!yf(t.type,t.memoizedProps)),e&&(e=Dt)){if(Sf(t))throw FE(),Error(B(418));for(;e;)ME(t,e),e=Sr(e.nextSibling)}if(Rv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(B(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Dt=Sr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Dt=null}}else Dt=Lt?Sr(t.stateNode.nextSibling):null;return!0}function FE(){for(var t=Dt;t;)t=Sr(t.nextSibling)}function Cs(){Dt=Lt=null,xe=!1}function Xp(t){en===null?en=[t]:en.push(t)}var zb=Gn.ReactCurrentBatchConfig;function To(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var r=n.stateNode}if(!r)throw Error(B(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,t))}return t}function Rl(t,e){throw t=Object.prototype.toString.call(e),Error(B(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function kv(t){var e=t._init;return e(t._payload)}function VE(t){function e(p,g){if(t){var w=p.deletions;w===null?(p.deletions=[g],p.flags|=16):w.push(g)}}function n(p,g){if(!t)return null;for(;g!==null;)e(p,g),g=g.sibling;return null}function r(p,g){for(p=new Map;g!==null;)g.key!==null?p.set(g.key,g):p.set(g.index,g),g=g.sibling;return p}function i(p,g){return p=Ar(p,g),p.index=0,p.sibling=null,p}function s(p,g,w){return p.index=w,t?(w=p.alternate,w!==null?(w=w.index,w<g?(p.flags|=2,g):w):(p.flags|=2,g)):(p.flags|=1048576,g)}function o(p){return t&&p.alternate===null&&(p.flags|=2),p}function a(p,g,w,R){return g===null||g.tag!==6?(g=od(w,p.mode,R),g.return=p,g):(g=i(g,w),g.return=p,g)}function l(p,g,w,R){var L=w.type;return L===Xi?h(p,g,w.props.children,R,w.key):g!==null&&(g.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===sr&&kv(L)===g.type)?(R=i(g,w.props),R.ref=To(p,g,w),R.return=p,R):(R=cu(w.type,w.key,w.props,null,p.mode,R),R.ref=To(p,g,w),R.return=p,R)}function c(p,g,w,R){return g===null||g.tag!==4||g.stateNode.containerInfo!==w.containerInfo||g.stateNode.implementation!==w.implementation?(g=ad(w,p.mode,R),g.return=p,g):(g=i(g,w.children||[]),g.return=p,g)}function h(p,g,w,R,L){return g===null||g.tag!==7?(g=oi(w,p.mode,R,L),g.return=p,g):(g=i(g,w),g.return=p,g)}function d(p,g,w){if(typeof g=="string"&&g!==""||typeof g=="number")return g=od(""+g,p.mode,w),g.return=p,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case vl:return w=cu(g.type,g.key,g.props,null,p.mode,w),w.ref=To(p,null,g),w.return=p,w;case Qi:return g=ad(g,p.mode,w),g.return=p,g;case sr:var R=g._init;return d(p,R(g._payload),w)}if(ko(g)||go(g))return g=oi(g,p.mode,w,null),g.return=p,g;Rl(p,g)}return null}function _(p,g,w,R){var L=g!==null?g.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return L!==null?null:a(p,g,""+w,R);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case vl:return w.key===L?l(p,g,w,R):null;case Qi:return w.key===L?c(p,g,w,R):null;case sr:return L=w._init,_(p,g,L(w._payload),R)}if(ko(w)||go(w))return L!==null?null:h(p,g,w,R,null);Rl(p,w)}return null}function C(p,g,w,R,L){if(typeof R=="string"&&R!==""||typeof R=="number")return p=p.get(w)||null,a(g,p,""+R,L);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case vl:return p=p.get(R.key===null?w:R.key)||null,l(g,p,R,L);case Qi:return p=p.get(R.key===null?w:R.key)||null,c(g,p,R,L);case sr:var P=R._init;return C(p,g,w,P(R._payload),L)}if(ko(R)||go(R))return p=p.get(w)||null,h(g,p,R,L,null);Rl(g,R)}return null}function b(p,g,w,R){for(var L=null,P=null,E=g,v=g=0,I=null;E!==null&&v<w.length;v++){E.index>v?(I=E,E=null):I=E.sibling;var f=_(p,E,w[v],R);if(f===null){E===null&&(E=I);break}t&&E&&f.alternate===null&&e(p,E),g=s(f,g,v),P===null?L=f:P.sibling=f,P=f,E=I}if(v===w.length)return n(p,E),xe&&Jr(p,v),L;if(E===null){for(;v<w.length;v++)E=d(p,w[v],R),E!==null&&(g=s(E,g,v),P===null?L=E:P.sibling=E,P=E);return xe&&Jr(p,v),L}for(E=r(p,E);v<w.length;v++)I=C(E,p,v,w[v],R),I!==null&&(t&&I.alternate!==null&&E.delete(I.key===null?v:I.key),g=s(I,g,v),P===null?L=I:P.sibling=I,P=I);return t&&E.forEach(function(k){return e(p,k)}),xe&&Jr(p,v),L}function A(p,g,w,R){var L=go(w);if(typeof L!="function")throw Error(B(150));if(w=L.call(w),w==null)throw Error(B(151));for(var P=L=null,E=g,v=g=0,I=null,f=w.next();E!==null&&!f.done;v++,f=w.next()){E.index>v?(I=E,E=null):I=E.sibling;var k=_(p,E,f.value,R);if(k===null){E===null&&(E=I);break}t&&E&&k.alternate===null&&e(p,E),g=s(k,g,v),P===null?L=k:P.sibling=k,P=k,E=I}if(f.done)return n(p,E),xe&&Jr(p,v),L;if(E===null){for(;!f.done;v++,f=w.next())f=d(p,f.value,R),f!==null&&(g=s(f,g,v),P===null?L=f:P.sibling=f,P=f);return xe&&Jr(p,v),L}for(E=r(p,E);!f.done;v++,f=w.next())f=C(E,p,v,f.value,R),f!==null&&(t&&f.alternate!==null&&E.delete(f.key===null?v:f.key),g=s(f,g,v),P===null?L=f:P.sibling=f,P=f);return t&&E.forEach(function(N){return e(p,N)}),xe&&Jr(p,v),L}function y(p,g,w,R){if(typeof w=="object"&&w!==null&&w.type===Xi&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case vl:e:{for(var L=w.key,P=g;P!==null;){if(P.key===L){if(L=w.type,L===Xi){if(P.tag===7){n(p,P.sibling),g=i(P,w.props.children),g.return=p,p=g;break e}}else if(P.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===sr&&kv(L)===P.type){n(p,P.sibling),g=i(P,w.props),g.ref=To(p,P,w),g.return=p,p=g;break e}n(p,P);break}else e(p,P);P=P.sibling}w.type===Xi?(g=oi(w.props.children,p.mode,R,w.key),g.return=p,p=g):(R=cu(w.type,w.key,w.props,null,p.mode,R),R.ref=To(p,g,w),R.return=p,p=R)}return o(p);case Qi:e:{for(P=w.key;g!==null;){if(g.key===P)if(g.tag===4&&g.stateNode.containerInfo===w.containerInfo&&g.stateNode.implementation===w.implementation){n(p,g.sibling),g=i(g,w.children||[]),g.return=p,p=g;break e}else{n(p,g);break}else e(p,g);g=g.sibling}g=ad(w,p.mode,R),g.return=p,p=g}return o(p);case sr:return P=w._init,y(p,g,P(w._payload),R)}if(ko(w))return b(p,g,w,R);if(go(w))return A(p,g,w,R);Rl(p,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,g!==null&&g.tag===6?(n(p,g.sibling),g=i(g,w),g.return=p,p=g):(n(p,g),g=od(w,p.mode,R),g.return=p,p=g),o(p)):n(p,g)}return y}var Is=VE(!0),jE=VE(!1),Lu=zr(null),Mu=null,is=null,Yp=null;function Jp(){Yp=is=Mu=null}function Zp(t){var e=Lu.current;Ee(Lu),t._currentValue=e}function Cf(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function fs(t,e){Mu=t,Yp=is=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(xt=!0),t.firstContext=null)}function Kt(t){var e=t._currentValue;if(Yp!==t)if(t={context:t,memoizedValue:e,next:null},is===null){if(Mu===null)throw Error(B(308));is=t,Mu.dependencies={lanes:0,firstContext:t}}else is=is.next=t;return e}var ni=null;function e_(t){ni===null?ni=[t]:ni.push(t)}function UE(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,e_(e)):(n.next=i.next,i.next=n),e.interleaved=n,Un(t,r)}function Un(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var or=!1;function t_(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $E(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Mn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function xr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,he&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Un(t,n)}return i=r.interleaved,i===null?(e.next=e,e_(r)):(e.next=i.next,i.next=e),r.interleaved=e,Un(t,n)}function iu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Up(t,n)}}function Pv(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Fu(t,e,n,r){var i=t.updateQueue;or=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,h=c=l=null,a=s;do{var _=a.lane,C=a.eventTime;if((r&_)===_){h!==null&&(h=h.next={eventTime:C,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var b=t,A=a;switch(_=e,C=n,A.tag){case 1:if(b=A.payload,typeof b=="function"){d=b.call(C,d,_);break e}d=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=A.payload,_=typeof b=="function"?b.call(C,d,_):b,_==null)break e;d=Ae({},d,_);break e;case 2:or=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,_=i.effects,_===null?i.effects=[a]:_.push(a))}else C={eventTime:C,lane:_,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(c=h=C,l=d):h=h.next=C,o|=_;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;_=a,a=_.next,_.next=null,i.lastBaseUpdate=_,i.shared.pending=null}}while(!0);if(h===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);fi|=o,t.lanes=o,t.memoizedState=d}}function Nv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(B(191,i));i.call(r)}}}var Da={},gn=zr(Da),ua=zr(Da),ca=zr(Da);function ri(t){if(t===Da)throw Error(B(174));return t}function n_(t,e){switch(ve(ca,e),ve(ua,t),ve(gn,Da),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:sf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=sf(e,t)}Ee(gn),ve(gn,e)}function As(){Ee(gn),Ee(ua),Ee(ca)}function BE(t){ri(ca.current);var e=ri(gn.current),n=sf(e,t.type);e!==n&&(ve(ua,t),ve(gn,n))}function r_(t){ua.current===t&&(Ee(gn),Ee(ua))}var Ce=zr(0);function Vu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ed=[];function i_(){for(var t=0;t<ed.length;t++)ed[t]._workInProgressVersionPrimary=null;ed.length=0}var su=Gn.ReactCurrentDispatcher,td=Gn.ReactCurrentBatchConfig,di=0,Ie=null,$e=null,We=null,ju=!1,Wo=!1,ha=0,Wb=0;function st(){throw Error(B(321))}function s_(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!rn(t[n],e[n]))return!1;return!0}function o_(t,e,n,r,i,s){if(di=s,Ie=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,su.current=t===null||t.memoizedState===null?Gb:Qb,t=n(r,i),Wo){s=0;do{if(Wo=!1,ha=0,25<=s)throw Error(B(301));s+=1,We=$e=null,e.updateQueue=null,su.current=Xb,t=n(r,i)}while(Wo)}if(su.current=Uu,e=$e!==null&&$e.next!==null,di=0,We=$e=Ie=null,ju=!1,e)throw Error(B(300));return t}function a_(){var t=ha!==0;return ha=0,t}function cn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return We===null?Ie.memoizedState=We=t:We=We.next=t,We}function Gt(){if($e===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=$e.next;var e=We===null?Ie.memoizedState:We.next;if(e!==null)We=e,$e=t;else{if(t===null)throw Error(B(310));$e=t,t={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},We===null?Ie.memoizedState=We=t:We=We.next=t}return We}function da(t,e){return typeof e=="function"?e(t):e}function nd(t){var e=Gt(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=$e,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var h=c.lane;if((di&h)===h)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,Ie.lanes|=h,fi|=h}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,rn(r,e.memoizedState)||(xt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Ie.lanes|=s,fi|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function rd(t){var e=Gt(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);rn(s,e.memoizedState)||(xt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function zE(){}function WE(t,e){var n=Ie,r=Gt(),i=e(),s=!rn(r.memoizedState,i);if(s&&(r.memoizedState=i,xt=!0),r=r.queue,l_(KE.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||We!==null&&We.memoizedState.tag&1){if(n.flags|=2048,fa(9,HE.bind(null,n,r,i,e),void 0,null),qe===null)throw Error(B(349));di&30||qE(n,e,i)}return i}function qE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ie.updateQueue,e===null?(e={lastEffect:null,stores:null},Ie.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function HE(t,e,n,r){e.value=n,e.getSnapshot=r,GE(e)&&QE(t)}function KE(t,e,n){return n(function(){GE(e)&&QE(t)})}function GE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!rn(t,n)}catch{return!0}}function QE(t){var e=Un(t,1);e!==null&&nn(e,t,1,-1)}function Ov(t){var e=cn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:da,lastRenderedState:t},e.queue=t,t=t.dispatch=Kb.bind(null,Ie,t),[e.memoizedState,t]}function fa(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ie.updateQueue,e===null?(e={lastEffect:null,stores:null},Ie.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function XE(){return Gt().memoizedState}function ou(t,e,n,r){var i=cn();Ie.flags|=t,i.memoizedState=fa(1|e,n,void 0,r===void 0?null:r)}function Ic(t,e,n,r){var i=Gt();r=r===void 0?null:r;var s=void 0;if($e!==null){var o=$e.memoizedState;if(s=o.destroy,r!==null&&s_(r,o.deps)){i.memoizedState=fa(e,n,s,r);return}}Ie.flags|=t,i.memoizedState=fa(1|e,n,s,r)}function Dv(t,e){return ou(8390656,8,t,e)}function l_(t,e){return Ic(2048,8,t,e)}function YE(t,e){return Ic(4,2,t,e)}function JE(t,e){return Ic(4,4,t,e)}function ZE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function e1(t,e,n){return n=n!=null?n.concat([t]):null,Ic(4,4,ZE.bind(null,e,t),n)}function u_(){}function t1(t,e){var n=Gt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&s_(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function n1(t,e){var n=Gt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&s_(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function r1(t,e,n){return di&21?(rn(n,e)||(n=lE(),Ie.lanes|=n,fi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,xt=!0),t.memoizedState=n)}function qb(t,e){var n=_e;_e=n!==0&&4>n?n:4,t(!0);var r=td.transition;td.transition={};try{t(!1),e()}finally{_e=n,td.transition=r}}function i1(){return Gt().memoizedState}function Hb(t,e,n){var r=Ir(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},s1(t))o1(e,n);else if(n=UE(t,e,n,r),n!==null){var i=vt();nn(n,t,r,i),a1(n,e,r)}}function Kb(t,e,n){var r=Ir(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(s1(t))o1(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,rn(a,o)){var l=e.interleaved;l===null?(i.next=i,e_(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=UE(t,e,i,r),n!==null&&(i=vt(),nn(n,t,r,i),a1(n,e,r))}}function s1(t){var e=t.alternate;return t===Ie||e!==null&&e===Ie}function o1(t,e){Wo=ju=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function a1(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Up(t,n)}}var Uu={readContext:Kt,useCallback:st,useContext:st,useEffect:st,useImperativeHandle:st,useInsertionEffect:st,useLayoutEffect:st,useMemo:st,useReducer:st,useRef:st,useState:st,useDebugValue:st,useDeferredValue:st,useTransition:st,useMutableSource:st,useSyncExternalStore:st,useId:st,unstable_isNewReconciler:!1},Gb={readContext:Kt,useCallback:function(t,e){return cn().memoizedState=[t,e===void 0?null:e],t},useContext:Kt,useEffect:Dv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ou(4194308,4,ZE.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ou(4194308,4,t,e)},useInsertionEffect:function(t,e){return ou(4,2,t,e)},useMemo:function(t,e){var n=cn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=cn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Hb.bind(null,Ie,t),[r.memoizedState,t]},useRef:function(t){var e=cn();return t={current:t},e.memoizedState=t},useState:Ov,useDebugValue:u_,useDeferredValue:function(t){return cn().memoizedState=t},useTransition:function(){var t=Ov(!1),e=t[0];return t=qb.bind(null,t[1]),cn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ie,i=cn();if(xe){if(n===void 0)throw Error(B(407));n=n()}else{if(n=e(),qe===null)throw Error(B(349));di&30||qE(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Dv(KE.bind(null,r,s,t),[t]),r.flags|=2048,fa(9,HE.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=cn(),e=qe.identifierPrefix;if(xe){var n=Nn,r=Pn;n=(r&~(1<<32-tn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ha++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Wb++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Qb={readContext:Kt,useCallback:t1,useContext:Kt,useEffect:l_,useImperativeHandle:e1,useInsertionEffect:YE,useLayoutEffect:JE,useMemo:n1,useReducer:nd,useRef:XE,useState:function(){return nd(da)},useDebugValue:u_,useDeferredValue:function(t){var e=Gt();return r1(e,$e.memoizedState,t)},useTransition:function(){var t=nd(da)[0],e=Gt().memoizedState;return[t,e]},useMutableSource:zE,useSyncExternalStore:WE,useId:i1,unstable_isNewReconciler:!1},Xb={readContext:Kt,useCallback:t1,useContext:Kt,useEffect:l_,useImperativeHandle:e1,useInsertionEffect:YE,useLayoutEffect:JE,useMemo:n1,useReducer:rd,useRef:XE,useState:function(){return rd(da)},useDebugValue:u_,useDeferredValue:function(t){var e=Gt();return $e===null?e.memoizedState=t:r1(e,$e.memoizedState,t)},useTransition:function(){var t=rd(da)[0],e=Gt().memoizedState;return[t,e]},useMutableSource:zE,useSyncExternalStore:WE,useId:i1,unstable_isNewReconciler:!1};function Jt(t,e){if(t&&t.defaultProps){e=Ae({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function If(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ae({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ac={isMounted:function(t){return(t=t._reactInternals)?Ti(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=vt(),i=Ir(t),s=Mn(r,i);s.payload=e,n!=null&&(s.callback=n),e=xr(t,s,i),e!==null&&(nn(e,t,i,r),iu(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=vt(),i=Ir(t),s=Mn(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=xr(t,s,i),e!==null&&(nn(e,t,i,r),iu(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=vt(),r=Ir(t),i=Mn(n,r);i.tag=2,e!=null&&(i.callback=e),e=xr(t,i,r),e!==null&&(nn(e,t,r,n),iu(e,t,r))}};function Lv(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!sa(n,r)||!sa(i,s):!0}function l1(t,e,n){var r=!1,i=Mr,s=e.contextType;return typeof s=="object"&&s!==null?s=Kt(s):(i=It(e)?ci:dt.current,r=e.contextTypes,s=(r=r!=null)?xs(t,i):Mr),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ac,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Mv(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Ac.enqueueReplaceState(e,e.state,null)}function Af(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},t_(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Kt(s):(s=It(e)?ci:dt.current,i.context=xs(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(If(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Ac.enqueueReplaceState(i,i.state,null),Fu(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function bs(t,e){try{var n="",r=e;do n+=xA(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function id(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function bf(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Yb=typeof WeakMap=="function"?WeakMap:Map;function u1(t,e,n){n=Mn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Bu||(Bu=!0,Vf=r),bf(t,e)},n}function c1(t,e,n){n=Mn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){bf(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){bf(t,e),typeof r!="function"&&(Cr===null?Cr=new Set([this]):Cr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Fv(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Yb;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=hR.bind(null,t,e,n),e.then(t,t))}function Vv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function jv(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Mn(-1,1),e.tag=2,xr(n,e,1))),n.lanes|=1),t)}var Jb=Gn.ReactCurrentOwner,xt=!1;function gt(t,e,n,r){e.child=t===null?jE(e,null,n,r):Is(e,t.child,n,r)}function Uv(t,e,n,r,i){n=n.render;var s=e.ref;return fs(e,i),r=o_(t,e,n,r,s,i),n=a_(),t!==null&&!xt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,$n(t,e,i)):(xe&&n&&Gp(e),e.flags|=1,gt(t,e,r,i),e.child)}function $v(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!g_(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,h1(t,e,s,r,i)):(t=cu(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:sa,n(o,r)&&t.ref===e.ref)return $n(t,e,i)}return e.flags|=1,t=Ar(s,r),t.ref=e.ref,t.return=e,e.child=t}function h1(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(sa(s,r)&&t.ref===e.ref)if(xt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(xt=!0);else return e.lanes=t.lanes,$n(t,e,i)}return Rf(t,e,n,r,i)}function d1(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ve(os,Pt),Pt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ve(os,Pt),Pt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ve(os,Pt),Pt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,ve(os,Pt),Pt|=r;return gt(t,e,i,n),e.child}function f1(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Rf(t,e,n,r,i){var s=It(n)?ci:dt.current;return s=xs(e,s),fs(e,i),n=o_(t,e,n,r,s,i),r=a_(),t!==null&&!xt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,$n(t,e,i)):(xe&&r&&Gp(e),e.flags|=1,gt(t,e,n,i),e.child)}function Bv(t,e,n,r,i){if(It(n)){var s=!0;Nu(e)}else s=!1;if(fs(e,i),e.stateNode===null)au(t,e),l1(e,n,r),Af(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Kt(c):(c=It(n)?ci:dt.current,c=xs(e,c));var h=n.getDerivedStateFromProps,d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&Mv(e,o,r,c),or=!1;var _=e.memoizedState;o.state=_,Fu(e,r,o,i),l=e.memoizedState,a!==r||_!==l||Ct.current||or?(typeof h=="function"&&(If(e,n,h,r),l=e.memoizedState),(a=or||Lv(e,n,a,r,_,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,$E(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Jt(e.type,a),o.props=c,d=e.pendingProps,_=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Kt(l):(l=It(n)?ci:dt.current,l=xs(e,l));var C=n.getDerivedStateFromProps;(h=typeof C=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||_!==l)&&Mv(e,o,r,l),or=!1,_=e.memoizedState,o.state=_,Fu(e,r,o,i);var b=e.memoizedState;a!==d||_!==b||Ct.current||or?(typeof C=="function"&&(If(e,n,C,r),b=e.memoizedState),(c=or||Lv(e,n,c,r,_,b,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,b,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,b,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&_===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&_===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=b),o.props=r,o.state=b,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&_===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&_===t.memoizedState||(e.flags|=1024),r=!1)}return kf(t,e,n,r,s,i)}function kf(t,e,n,r,i,s){f1(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Av(e,n,!1),$n(t,e,s);r=e.stateNode,Jb.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Is(e,t.child,null,s),e.child=Is(e,null,a,s)):gt(t,e,a,s),e.memoizedState=r.state,i&&Av(e,n,!0),e.child}function p1(t){var e=t.stateNode;e.pendingContext?Iv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Iv(t,e.context,!1),n_(t,e.containerInfo)}function zv(t,e,n,r,i){return Cs(),Xp(i),e.flags|=256,gt(t,e,n,r),e.child}var Pf={dehydrated:null,treeContext:null,retryLane:0};function Nf(t){return{baseLanes:t,cachePool:null,transitions:null}}function _1(t,e,n){var r=e.pendingProps,i=Ce.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ve(Ce,i&1),t===null)return xf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=kc(o,r,0,null),t=oi(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Nf(n),e.memoizedState=Pf,t):c_(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Zb(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ar(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Ar(a,s):(s=oi(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Nf(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Pf,r}return s=t.child,t=s.sibling,r=Ar(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function c_(t,e){return e=kc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function kl(t,e,n,r){return r!==null&&Xp(r),Is(e,t.child,null,n),t=c_(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Zb(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=id(Error(B(422))),kl(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=kc({mode:"visible",children:r.children},i,0,null),s=oi(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Is(e,t.child,null,o),e.child.memoizedState=Nf(o),e.memoizedState=Pf,s);if(!(e.mode&1))return kl(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(B(419)),r=id(s,r,void 0),kl(t,e,o,r)}if(a=(o&t.childLanes)!==0,xt||a){if(r=qe,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Un(t,i),nn(r,t,i,-1))}return m_(),r=id(Error(B(421))),kl(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=dR.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Dt=Sr(i.nextSibling),Lt=e,xe=!0,en=null,t!==null&&(Bt[zt++]=Pn,Bt[zt++]=Nn,Bt[zt++]=hi,Pn=t.id,Nn=t.overflow,hi=e),e=c_(e,r.children),e.flags|=4096,e)}function Wv(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Cf(t.return,e,n)}function sd(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function m1(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(gt(t,e,r.children,n),r=Ce.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Wv(t,n,e);else if(t.tag===19)Wv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ve(Ce,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Vu(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),sd(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Vu(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}sd(e,!0,n,null,s);break;case"together":sd(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function au(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function $n(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),fi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(B(153));if(e.child!==null){for(t=e.child,n=Ar(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ar(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function eR(t,e,n){switch(e.tag){case 3:p1(e),Cs();break;case 5:BE(e);break;case 1:It(e.type)&&Nu(e);break;case 4:n_(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ve(Lu,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ve(Ce,Ce.current&1),e.flags|=128,null):n&e.child.childLanes?_1(t,e,n):(ve(Ce,Ce.current&1),t=$n(t,e,n),t!==null?t.sibling:null);ve(Ce,Ce.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return m1(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ve(Ce,Ce.current),r)break;return null;case 22:case 23:return e.lanes=0,d1(t,e,n)}return $n(t,e,n)}var g1,Of,v1,y1;g1=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Of=function(){};v1=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ri(gn.current);var s=null;switch(n){case"input":i=ef(t,i),r=ef(t,r),s=[];break;case"select":i=Ae({},i,{value:void 0}),r=Ae({},r,{value:void 0}),s=[];break;case"textarea":i=rf(t,i),r=rf(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ku)}of(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Jo.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Jo.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&we("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};y1=function(t,e,n,r){n!==r&&(e.flags|=4)};function So(t,e){if(!xe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ot(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function tR(t,e,n){var r=e.pendingProps;switch(Qp(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(e),null;case 1:return It(e.type)&&Pu(),ot(e),null;case 3:return r=e.stateNode,As(),Ee(Ct),Ee(dt),i_(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(bl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,en!==null&&($f(en),en=null))),Of(t,e),ot(e),null;case 5:r_(e);var i=ri(ca.current);if(n=e.type,t!==null&&e.stateNode!=null)v1(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(B(166));return ot(e),null}if(t=ri(gn.current),bl(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[dn]=e,r[la]=s,t=(e.mode&1)!==0,n){case"dialog":we("cancel",r),we("close",r);break;case"iframe":case"object":case"embed":we("load",r);break;case"video":case"audio":for(i=0;i<No.length;i++)we(No[i],r);break;case"source":we("error",r);break;case"img":case"image":case"link":we("error",r),we("load",r);break;case"details":we("toggle",r);break;case"input":Zg(r,s),we("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},we("invalid",r);break;case"textarea":tv(r,s),we("invalid",r)}of(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Al(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Al(r.textContent,a,t),i=["children",""+a]):Jo.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&we("scroll",r)}switch(n){case"input":yl(r),ev(r,s,!0);break;case"textarea":yl(r),nv(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=ku)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Kw(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[dn]=e,t[la]=r,g1(t,e,!1,!1),e.stateNode=t;e:{switch(o=af(n,r),n){case"dialog":we("cancel",t),we("close",t),i=r;break;case"iframe":case"object":case"embed":we("load",t),i=r;break;case"video":case"audio":for(i=0;i<No.length;i++)we(No[i],t);i=r;break;case"source":we("error",t),i=r;break;case"img":case"image":case"link":we("error",t),we("load",t),i=r;break;case"details":we("toggle",t),i=r;break;case"input":Zg(t,r),i=ef(t,r),we("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ae({},r,{value:void 0}),we("invalid",t);break;case"textarea":tv(t,r),i=rf(t,r),we("invalid",t);break;default:i=r}of(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Xw(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Gw(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Zo(t,l):typeof l=="number"&&Zo(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Jo.hasOwnProperty(s)?l!=null&&s==="onScroll"&&we("scroll",t):l!=null&&Dp(t,s,l,o))}switch(n){case"input":yl(t),ev(t,r,!1);break;case"textarea":yl(t),nv(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Lr(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?us(t,!!r.multiple,s,!1):r.defaultValue!=null&&us(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=ku)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ot(e),null;case 6:if(t&&e.stateNode!=null)y1(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(B(166));if(n=ri(ca.current),ri(gn.current),bl(e)){if(r=e.stateNode,n=e.memoizedProps,r[dn]=e,(s=r.nodeValue!==n)&&(t=Lt,t!==null))switch(t.tag){case 3:Al(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Al(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[dn]=e,e.stateNode=r}return ot(e),null;case 13:if(Ee(Ce),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(xe&&Dt!==null&&e.mode&1&&!(e.flags&128))FE(),Cs(),e.flags|=98560,s=!1;else if(s=bl(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(B(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(B(317));s[dn]=e}else Cs(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ot(e),s=!1}else en!==null&&($f(en),en=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ce.current&1?Be===0&&(Be=3):m_())),e.updateQueue!==null&&(e.flags|=4),ot(e),null);case 4:return As(),Of(t,e),t===null&&oa(e.stateNode.containerInfo),ot(e),null;case 10:return Zp(e.type._context),ot(e),null;case 17:return It(e.type)&&Pu(),ot(e),null;case 19:if(Ee(Ce),s=e.memoizedState,s===null)return ot(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)So(s,!1);else{if(Be!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Vu(t),o!==null){for(e.flags|=128,So(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ve(Ce,Ce.current&1|2),e.child}t=t.sibling}s.tail!==null&&Oe()>Rs&&(e.flags|=128,r=!0,So(s,!1),e.lanes=4194304)}else{if(!r)if(t=Vu(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),So(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!xe)return ot(e),null}else 2*Oe()-s.renderingStartTime>Rs&&n!==1073741824&&(e.flags|=128,r=!0,So(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Oe(),e.sibling=null,n=Ce.current,ve(Ce,r?n&1|2:n&1),e):(ot(e),null);case 22:case 23:return __(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Pt&1073741824&&(ot(e),e.subtreeFlags&6&&(e.flags|=8192)):ot(e),null;case 24:return null;case 25:return null}throw Error(B(156,e.tag))}function nR(t,e){switch(Qp(e),e.tag){case 1:return It(e.type)&&Pu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return As(),Ee(Ct),Ee(dt),i_(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return r_(e),null;case 13:if(Ee(Ce),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(B(340));Cs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ee(Ce),null;case 4:return As(),null;case 10:return Zp(e.type._context),null;case 22:case 23:return __(),null;case 24:return null;default:return null}}var Pl=!1,ut=!1,rR=typeof WeakSet=="function"?WeakSet:Set,K=null;function ss(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ke(t,e,r)}else n.current=null}function Df(t,e,n){try{n()}catch(r){ke(t,e,r)}}var qv=!1;function iR(t,e){if(gf=Au,t=xE(),Kp(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,h=0,d=t,_=null;t:for(;;){for(var C;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(C=d.firstChild)!==null;)_=d,d=C;for(;;){if(d===t)break t;if(_===n&&++c===i&&(a=o),_===s&&++h===r&&(l=o),(C=d.nextSibling)!==null)break;d=_,_=d.parentNode}d=C}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(vf={focusedElem:t,selectionRange:n},Au=!1,K=e;K!==null;)if(e=K,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,K=t;else for(;K!==null;){e=K;try{var b=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var A=b.memoizedProps,y=b.memoizedState,p=e.stateNode,g=p.getSnapshotBeforeUpdate(e.elementType===e.type?A:Jt(e.type,A),y);p.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(R){ke(e,e.return,R)}if(t=e.sibling,t!==null){t.return=e.return,K=t;break}K=e.return}return b=qv,qv=!1,b}function qo(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Df(e,n,s)}i=i.next}while(i!==r)}}function bc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Lf(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function w1(t){var e=t.alternate;e!==null&&(t.alternate=null,w1(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[dn],delete e[la],delete e[Ef],delete e[Ub],delete e[$b])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function E1(t){return t.tag===5||t.tag===3||t.tag===4}function Hv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||E1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Mf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ku));else if(r!==4&&(t=t.child,t!==null))for(Mf(t,e,n),t=t.sibling;t!==null;)Mf(t,e,n),t=t.sibling}function Ff(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Ff(t,e,n),t=t.sibling;t!==null;)Ff(t,e,n),t=t.sibling}var Qe=null,Zt=!1;function nr(t,e,n){for(n=n.child;n!==null;)T1(t,e,n),n=n.sibling}function T1(t,e,n){if(mn&&typeof mn.onCommitFiberUnmount=="function")try{mn.onCommitFiberUnmount(wc,n)}catch{}switch(n.tag){case 5:ut||ss(n,e);case 6:var r=Qe,i=Zt;Qe=null,nr(t,e,n),Qe=r,Zt=i,Qe!==null&&(Zt?(t=Qe,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Qe.removeChild(n.stateNode));break;case 18:Qe!==null&&(Zt?(t=Qe,n=n.stateNode,t.nodeType===8?Jh(t.parentNode,n):t.nodeType===1&&Jh(t,n),ra(t)):Jh(Qe,n.stateNode));break;case 4:r=Qe,i=Zt,Qe=n.stateNode.containerInfo,Zt=!0,nr(t,e,n),Qe=r,Zt=i;break;case 0:case 11:case 14:case 15:if(!ut&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Df(n,e,o),i=i.next}while(i!==r)}nr(t,e,n);break;case 1:if(!ut&&(ss(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ke(n,e,a)}nr(t,e,n);break;case 21:nr(t,e,n);break;case 22:n.mode&1?(ut=(r=ut)||n.memoizedState!==null,nr(t,e,n),ut=r):nr(t,e,n);break;default:nr(t,e,n)}}function Kv(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new rR),e.forEach(function(r){var i=fR.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Yt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Qe=a.stateNode,Zt=!1;break e;case 3:Qe=a.stateNode.containerInfo,Zt=!0;break e;case 4:Qe=a.stateNode.containerInfo,Zt=!0;break e}a=a.return}if(Qe===null)throw Error(B(160));T1(s,o,i),Qe=null,Zt=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){ke(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)S1(e,t),e=e.sibling}function S1(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Yt(e,t),un(t),r&4){try{qo(3,t,t.return),bc(3,t)}catch(A){ke(t,t.return,A)}try{qo(5,t,t.return)}catch(A){ke(t,t.return,A)}}break;case 1:Yt(e,t),un(t),r&512&&n!==null&&ss(n,n.return);break;case 5:if(Yt(e,t),un(t),r&512&&n!==null&&ss(n,n.return),t.flags&32){var i=t.stateNode;try{Zo(i,"")}catch(A){ke(t,t.return,A)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&qw(i,s),af(a,o);var c=af(a,s);for(o=0;o<l.length;o+=2){var h=l[o],d=l[o+1];h==="style"?Xw(i,d):h==="dangerouslySetInnerHTML"?Gw(i,d):h==="children"?Zo(i,d):Dp(i,h,d,c)}switch(a){case"input":tf(i,s);break;case"textarea":Hw(i,s);break;case"select":var _=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var C=s.value;C!=null?us(i,!!s.multiple,C,!1):_!==!!s.multiple&&(s.defaultValue!=null?us(i,!!s.multiple,s.defaultValue,!0):us(i,!!s.multiple,s.multiple?[]:"",!1))}i[la]=s}catch(A){ke(t,t.return,A)}}break;case 6:if(Yt(e,t),un(t),r&4){if(t.stateNode===null)throw Error(B(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(A){ke(t,t.return,A)}}break;case 3:if(Yt(e,t),un(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ra(e.containerInfo)}catch(A){ke(t,t.return,A)}break;case 4:Yt(e,t),un(t);break;case 13:Yt(e,t),un(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(f_=Oe())),r&4&&Kv(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(ut=(c=ut)||h,Yt(e,t),ut=c):Yt(e,t),un(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(K=t,h=t.child;h!==null;){for(d=K=h;K!==null;){switch(_=K,C=_.child,_.tag){case 0:case 11:case 14:case 15:qo(4,_,_.return);break;case 1:ss(_,_.return);var b=_.stateNode;if(typeof b.componentWillUnmount=="function"){r=_,n=_.return;try{e=r,b.props=e.memoizedProps,b.state=e.memoizedState,b.componentWillUnmount()}catch(A){ke(r,n,A)}}break;case 5:ss(_,_.return);break;case 22:if(_.memoizedState!==null){Qv(d);continue}}C!==null?(C.return=_,K=C):Qv(d)}h=h.sibling}e:for(h=null,d=t;;){if(d.tag===5){if(h===null){h=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Qw("display",o))}catch(A){ke(t,t.return,A)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(A){ke(t,t.return,A)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Yt(e,t),un(t),r&4&&Kv(t);break;case 21:break;default:Yt(e,t),un(t)}}function un(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(E1(n)){var r=n;break e}n=n.return}throw Error(B(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Zo(i,""),r.flags&=-33);var s=Hv(t);Ff(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Hv(t);Mf(t,a,o);break;default:throw Error(B(161))}}catch(l){ke(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function sR(t,e,n){K=t,x1(t)}function x1(t,e,n){for(var r=(t.mode&1)!==0;K!==null;){var i=K,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Pl;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||ut;a=Pl;var c=ut;if(Pl=o,(ut=l)&&!c)for(K=i;K!==null;)o=K,l=o.child,o.tag===22&&o.memoizedState!==null?Xv(i):l!==null?(l.return=o,K=l):Xv(i);for(;s!==null;)K=s,x1(s),s=s.sibling;K=i,Pl=a,ut=c}Gv(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,K=s):Gv(t)}}function Gv(t){for(;K!==null;){var e=K;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ut||bc(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ut)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Jt(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Nv(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Nv(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&ra(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}ut||e.flags&512&&Lf(e)}catch(_){ke(e,e.return,_)}}if(e===t){K=null;break}if(n=e.sibling,n!==null){n.return=e.return,K=n;break}K=e.return}}function Qv(t){for(;K!==null;){var e=K;if(e===t){K=null;break}var n=e.sibling;if(n!==null){n.return=e.return,K=n;break}K=e.return}}function Xv(t){for(;K!==null;){var e=K;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{bc(4,e)}catch(l){ke(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){ke(e,i,l)}}var s=e.return;try{Lf(e)}catch(l){ke(e,s,l)}break;case 5:var o=e.return;try{Lf(e)}catch(l){ke(e,o,l)}}}catch(l){ke(e,e.return,l)}if(e===t){K=null;break}var a=e.sibling;if(a!==null){a.return=e.return,K=a;break}K=e.return}}var oR=Math.ceil,$u=Gn.ReactCurrentDispatcher,h_=Gn.ReactCurrentOwner,qt=Gn.ReactCurrentBatchConfig,he=0,qe=null,Fe=null,Je=0,Pt=0,os=zr(0),Be=0,pa=null,fi=0,Rc=0,d_=0,Ho=null,St=null,f_=0,Rs=1/0,Rn=null,Bu=!1,Vf=null,Cr=null,Nl=!1,pr=null,zu=0,Ko=0,jf=null,lu=-1,uu=0;function vt(){return he&6?Oe():lu!==-1?lu:lu=Oe()}function Ir(t){return t.mode&1?he&2&&Je!==0?Je&-Je:zb.transition!==null?(uu===0&&(uu=lE()),uu):(t=_e,t!==0||(t=window.event,t=t===void 0?16:_E(t.type)),t):1}function nn(t,e,n,r){if(50<Ko)throw Ko=0,jf=null,Error(B(185));Pa(t,n,r),(!(he&2)||t!==qe)&&(t===qe&&(!(he&2)&&(Rc|=n),Be===4&&lr(t,Je)),At(t,r),n===1&&he===0&&!(e.mode&1)&&(Rs=Oe()+500,Cc&&Wr()))}function At(t,e){var n=t.callbackNode;zA(t,e);var r=Iu(t,t===qe?Je:0);if(r===0)n!==null&&sv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&sv(n),e===1)t.tag===0?Bb(Yv.bind(null,t)):DE(Yv.bind(null,t)),Vb(function(){!(he&6)&&Wr()}),n=null;else{switch(uE(r)){case 1:n=jp;break;case 4:n=oE;break;case 16:n=Cu;break;case 536870912:n=aE;break;default:n=Cu}n=N1(n,C1.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function C1(t,e){if(lu=-1,uu=0,he&6)throw Error(B(327));var n=t.callbackNode;if(ps()&&t.callbackNode!==n)return null;var r=Iu(t,t===qe?Je:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Wu(t,r);else{e=r;var i=he;he|=2;var s=A1();(qe!==t||Je!==e)&&(Rn=null,Rs=Oe()+500,si(t,e));do try{uR();break}catch(a){I1(t,a)}while(!0);Jp(),$u.current=s,he=i,Fe!==null?e=0:(qe=null,Je=0,e=Be)}if(e!==0){if(e===2&&(i=df(t),i!==0&&(r=i,e=Uf(t,i))),e===1)throw n=pa,si(t,0),lr(t,r),At(t,Oe()),n;if(e===6)lr(t,r);else{if(i=t.current.alternate,!(r&30)&&!aR(i)&&(e=Wu(t,r),e===2&&(s=df(t),s!==0&&(r=s,e=Uf(t,s))),e===1))throw n=pa,si(t,0),lr(t,r),At(t,Oe()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(B(345));case 2:Zr(t,St,Rn);break;case 3:if(lr(t,r),(r&130023424)===r&&(e=f_+500-Oe(),10<e)){if(Iu(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){vt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=wf(Zr.bind(null,t,St,Rn),e);break}Zr(t,St,Rn);break;case 4:if(lr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-tn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Oe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*oR(r/1960))-r,10<r){t.timeoutHandle=wf(Zr.bind(null,t,St,Rn),r);break}Zr(t,St,Rn);break;case 5:Zr(t,St,Rn);break;default:throw Error(B(329))}}}return At(t,Oe()),t.callbackNode===n?C1.bind(null,t):null}function Uf(t,e){var n=Ho;return t.current.memoizedState.isDehydrated&&(si(t,e).flags|=256),t=Wu(t,e),t!==2&&(e=St,St=n,e!==null&&$f(e)),t}function $f(t){St===null?St=t:St.push.apply(St,t)}function aR(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!rn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function lr(t,e){for(e&=~d_,e&=~Rc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-tn(e),r=1<<n;t[n]=-1,e&=~r}}function Yv(t){if(he&6)throw Error(B(327));ps();var e=Iu(t,0);if(!(e&1))return At(t,Oe()),null;var n=Wu(t,e);if(t.tag!==0&&n===2){var r=df(t);r!==0&&(e=r,n=Uf(t,r))}if(n===1)throw n=pa,si(t,0),lr(t,e),At(t,Oe()),n;if(n===6)throw Error(B(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Zr(t,St,Rn),At(t,Oe()),null}function p_(t,e){var n=he;he|=1;try{return t(e)}finally{he=n,he===0&&(Rs=Oe()+500,Cc&&Wr())}}function pi(t){pr!==null&&pr.tag===0&&!(he&6)&&ps();var e=he;he|=1;var n=qt.transition,r=_e;try{if(qt.transition=null,_e=1,t)return t()}finally{_e=r,qt.transition=n,he=e,!(he&6)&&Wr()}}function __(){Pt=os.current,Ee(os)}function si(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Fb(n)),Fe!==null)for(n=Fe.return;n!==null;){var r=n;switch(Qp(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Pu();break;case 3:As(),Ee(Ct),Ee(dt),i_();break;case 5:r_(r);break;case 4:As();break;case 13:Ee(Ce);break;case 19:Ee(Ce);break;case 10:Zp(r.type._context);break;case 22:case 23:__()}n=n.return}if(qe=t,Fe=t=Ar(t.current,null),Je=Pt=e,Be=0,pa=null,d_=Rc=fi=0,St=Ho=null,ni!==null){for(e=0;e<ni.length;e++)if(n=ni[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}ni=null}return t}function I1(t,e){do{var n=Fe;try{if(Jp(),su.current=Uu,ju){for(var r=Ie.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ju=!1}if(di=0,We=$e=Ie=null,Wo=!1,ha=0,h_.current=null,n===null||n.return===null){Be=1,pa=e,Fe=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Je,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,h=a,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var _=h.alternate;_?(h.updateQueue=_.updateQueue,h.memoizedState=_.memoizedState,h.lanes=_.lanes):(h.updateQueue=null,h.memoizedState=null)}var C=Vv(o);if(C!==null){C.flags&=-257,jv(C,o,a,s,e),C.mode&1&&Fv(s,c,e),e=C,l=c;var b=e.updateQueue;if(b===null){var A=new Set;A.add(l),e.updateQueue=A}else b.add(l);break e}else{if(!(e&1)){Fv(s,c,e),m_();break e}l=Error(B(426))}}else if(xe&&a.mode&1){var y=Vv(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),jv(y,o,a,s,e),Xp(bs(l,a));break e}}s=l=bs(l,a),Be!==4&&(Be=2),Ho===null?Ho=[s]:Ho.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var p=u1(s,l,e);Pv(s,p);break e;case 1:a=l;var g=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof g.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Cr===null||!Cr.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var R=c1(s,a,e);Pv(s,R);break e}}s=s.return}while(s!==null)}R1(n)}catch(L){e=L,Fe===n&&n!==null&&(Fe=n=n.return);continue}break}while(!0)}function A1(){var t=$u.current;return $u.current=Uu,t===null?Uu:t}function m_(){(Be===0||Be===3||Be===2)&&(Be=4),qe===null||!(fi&268435455)&&!(Rc&268435455)||lr(qe,Je)}function Wu(t,e){var n=he;he|=2;var r=A1();(qe!==t||Je!==e)&&(Rn=null,si(t,e));do try{lR();break}catch(i){I1(t,i)}while(!0);if(Jp(),he=n,$u.current=r,Fe!==null)throw Error(B(261));return qe=null,Je=0,Be}function lR(){for(;Fe!==null;)b1(Fe)}function uR(){for(;Fe!==null&&!DA();)b1(Fe)}function b1(t){var e=P1(t.alternate,t,Pt);t.memoizedProps=t.pendingProps,e===null?R1(t):Fe=e,h_.current=null}function R1(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=nR(n,e),n!==null){n.flags&=32767,Fe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Be=6,Fe=null;return}}else if(n=tR(n,e,Pt),n!==null){Fe=n;return}if(e=e.sibling,e!==null){Fe=e;return}Fe=e=t}while(e!==null);Be===0&&(Be=5)}function Zr(t,e,n){var r=_e,i=qt.transition;try{qt.transition=null,_e=1,cR(t,e,n,r)}finally{qt.transition=i,_e=r}return null}function cR(t,e,n,r){do ps();while(pr!==null);if(he&6)throw Error(B(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(B(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(WA(t,s),t===qe&&(Fe=qe=null,Je=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Nl||(Nl=!0,N1(Cu,function(){return ps(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=qt.transition,qt.transition=null;var o=_e;_e=1;var a=he;he|=4,h_.current=null,iR(t,n),S1(n,t),kb(vf),Au=!!gf,vf=gf=null,t.current=n,sR(n),LA(),he=a,_e=o,qt.transition=s}else t.current=n;if(Nl&&(Nl=!1,pr=t,zu=i),s=t.pendingLanes,s===0&&(Cr=null),VA(n.stateNode),At(t,Oe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Bu)throw Bu=!1,t=Vf,Vf=null,t;return zu&1&&t.tag!==0&&ps(),s=t.pendingLanes,s&1?t===jf?Ko++:(Ko=0,jf=t):Ko=0,Wr(),null}function ps(){if(pr!==null){var t=uE(zu),e=qt.transition,n=_e;try{if(qt.transition=null,_e=16>t?16:t,pr===null)var r=!1;else{if(t=pr,pr=null,zu=0,he&6)throw Error(B(331));var i=he;for(he|=4,K=t.current;K!==null;){var s=K,o=s.child;if(K.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(K=c;K!==null;){var h=K;switch(h.tag){case 0:case 11:case 15:qo(8,h,s)}var d=h.child;if(d!==null)d.return=h,K=d;else for(;K!==null;){h=K;var _=h.sibling,C=h.return;if(w1(h),h===c){K=null;break}if(_!==null){_.return=C,K=_;break}K=C}}}var b=s.alternate;if(b!==null){var A=b.child;if(A!==null){b.child=null;do{var y=A.sibling;A.sibling=null,A=y}while(A!==null)}}K=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,K=o;else e:for(;K!==null;){if(s=K,s.flags&2048)switch(s.tag){case 0:case 11:case 15:qo(9,s,s.return)}var p=s.sibling;if(p!==null){p.return=s.return,K=p;break e}K=s.return}}var g=t.current;for(K=g;K!==null;){o=K;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,K=w;else e:for(o=g;K!==null;){if(a=K,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:bc(9,a)}}catch(L){ke(a,a.return,L)}if(a===o){K=null;break e}var R=a.sibling;if(R!==null){R.return=a.return,K=R;break e}K=a.return}}if(he=i,Wr(),mn&&typeof mn.onPostCommitFiberRoot=="function")try{mn.onPostCommitFiberRoot(wc,t)}catch{}r=!0}return r}finally{_e=n,qt.transition=e}}return!1}function Jv(t,e,n){e=bs(n,e),e=u1(t,e,1),t=xr(t,e,1),e=vt(),t!==null&&(Pa(t,1,e),At(t,e))}function ke(t,e,n){if(t.tag===3)Jv(t,t,n);else for(;e!==null;){if(e.tag===3){Jv(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Cr===null||!Cr.has(r))){t=bs(n,t),t=c1(e,t,1),e=xr(e,t,1),t=vt(),e!==null&&(Pa(e,1,t),At(e,t));break}}e=e.return}}function hR(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=vt(),t.pingedLanes|=t.suspendedLanes&n,qe===t&&(Je&n)===n&&(Be===4||Be===3&&(Je&130023424)===Je&&500>Oe()-f_?si(t,0):d_|=n),At(t,e)}function k1(t,e){e===0&&(t.mode&1?(e=Tl,Tl<<=1,!(Tl&130023424)&&(Tl=4194304)):e=1);var n=vt();t=Un(t,e),t!==null&&(Pa(t,e,n),At(t,n))}function dR(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),k1(t,n)}function fR(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(B(314))}r!==null&&r.delete(e),k1(t,n)}var P1;P1=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ct.current)xt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return xt=!1,eR(t,e,n);xt=!!(t.flags&131072)}else xt=!1,xe&&e.flags&1048576&&LE(e,Du,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;au(t,e),t=e.pendingProps;var i=xs(e,dt.current);fs(e,n),i=o_(null,e,r,t,i,n);var s=a_();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,It(r)?(s=!0,Nu(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,t_(e),i.updater=Ac,e.stateNode=i,i._reactInternals=e,Af(e,r,t,n),e=kf(null,e,r,!0,s,n)):(e.tag=0,xe&&s&&Gp(e),gt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(au(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=_R(r),t=Jt(r,t),i){case 0:e=Rf(null,e,r,t,n);break e;case 1:e=Bv(null,e,r,t,n);break e;case 11:e=Uv(null,e,r,t,n);break e;case 14:e=$v(null,e,r,Jt(r.type,t),n);break e}throw Error(B(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Jt(r,i),Rf(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Jt(r,i),Bv(t,e,r,i,n);case 3:e:{if(p1(e),t===null)throw Error(B(387));r=e.pendingProps,s=e.memoizedState,i=s.element,$E(t,e),Fu(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=bs(Error(B(423)),e),e=zv(t,e,r,n,i);break e}else if(r!==i){i=bs(Error(B(424)),e),e=zv(t,e,r,n,i);break e}else for(Dt=Sr(e.stateNode.containerInfo.firstChild),Lt=e,xe=!0,en=null,n=jE(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Cs(),r===i){e=$n(t,e,n);break e}gt(t,e,r,n)}e=e.child}return e;case 5:return BE(e),t===null&&xf(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,yf(r,i)?o=null:s!==null&&yf(r,s)&&(e.flags|=32),f1(t,e),gt(t,e,o,n),e.child;case 6:return t===null&&xf(e),null;case 13:return _1(t,e,n);case 4:return n_(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Is(e,null,r,n):gt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Jt(r,i),Uv(t,e,r,i,n);case 7:return gt(t,e,e.pendingProps,n),e.child;case 8:return gt(t,e,e.pendingProps.children,n),e.child;case 12:return gt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,ve(Lu,r._currentValue),r._currentValue=o,s!==null)if(rn(s.value,o)){if(s.children===i.children&&!Ct.current){e=$n(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Mn(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Cf(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(B(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Cf(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}gt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,fs(e,n),i=Kt(i),r=r(i),e.flags|=1,gt(t,e,r,n),e.child;case 14:return r=e.type,i=Jt(r,e.pendingProps),i=Jt(r.type,i),$v(t,e,r,i,n);case 15:return h1(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Jt(r,i),au(t,e),e.tag=1,It(r)?(t=!0,Nu(e)):t=!1,fs(e,n),l1(e,r,i),Af(e,r,i,n),kf(null,e,r,!0,t,n);case 19:return m1(t,e,n);case 22:return d1(t,e,n)}throw Error(B(156,e.tag))};function N1(t,e){return sE(t,e)}function pR(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wt(t,e,n,r){return new pR(t,e,n,r)}function g_(t){return t=t.prototype,!(!t||!t.isReactComponent)}function _R(t){if(typeof t=="function")return g_(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Mp)return 11;if(t===Fp)return 14}return 2}function Ar(t,e){var n=t.alternate;return n===null?(n=Wt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function cu(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")g_(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Xi:return oi(n.children,i,s,e);case Lp:o=8,i|=8;break;case Xd:return t=Wt(12,n,e,i|2),t.elementType=Xd,t.lanes=s,t;case Yd:return t=Wt(13,n,e,i),t.elementType=Yd,t.lanes=s,t;case Jd:return t=Wt(19,n,e,i),t.elementType=Jd,t.lanes=s,t;case Bw:return kc(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Uw:o=10;break e;case $w:o=9;break e;case Mp:o=11;break e;case Fp:o=14;break e;case sr:o=16,r=null;break e}throw Error(B(130,t==null?t:typeof t,""))}return e=Wt(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function oi(t,e,n,r){return t=Wt(7,t,r,e),t.lanes=n,t}function kc(t,e,n,r){return t=Wt(22,t,r,e),t.elementType=Bw,t.lanes=n,t.stateNode={isHidden:!1},t}function od(t,e,n){return t=Wt(6,t,null,e),t.lanes=n,t}function ad(t,e,n){return e=Wt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function mR(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$h(0),this.expirationTimes=$h(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$h(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function v_(t,e,n,r,i,s,o,a,l){return t=new mR(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Wt(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},t_(s),t}function gR(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Qi,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function O1(t){if(!t)return Mr;t=t._reactInternals;e:{if(Ti(t)!==t||t.tag!==1)throw Error(B(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(It(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(B(171))}if(t.tag===1){var n=t.type;if(It(n))return OE(t,n,e)}return e}function D1(t,e,n,r,i,s,o,a,l){return t=v_(n,r,!0,t,i,s,o,a,l),t.context=O1(null),n=t.current,r=vt(),i=Ir(n),s=Mn(r,i),s.callback=e??null,xr(n,s,i),t.current.lanes=i,Pa(t,i,r),At(t,r),t}function Pc(t,e,n,r){var i=e.current,s=vt(),o=Ir(i);return n=O1(n),e.context===null?e.context=n:e.pendingContext=n,e=Mn(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=xr(i,e,o),t!==null&&(nn(t,i,o,s),iu(t,i,o)),o}function qu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Zv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function y_(t,e){Zv(t,e),(t=t.alternate)&&Zv(t,e)}function vR(){return null}var L1=typeof reportError=="function"?reportError:function(t){console.error(t)};function w_(t){this._internalRoot=t}Nc.prototype.render=w_.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(B(409));Pc(t,e,null,null)};Nc.prototype.unmount=w_.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;pi(function(){Pc(null,t,null,null)}),e[jn]=null}};function Nc(t){this._internalRoot=t}Nc.prototype.unstable_scheduleHydration=function(t){if(t){var e=dE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ar.length&&e!==0&&e<ar[n].priority;n++);ar.splice(n,0,t),n===0&&pE(t)}};function E_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Oc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function ey(){}function yR(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=qu(o);s.call(c)}}var o=D1(e,r,t,0,null,!1,!1,"",ey);return t._reactRootContainer=o,t[jn]=o.current,oa(t.nodeType===8?t.parentNode:t),pi(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=qu(l);a.call(c)}}var l=v_(t,0,!1,null,null,!1,!1,"",ey);return t._reactRootContainer=l,t[jn]=l.current,oa(t.nodeType===8?t.parentNode:t),pi(function(){Pc(e,l,n,r)}),l}function Dc(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=qu(o);a.call(l)}}Pc(e,o,t,i)}else o=yR(n,e,t,i,r);return qu(o)}cE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Po(e.pendingLanes);n!==0&&(Up(e,n|1),At(e,Oe()),!(he&6)&&(Rs=Oe()+500,Wr()))}break;case 13:pi(function(){var r=Un(t,1);if(r!==null){var i=vt();nn(r,t,1,i)}}),y_(t,1)}};$p=function(t){if(t.tag===13){var e=Un(t,134217728);if(e!==null){var n=vt();nn(e,t,134217728,n)}y_(t,134217728)}};hE=function(t){if(t.tag===13){var e=Ir(t),n=Un(t,e);if(n!==null){var r=vt();nn(n,t,e,r)}y_(t,e)}};dE=function(){return _e};fE=function(t,e){var n=_e;try{return _e=t,e()}finally{_e=n}};uf=function(t,e,n){switch(e){case"input":if(tf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=xc(r);if(!i)throw Error(B(90));Ww(r),tf(r,i)}}}break;case"textarea":Hw(t,n);break;case"select":e=n.value,e!=null&&us(t,!!n.multiple,e,!1)}};Zw=p_;eE=pi;var wR={usingClientEntryPoint:!1,Events:[Oa,es,xc,Yw,Jw,p_]},xo={findFiberByHostInstance:ti,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ER={bundleType:xo.bundleType,version:xo.version,rendererPackageName:xo.rendererPackageName,rendererConfig:xo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Gn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=rE(t),t===null?null:t.stateNode},findFiberByHostInstance:xo.findFiberByHostInstance||vR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ol=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ol.isDisabled&&Ol.supportsFiber)try{wc=Ol.inject(ER),mn=Ol}catch{}}jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wR;jt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!E_(e))throw Error(B(200));return gR(t,e,null,n)};jt.createRoot=function(t,e){if(!E_(t))throw Error(B(299));var n=!1,r="",i=L1;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=v_(t,1,!1,null,null,n,!1,r,i),t[jn]=e.current,oa(t.nodeType===8?t.parentNode:t),new w_(e)};jt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(B(188)):(t=Object.keys(t).join(","),Error(B(268,t)));return t=rE(e),t=t===null?null:t.stateNode,t};jt.flushSync=function(t){return pi(t)};jt.hydrate=function(t,e,n){if(!Oc(e))throw Error(B(200));return Dc(null,t,e,!0,n)};jt.hydrateRoot=function(t,e,n){if(!E_(t))throw Error(B(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=L1;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=D1(e,null,t,1,n??null,i,!1,s,o),t[jn]=e.current,oa(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Nc(e)};jt.render=function(t,e,n){if(!Oc(e))throw Error(B(200));return Dc(null,t,e,!1,n)};jt.unmountComponentAtNode=function(t){if(!Oc(t))throw Error(B(40));return t._reactRootContainer?(pi(function(){Dc(null,null,t,!1,function(){t._reactRootContainer=null,t[jn]=null})}),!0):!1};jt.unstable_batchedUpdates=p_;jt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Oc(n))throw Error(B(200));if(t==null||t._reactInternals===void 0)throw Error(B(38));return Dc(t,e,n,!1,r)};jt.version="18.3.1-next-f1338f8080-20240426";function M1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(M1)}catch(t){console.error(t)}}M1(),Mw.exports=jt;var Lc=Mw.exports;const TR=vc(Lc);var ty=Lc;Gd.createRoot=ty.createRoot,Gd.hydrateRoot=ty.hydrateRoot;var F1={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var s="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(s=i(s,r(a)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var a in s)e.call(s,a)&&s[a]&&(o=i(o,a));return o}function i(s,o){return o?s?s+" "+o:s+o:s}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(F1);var SR=F1.exports;const Si=vc(SR);function se(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function ny(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Mc(...t){return e=>{let n=!1;const r=t.map(i=>{const s=ny(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():ny(t[i],null)}}}}function ft(...t){return S.useCallback(Mc(...t),t)}function xi(t,e=[]){let n=[];function r(s,o){const a=S.createContext(o),l=n.length;n=[...n,o];const c=d=>{var p;const{scope:_,children:C,...b}=d,A=((p=_==null?void 0:_[t])==null?void 0:p[l])||a,y=S.useMemo(()=>b,Object.values(b));return x.jsx(A.Provider,{value:y,children:C})};c.displayName=s+"Provider";function h(d,_){var A;const C=((A=_==null?void 0:_[t])==null?void 0:A[l])||a,b=S.useContext(C);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${s}\``)}return[c,h]}const i=()=>{const s=n.map(o=>S.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return S.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,xR(i,...e)]}function xR(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(s)[`__scope${c}`];return{...a,...d}},{});return S.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function _a(t){const e=CR(t),n=S.forwardRef((r,i)=>{const{children:s,...o}=r,a=S.Children.toArray(s),l=a.find(AR);if(l){const c=l.props.children,h=a.map(d=>d===l?S.Children.count(c)>1?S.Children.only(null):S.isValidElement(c)?c.props.children:null:d);return x.jsx(e,{...o,ref:i,children:S.isValidElement(c)?S.cloneElement(c,void 0,h):null})}return x.jsx(e,{...o,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}var Hs=_a("Slot");function CR(t){const e=S.forwardRef((n,r)=>{const{children:i,...s}=n;if(S.isValidElement(i)){const o=RR(i),a=bR(s,i.props);return i.type!==S.Fragment&&(a.ref=r?Mc(r,o):o),S.cloneElement(i,a)}return S.Children.count(i)>1?S.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var V1=Symbol("radix.slottable");function IR(t){const e=({children:n})=>x.jsx(x.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=V1,e}function AR(t){return S.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===V1}function bR(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{const l=s(...a);return i(...a),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function RR(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var kR=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ue=kR.reduce((t,e)=>{const n=_a(`Primitive.${e}`),r=S.forwardRef((i,s)=>{const{asChild:o,...a}=i,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),x.jsx(l,{...a,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function j1(t,e){t&&Lc.flushSync(()=>t.dispatchEvent(e))}function Tn(t){const e=S.useRef(t);return S.useEffect(()=>{e.current=t}),S.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function PR(t,e=globalThis==null?void 0:globalThis.document){const n=Tn(t);S.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var NR="DismissableLayer",Bf="dismissableLayer.update",OR="dismissableLayer.pointerDownOutside",DR="dismissableLayer.focusOutside",ry,U1=S.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),T_=S.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=t,c=S.useContext(U1),[h,d]=S.useState(null),_=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,C]=S.useState({}),b=ft(e,E=>d(E)),A=Array.from(c.layers),[y]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),p=A.indexOf(y),g=h?A.indexOf(h):-1,w=c.layersWithOutsidePointerEventsDisabled.size>0,R=g>=p,L=FR(E=>{const v=E.target,I=[...c.branches].some(f=>f.contains(v));!R||I||(i==null||i(E),o==null||o(E),E.defaultPrevented||a==null||a())},_),P=VR(E=>{const v=E.target;[...c.branches].some(f=>f.contains(v))||(s==null||s(E),o==null||o(E),E.defaultPrevented||a==null||a())},_);return PR(E=>{g===c.layers.size-1&&(r==null||r(E),!E.defaultPrevented&&a&&(E.preventDefault(),a()))},_),S.useEffect(()=>{if(h)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(ry=_.body.style.pointerEvents,_.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(h)),c.layers.add(h),iy(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(_.body.style.pointerEvents=ry)}},[h,_,n,c]),S.useEffect(()=>()=>{h&&(c.layers.delete(h),c.layersWithOutsidePointerEventsDisabled.delete(h),iy())},[h,c]),S.useEffect(()=>{const E=()=>C({});return document.addEventListener(Bf,E),()=>document.removeEventListener(Bf,E)},[]),x.jsx(Ue.div,{...l,ref:b,style:{pointerEvents:w?R?"auto":"none":void 0,...t.style},onFocusCapture:se(t.onFocusCapture,P.onFocusCapture),onBlurCapture:se(t.onBlurCapture,P.onBlurCapture),onPointerDownCapture:se(t.onPointerDownCapture,L.onPointerDownCapture)})});T_.displayName=NR;var LR="DismissableLayerBranch",MR=S.forwardRef((t,e)=>{const n=S.useContext(U1),r=S.useRef(null),i=ft(e,r);return S.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),x.jsx(Ue.div,{...t,ref:i})});MR.displayName=LR;function FR(t,e=globalThis==null?void 0:globalThis.document){const n=Tn(t),r=S.useRef(!1),i=S.useRef(()=>{});return S.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let l=function(){$1(OR,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function VR(t,e=globalThis==null?void 0:globalThis.document){const n=Tn(t),r=S.useRef(!1);return S.useEffect(()=>{const i=s=>{s.target&&!r.current&&$1(DR,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function iy(){const t=new CustomEvent(Bf);document.dispatchEvent(t)}function $1(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?j1(i,s):i.dispatchEvent(s)}var sn=globalThis!=null&&globalThis.document?S.useLayoutEffect:()=>{},jR=Pp[" useId ".trim().toString()]||(()=>{}),UR=0;function zf(t){const[e,n]=S.useState(jR());return sn(()=>{n(r=>r??String(UR++))},[t]),t||(e?`radix-${e}`:"")}const $R=["top","right","bottom","left"],Fr=Math.min,Ot=Math.max,Hu=Math.round,Dl=Math.floor,vn=t=>({x:t,y:t}),BR={left:"right",right:"left",bottom:"top",top:"bottom"},zR={start:"end",end:"start"};function Wf(t,e,n){return Ot(t,Fr(e,n))}function Bn(t,e){return typeof t=="function"?t(e):t}function zn(t){return t.split("-")[0]}function Ks(t){return t.split("-")[1]}function S_(t){return t==="x"?"y":"x"}function x_(t){return t==="y"?"height":"width"}const WR=new Set(["top","bottom"]);function _n(t){return WR.has(zn(t))?"y":"x"}function C_(t){return S_(_n(t))}function qR(t,e,n){n===void 0&&(n=!1);const r=Ks(t),i=C_(t),s=x_(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=Ku(o)),[o,Ku(o)]}function HR(t){const e=Ku(t);return[qf(t),e,qf(e)]}function qf(t){return t.replace(/start|end/g,e=>zR[e])}const sy=["left","right"],oy=["right","left"],KR=["top","bottom"],GR=["bottom","top"];function QR(t,e,n){switch(t){case"top":case"bottom":return n?e?oy:sy:e?sy:oy;case"left":case"right":return e?KR:GR;default:return[]}}function XR(t,e,n,r){const i=Ks(t);let s=QR(zn(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(qf)))),s}function Ku(t){return t.replace(/left|right|bottom|top/g,e=>BR[e])}function YR(t){return{top:0,right:0,bottom:0,left:0,...t}}function B1(t){return typeof t!="number"?YR(t):{top:t,right:t,bottom:t,left:t}}function Gu(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function ay(t,e,n){let{reference:r,floating:i}=t;const s=_n(e),o=C_(e),a=x_(o),l=zn(e),c=s==="y",h=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,_=r[a]/2-i[a]/2;let C;switch(l){case"top":C={x:h,y:r.y-i.height};break;case"bottom":C={x:h,y:r.y+r.height};break;case"right":C={x:r.x+r.width,y:d};break;case"left":C={x:r.x-i.width,y:d};break;default:C={x:r.x,y:r.y}}switch(Ks(e)){case"start":C[o]-=_*(n&&c?-1:1);break;case"end":C[o]+=_*(n&&c?-1:1);break}return C}const JR=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:h,y:d}=ay(c,r,l),_=r,C={},b=0;for(let A=0;A<a.length;A++){const{name:y,fn:p}=a[A],{x:g,y:w,data:R,reset:L}=await p({x:h,y:d,initialPlacement:r,placement:_,strategy:i,middlewareData:C,rects:c,platform:o,elements:{reference:t,floating:e}});h=g??h,d=w??d,C={...C,[y]:{...C[y],...R}},L&&b<=50&&(b++,typeof L=="object"&&(L.placement&&(_=L.placement),L.rects&&(c=L.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):L.rects),{x:h,y:d}=ay(c,_,l)),A=-1)}return{x:h,y:d,placement:_,strategy:i,middlewareData:C}};async function ma(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:h="viewport",elementContext:d="floating",altBoundary:_=!1,padding:C=0}=Bn(e,t),b=B1(C),y=a[_?d==="floating"?"reference":"floating":d],p=Gu(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(y)))==null||n?y:y.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:h,strategy:l})),g=d==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,w=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),R=await(s.isElement==null?void 0:s.isElement(w))?await(s.getScale==null?void 0:s.getScale(w))||{x:1,y:1}:{x:1,y:1},L=Gu(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:g,offsetParent:w,strategy:l}):g);return{top:(p.top-L.top+b.top)/R.y,bottom:(L.bottom-p.bottom+b.bottom)/R.y,left:(p.left-L.left+b.left)/R.x,right:(L.right-p.right+b.right)/R.x}}const ZR=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:h=0}=Bn(t,e)||{};if(c==null)return{};const d=B1(h),_={x:n,y:r},C=C_(i),b=x_(C),A=await o.getDimensions(c),y=C==="y",p=y?"top":"left",g=y?"bottom":"right",w=y?"clientHeight":"clientWidth",R=s.reference[b]+s.reference[C]-_[C]-s.floating[b],L=_[C]-s.reference[C],P=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let E=P?P[w]:0;(!E||!await(o.isElement==null?void 0:o.isElement(P)))&&(E=a.floating[w]||s.floating[b]);const v=R/2-L/2,I=E/2-A[b]/2-1,f=Fr(d[p],I),k=Fr(d[g],I),N=f,D=E-A[b]-k,z=E/2-A[b]/2+v,Y=Wf(N,z,D),G=!l.arrow&&Ks(i)!=null&&z!==Y&&s.reference[b]/2-(z<N?f:k)-A[b]/2<0,Z=G?z<N?z-N:z-D:0;return{[C]:_[C]+Z,data:{[C]:Y,centerOffset:z-Y-Z,...G&&{alignmentOffset:Z}},reset:G}}}),ek=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:h=!0,crossAxis:d=!0,fallbackPlacements:_,fallbackStrategy:C="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:A=!0,...y}=Bn(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const p=zn(i),g=_n(a),w=zn(a)===a,R=await(l.isRTL==null?void 0:l.isRTL(c.floating)),L=_||(w||!A?[Ku(a)]:HR(a)),P=b!=="none";!_&&P&&L.push(...XR(a,A,b,R));const E=[a,...L],v=await ma(e,y),I=[];let f=((r=s.flip)==null?void 0:r.overflows)||[];if(h&&I.push(v[p]),d){const z=qR(i,o,R);I.push(v[z[0]],v[z[1]])}if(f=[...f,{placement:i,overflows:I}],!I.every(z=>z<=0)){var k,N;const z=(((k=s.flip)==null?void 0:k.index)||0)+1,Y=E[z];if(Y&&(!(d==="alignment"?g!==_n(Y):!1)||f.every(M=>M.overflows[0]>0&&_n(M.placement)===g)))return{data:{index:z,overflows:f},reset:{placement:Y}};let G=(N=f.filter(Z=>Z.overflows[0]<=0).sort((Z,M)=>Z.overflows[1]-M.overflows[1])[0])==null?void 0:N.placement;if(!G)switch(C){case"bestFit":{var D;const Z=(D=f.filter(M=>{if(P){const j=_n(M.placement);return j===g||j==="y"}return!0}).map(M=>[M.placement,M.overflows.filter(j=>j>0).reduce((j,q)=>j+q,0)]).sort((M,j)=>M[1]-j[1])[0])==null?void 0:D[0];Z&&(G=Z);break}case"initialPlacement":G=a;break}if(i!==G)return{reset:{placement:G}}}return{}}}};function ly(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function uy(t){return $R.some(e=>t[e]>=0)}const tk=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=Bn(t,e);switch(r){case"referenceHidden":{const s=await ma(e,{...i,elementContext:"reference"}),o=ly(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:uy(o)}}}case"escaped":{const s=await ma(e,{...i,altBoundary:!0}),o=ly(s,n.floating);return{data:{escapedOffsets:o,escaped:uy(o)}}}default:return{}}}}},z1=new Set(["left","top"]);async function nk(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=zn(n),a=Ks(n),l=_n(n)==="y",c=z1.has(o)?-1:1,h=s&&l?-1:1,d=Bn(e,t);let{mainAxis:_,crossAxis:C,alignmentAxis:b}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof b=="number"&&(C=a==="end"?b*-1:b),l?{x:C*h,y:_*c}:{x:_*c,y:C*h}}const rk=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await nk(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},ik=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:y=>{let{x:p,y:g}=y;return{x:p,y:g}}},...l}=Bn(t,e),c={x:n,y:r},h=await ma(e,l),d=_n(zn(i)),_=S_(d);let C=c[_],b=c[d];if(s){const y=_==="y"?"top":"left",p=_==="y"?"bottom":"right",g=C+h[y],w=C-h[p];C=Wf(g,C,w)}if(o){const y=d==="y"?"top":"left",p=d==="y"?"bottom":"right",g=b+h[y],w=b-h[p];b=Wf(g,b,w)}const A=a.fn({...e,[_]:C,[d]:b});return{...A,data:{x:A.x-n,y:A.y-r,enabled:{[_]:s,[d]:o}}}}}},sk=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Bn(t,e),h={x:n,y:r},d=_n(i),_=S_(d);let C=h[_],b=h[d];const A=Bn(a,e),y=typeof A=="number"?{mainAxis:A,crossAxis:0}:{mainAxis:0,crossAxis:0,...A};if(l){const w=_==="y"?"height":"width",R=s.reference[_]-s.floating[w]+y.mainAxis,L=s.reference[_]+s.reference[w]-y.mainAxis;C<R?C=R:C>L&&(C=L)}if(c){var p,g;const w=_==="y"?"width":"height",R=z1.has(zn(i)),L=s.reference[d]-s.floating[w]+(R&&((p=o.offset)==null?void 0:p[d])||0)+(R?0:y.crossAxis),P=s.reference[d]+s.reference[w]+(R?0:((g=o.offset)==null?void 0:g[d])||0)-(R?y.crossAxis:0);b<L?b=L:b>P&&(b=P)}return{[_]:C,[d]:b}}}},ok=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:l=()=>{},...c}=Bn(t,e),h=await ma(e,c),d=zn(i),_=Ks(i),C=_n(i)==="y",{width:b,height:A}=s.floating;let y,p;d==="top"||d==="bottom"?(y=d,p=_===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(p=d,y=_==="end"?"top":"bottom");const g=A-h.top-h.bottom,w=b-h.left-h.right,R=Fr(A-h[y],g),L=Fr(b-h[p],w),P=!e.middlewareData.shift;let E=R,v=L;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(v=w),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(E=g),P&&!_){const f=Ot(h.left,0),k=Ot(h.right,0),N=Ot(h.top,0),D=Ot(h.bottom,0);C?v=b-2*(f!==0||k!==0?f+k:Ot(h.left,h.right)):E=A-2*(N!==0||D!==0?N+D:Ot(h.top,h.bottom))}await l({...e,availableWidth:v,availableHeight:E});const I=await o.getDimensions(a.floating);return b!==I.width||A!==I.height?{reset:{rects:!0}}:{}}}};function Fc(){return typeof window<"u"}function Gs(t){return W1(t)?(t.nodeName||"").toLowerCase():"#document"}function Mt(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Cn(t){var e;return(e=(W1(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function W1(t){return Fc()?t instanceof Node||t instanceof Mt(t).Node:!1}function on(t){return Fc()?t instanceof Element||t instanceof Mt(t).Element:!1}function Sn(t){return Fc()?t instanceof HTMLElement||t instanceof Mt(t).HTMLElement:!1}function cy(t){return!Fc()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Mt(t).ShadowRoot}const ak=new Set(["inline","contents"]);function La(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=an(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!ak.has(i)}const lk=new Set(["table","td","th"]);function uk(t){return lk.has(Gs(t))}const ck=[":popover-open",":modal"];function Vc(t){return ck.some(e=>{try{return t.matches(e)}catch{return!1}})}const hk=["transform","translate","scale","rotate","perspective"],dk=["transform","translate","scale","rotate","perspective","filter"],fk=["paint","layout","strict","content"];function I_(t){const e=A_(),n=on(t)?an(t):t;return hk.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||dk.some(r=>(n.willChange||"").includes(r))||fk.some(r=>(n.contain||"").includes(r))}function pk(t){let e=Vr(t);for(;Sn(e)&&!ks(e);){if(I_(e))return e;if(Vc(e))return null;e=Vr(e)}return null}function A_(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const _k=new Set(["html","body","#document"]);function ks(t){return _k.has(Gs(t))}function an(t){return Mt(t).getComputedStyle(t)}function jc(t){return on(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Vr(t){if(Gs(t)==="html")return t;const e=t.assignedSlot||t.parentNode||cy(t)&&t.host||Cn(t);return cy(e)?e.host:e}function q1(t){const e=Vr(t);return ks(e)?t.ownerDocument?t.ownerDocument.body:t.body:Sn(e)&&La(e)?e:q1(e)}function ga(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=q1(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=Mt(i);if(s){const a=Hf(o);return e.concat(o,o.visualViewport||[],La(i)?i:[],a&&n?ga(a):[])}return e.concat(i,ga(i,[],n))}function Hf(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function H1(t){const e=an(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Sn(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=Hu(n)!==s||Hu(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function b_(t){return on(t)?t:t.contextElement}function _s(t){const e=b_(t);if(!Sn(e))return vn(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=H1(e);let o=(s?Hu(n.width):n.width)/r,a=(s?Hu(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const mk=vn(0);function K1(t){const e=Mt(t);return!A_()||!e.visualViewport?mk:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function gk(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Mt(t)?!1:e}function _i(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=b_(t);let o=vn(1);e&&(r?on(r)&&(o=_s(r)):o=_s(t));const a=gk(s,n,r)?K1(s):vn(0);let l=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,h=i.width/o.x,d=i.height/o.y;if(s){const _=Mt(s),C=r&&on(r)?Mt(r):r;let b=_,A=Hf(b);for(;A&&r&&C!==b;){const y=_s(A),p=A.getBoundingClientRect(),g=an(A),w=p.left+(A.clientLeft+parseFloat(g.paddingLeft))*y.x,R=p.top+(A.clientTop+parseFloat(g.paddingTop))*y.y;l*=y.x,c*=y.y,h*=y.x,d*=y.y,l+=w,c+=R,b=Mt(A),A=Hf(b)}}return Gu({width:h,height:d,x:l,y:c})}function R_(t,e){const n=jc(t).scrollLeft;return e?e.left+n:_i(Cn(t)).left+n}function G1(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:R_(t,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function vk(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=Cn(r),a=e?Vc(e.floating):!1;if(r===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},c=vn(1);const h=vn(0),d=Sn(r);if((d||!d&&!s)&&((Gs(r)!=="body"||La(o))&&(l=jc(r)),Sn(r))){const C=_i(r);c=_s(r),h.x=C.x+r.clientLeft,h.y=C.y+r.clientTop}const _=o&&!d&&!s?G1(o,l,!0):vn(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+h.x+_.x,y:n.y*c.y-l.scrollTop*c.y+h.y+_.y}}function yk(t){return Array.from(t.getClientRects())}function wk(t){const e=Cn(t),n=jc(t),r=t.ownerDocument.body,i=Ot(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Ot(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+R_(t);const a=-n.scrollTop;return an(r).direction==="rtl"&&(o+=Ot(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function Ek(t,e){const n=Mt(t),r=Cn(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const c=A_();(!c||c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}const Tk=new Set(["absolute","fixed"]);function Sk(t,e){const n=_i(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=Sn(t)?_s(t):vn(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:o,height:a,x:l,y:c}}function hy(t,e,n){let r;if(e==="viewport")r=Ek(t,n);else if(e==="document")r=wk(Cn(t));else if(on(e))r=Sk(e,n);else{const i=K1(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Gu(r)}function Q1(t,e){const n=Vr(t);return n===e||!on(n)||ks(n)?!1:an(n).position==="fixed"||Q1(n,e)}function xk(t,e){const n=e.get(t);if(n)return n;let r=ga(t,[],!1).filter(a=>on(a)&&Gs(a)!=="body"),i=null;const s=an(t).position==="fixed";let o=s?Vr(t):t;for(;on(o)&&!ks(o);){const a=an(o),l=I_(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&Tk.has(i.position)||La(o)&&!l&&Q1(t,o))?r=r.filter(h=>h!==o):i=a,o=Vr(o)}return e.set(t,r),r}function Ck(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?Vc(e)?[]:xk(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,h)=>{const d=hy(e,h,i);return c.top=Ot(d.top,c.top),c.right=Fr(d.right,c.right),c.bottom=Fr(d.bottom,c.bottom),c.left=Ot(d.left,c.left),c},hy(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Ik(t){const{width:e,height:n}=H1(t);return{width:e,height:n}}function Ak(t,e,n){const r=Sn(e),i=Cn(e),s=n==="fixed",o=_i(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=vn(0);function c(){l.x=R_(i)}if(r||!r&&!s)if((Gs(e)!=="body"||La(i))&&(a=jc(e)),r){const C=_i(e,!0,s,e);l.x=C.x+e.clientLeft,l.y=C.y+e.clientTop}else i&&c();s&&!r&&i&&c();const h=i&&!r&&!s?G1(i,a):vn(0),d=o.left+a.scrollLeft-l.x-h.x,_=o.top+a.scrollTop-l.y-h.y;return{x:d,y:_,width:o.width,height:o.height}}function ld(t){return an(t).position==="static"}function dy(t,e){if(!Sn(t)||an(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Cn(t)===n&&(n=n.ownerDocument.body),n}function X1(t,e){const n=Mt(t);if(Vc(t))return n;if(!Sn(t)){let i=Vr(t);for(;i&&!ks(i);){if(on(i)&&!ld(i))return i;i=Vr(i)}return n}let r=dy(t,e);for(;r&&uk(r)&&ld(r);)r=dy(r,e);return r&&ks(r)&&ld(r)&&!I_(r)?n:r||pk(t)||n}const bk=async function(t){const e=this.getOffsetParent||X1,n=this.getDimensions,r=await n(t.floating);return{reference:Ak(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Rk(t){return an(t).direction==="rtl"}const kk={convertOffsetParentRelativeRectToViewportRelativeRect:vk,getDocumentElement:Cn,getClippingRect:Ck,getOffsetParent:X1,getElementRects:bk,getClientRects:yk,getDimensions:Ik,getScale:_s,isElement:on,isRTL:Rk};function Y1(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Pk(t,e){let n=null,r;const i=Cn(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const c=t.getBoundingClientRect(),{left:h,top:d,width:_,height:C}=c;if(a||e(),!_||!C)return;const b=Dl(d),A=Dl(i.clientWidth-(h+_)),y=Dl(i.clientHeight-(d+C)),p=Dl(h),w={rootMargin:-b+"px "+-A+"px "+-y+"px "+-p+"px",threshold:Ot(0,Fr(1,l))||1};let R=!0;function L(P){const E=P[0].intersectionRatio;if(E!==l){if(!R)return o();E?o(!1,E):r=setTimeout(()=>{o(!1,1e-7)},1e3)}E===1&&!Y1(c,t.getBoundingClientRect())&&o(),R=!1}try{n=new IntersectionObserver(L,{...w,root:i.ownerDocument})}catch{n=new IntersectionObserver(L,w)}n.observe(t)}return o(!0),s}function Nk(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=b_(t),h=i||s?[...c?ga(c):[],...ga(e)]:[];h.forEach(p=>{i&&p.addEventListener("scroll",n,{passive:!0}),s&&p.addEventListener("resize",n)});const d=c&&a?Pk(c,n):null;let _=-1,C=null;o&&(C=new ResizeObserver(p=>{let[g]=p;g&&g.target===c&&C&&(C.unobserve(e),cancelAnimationFrame(_),_=requestAnimationFrame(()=>{var w;(w=C)==null||w.observe(e)})),n()}),c&&!l&&C.observe(c),C.observe(e));let b,A=l?_i(t):null;l&&y();function y(){const p=_i(t);A&&!Y1(A,p)&&n(),A=p,b=requestAnimationFrame(y)}return n(),()=>{var p;h.forEach(g=>{i&&g.removeEventListener("scroll",n),s&&g.removeEventListener("resize",n)}),d==null||d(),(p=C)==null||p.disconnect(),C=null,l&&cancelAnimationFrame(b)}}const Ok=rk,Dk=ik,Lk=ek,Mk=ok,Fk=tk,fy=ZR,Vk=sk,jk=(t,e,n)=>{const r=new Map,i={platform:kk,...n},s={...i.platform,_c:r};return JR(t,e,{...i,platform:s})};var Uk=typeof document<"u",$k=function(){},hu=Uk?S.useLayoutEffect:$k;function Qu(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Qu(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!Qu(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function J1(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function py(t,e){const n=J1(t);return Math.round(e*n)/n}function ud(t){const e=S.useRef(t);return hu(()=>{e.current=t}),e}function Bk(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[h,d]=S.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[_,C]=S.useState(r);Qu(_,r)||C(r);const[b,A]=S.useState(null),[y,p]=S.useState(null),g=S.useCallback(M=>{M!==P.current&&(P.current=M,A(M))},[]),w=S.useCallback(M=>{M!==E.current&&(E.current=M,p(M))},[]),R=s||b,L=o||y,P=S.useRef(null),E=S.useRef(null),v=S.useRef(h),I=l!=null,f=ud(l),k=ud(i),N=ud(c),D=S.useCallback(()=>{if(!P.current||!E.current)return;const M={placement:e,strategy:n,middleware:_};k.current&&(M.platform=k.current),jk(P.current,E.current,M).then(j=>{const q={...j,isPositioned:N.current!==!1};z.current&&!Qu(v.current,q)&&(v.current=q,Lc.flushSync(()=>{d(q)}))})},[_,e,n,k,N]);hu(()=>{c===!1&&v.current.isPositioned&&(v.current.isPositioned=!1,d(M=>({...M,isPositioned:!1})))},[c]);const z=S.useRef(!1);hu(()=>(z.current=!0,()=>{z.current=!1}),[]),hu(()=>{if(R&&(P.current=R),L&&(E.current=L),R&&L){if(f.current)return f.current(R,L,D);D()}},[R,L,D,f,I]);const Y=S.useMemo(()=>({reference:P,floating:E,setReference:g,setFloating:w}),[g,w]),G=S.useMemo(()=>({reference:R,floating:L}),[R,L]),Z=S.useMemo(()=>{const M={position:n,left:0,top:0};if(!G.floating)return M;const j=py(G.floating,h.x),q=py(G.floating,h.y);return a?{...M,transform:"translate("+j+"px, "+q+"px)",...J1(G.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:j,top:q}},[n,a,G.floating,h.x,h.y]);return S.useMemo(()=>({...h,update:D,refs:Y,elements:G,floatingStyles:Z}),[h,D,Y,G,Z])}const zk=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?fy({element:r.current,padding:i}).fn(n):{}:r?fy({element:r,padding:i}).fn(n):{}}}},Wk=(t,e)=>({...Ok(t),options:[t,e]}),qk=(t,e)=>({...Dk(t),options:[t,e]}),Hk=(t,e)=>({...Vk(t),options:[t,e]}),Kk=(t,e)=>({...Lk(t),options:[t,e]}),Gk=(t,e)=>({...Mk(t),options:[t,e]}),Qk=(t,e)=>({...Fk(t),options:[t,e]}),Xk=(t,e)=>({...zk(t),options:[t,e]});var Yk="Arrow",Z1=S.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return x.jsx(Ue.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:x.jsx("polygon",{points:"0,0 30,0 15,10"})})});Z1.displayName=Yk;var Jk=Z1;function Zk(t){const[e,n]=S.useState(void 0);return sn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var k_="Popper",[eT,Uc]=xi(k_),[eP,tT]=eT(k_),nT=t=>{const{__scopePopper:e,children:n}=t,[r,i]=S.useState(null);return x.jsx(eP,{scope:e,anchor:r,onAnchorChange:i,children:n})};nT.displayName=k_;var rT="PopperAnchor",iT=S.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=tT(rT,n),o=S.useRef(null),a=ft(e,o);return S.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:x.jsx(Ue.div,{...i,ref:a})});iT.displayName=rT;var P_="PopperContent",[tP,nP]=eT(P_),sT=S.forwardRef((t,e)=>{var Se,Qt,Ke,Tt,$t,Jn;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:h=0,sticky:d="partial",hideWhenDetached:_=!1,updatePositionStrategy:C="optimized",onPlaced:b,...A}=t,y=tT(P_,n),[p,g]=S.useState(null),w=ft(e,Rt=>g(Rt)),[R,L]=S.useState(null),P=Zk(R),E=(P==null?void 0:P.width)??0,v=(P==null?void 0:P.height)??0,I=r+(s!=="center"?"-"+s:""),f=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},k=Array.isArray(c)?c:[c],N=k.length>0,D={padding:f,boundary:k.filter(iP),altBoundary:N},{refs:z,floatingStyles:Y,placement:G,isPositioned:Z,middlewareData:M}=Bk({strategy:"fixed",placement:I,whileElementsMounted:(...Rt)=>Nk(...Rt,{animationFrame:C==="always"}),elements:{reference:y.anchor},middleware:[Wk({mainAxis:i+v,alignmentAxis:o}),l&&qk({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?Hk():void 0,...D}),l&&Kk({...D}),Gk({...D,apply:({elements:Rt,rects:Pi,availableWidth:no,availableHeight:el})=>{const{width:ph,height:_h}=Pi.reference,qr=Rt.floating.style;qr.setProperty("--radix-popper-available-width",`${no}px`),qr.setProperty("--radix-popper-available-height",`${el}px`),qr.setProperty("--radix-popper-anchor-width",`${ph}px`),qr.setProperty("--radix-popper-anchor-height",`${_h}px`)}}),R&&Xk({element:R,padding:a}),sP({arrowWidth:E,arrowHeight:v}),_&&Qk({strategy:"referenceHidden",...D})]}),[j,q]=lT(G),ee=Tn(b);sn(()=>{Z&&(ee==null||ee())},[Z,ee]);const J=(Se=M.arrow)==null?void 0:Se.x,pe=(Qt=M.arrow)==null?void 0:Qt.y,Te=((Ke=M.arrow)==null?void 0:Ke.centerOffset)!==0,[Le,be]=S.useState();return sn(()=>{p&&be(window.getComputedStyle(p).zIndex)},[p]),x.jsx("div",{ref:z.setFloating,"data-radix-popper-content-wrapper":"",style:{...Y,transform:Z?Y.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Le,"--radix-popper-transform-origin":[(Tt=M.transformOrigin)==null?void 0:Tt.x,($t=M.transformOrigin)==null?void 0:$t.y].join(" "),...((Jn=M.hide)==null?void 0:Jn.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:x.jsx(tP,{scope:n,placedSide:j,onArrowChange:L,arrowX:J,arrowY:pe,shouldHideArrow:Te,children:x.jsx(Ue.div,{"data-side":j,"data-align":q,...A,ref:w,style:{...A.style,animation:Z?void 0:"none"}})})})});sT.displayName=P_;var oT="PopperArrow",rP={top:"bottom",right:"left",bottom:"top",left:"right"},aT=S.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=nP(oT,r),o=rP[s.placedSide];return x.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:x.jsx(Jk,{...i,ref:n,style:{...i.style,display:"block"}})})});aT.displayName=oT;function iP(t){return t!==null}var sP=t=>({name:"transformOrigin",options:t,fn(e){var y,p,g;const{placement:n,rects:r,middlewareData:i}=e,o=((y=i.arrow)==null?void 0:y.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,h]=lT(n),d={start:"0%",center:"50%",end:"100%"}[h],_=(((p=i.arrow)==null?void 0:p.x)??0)+a/2,C=(((g=i.arrow)==null?void 0:g.y)??0)+l/2;let b="",A="";return c==="bottom"?(b=o?d:`${_}px`,A=`${-l}px`):c==="top"?(b=o?d:`${_}px`,A=`${r.floating.height+l}px`):c==="right"?(b=`${-l}px`,A=o?d:`${C}px`):c==="left"&&(b=`${r.floating.width+l}px`,A=o?d:`${C}px`),{data:{x:b,y:A}}}});function lT(t){const[e,n="center"]=t.split("-");return[e,n]}var oP=nT,uT=iT,cT=sT,hT=aT,aP="Portal",dT=S.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[i,s]=S.useState(!1);sn(()=>s(!0),[]);const o=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?TR.createPortal(x.jsx(Ue.div,{...r,ref:e}),o):null});dT.displayName=aP;function lP(t,e){return S.useReducer((n,r)=>e[n][r]??n,t)}var Qs=t=>{const{present:e,children:n}=t,r=uP(e),i=typeof n=="function"?n({present:r.isPresent}):S.Children.only(n),s=ft(r.ref,cP(i));return typeof n=="function"||r.isPresent?S.cloneElement(i,{ref:s}):null};Qs.displayName="Presence";function uP(t){const[e,n]=S.useState(),r=S.useRef(null),i=S.useRef(t),s=S.useRef("none"),o=t?"mounted":"unmounted",[a,l]=lP(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return S.useEffect(()=>{const c=Ll(r.current);s.current=a==="mounted"?c:"none"},[a]),sn(()=>{const c=r.current,h=i.current;if(h!==t){const _=s.current,C=Ll(c);t?l("MOUNT"):C==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(h&&_!==C?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),sn(()=>{if(e){let c;const h=e.ownerDocument.defaultView??window,d=C=>{const A=Ll(r.current).includes(C.animationName);if(C.target===e&&A&&(l("ANIMATION_END"),!i.current)){const y=e.style.animationFillMode;e.style.animationFillMode="forwards",c=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=y)})}},_=C=>{C.target===e&&(s.current=Ll(r.current))};return e.addEventListener("animationstart",_),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{h.clearTimeout(c),e.removeEventListener("animationstart",_),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:S.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function Ll(t){return(t==null?void 0:t.animationName)||"none"}function cP(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var hP=Pp[" useInsertionEffect ".trim().toString()]||sn;function fT({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,s,o]=dP({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:i;{const h=S.useRef(t!==void 0);S.useEffect(()=>{const d=h.current;d!==a&&console.warn(`${r} is changing from ${d?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=a},[a,r])}const c=S.useCallback(h=>{var d;if(a){const _=fP(h)?h(t):h;_!==t&&((d=o.current)==null||d.call(o,_))}else s(h)},[a,t,s,o]);return[l,c]}function dP({defaultProp:t,onChange:e}){const[n,r]=S.useState(t),i=S.useRef(n),s=S.useRef(e);return hP(()=>{s.current=e},[e]),S.useEffect(()=>{var o;i.current!==n&&((o=s.current)==null||o.call(s,n),i.current=n)},[n,i]),[n,r,s]}function fP(t){return typeof t=="function"}var pP=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),_P="VisuallyHidden",pT=S.forwardRef((t,e)=>x.jsx(Ue.span,{...t,ref:e,style:{...pP,...t.style}}));pT.displayName=_P;var mP=pT,[$c,r3]=xi("Tooltip",[Uc]),N_=Uc(),_T="TooltipProvider",gP=700,_y="tooltip.open",[vP,mT]=$c(_T),gT=t=>{const{__scopeTooltip:e,delayDuration:n=gP,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=t,o=S.useRef(!0),a=S.useRef(!1),l=S.useRef(0);return S.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),x.jsx(vP,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:S.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:S.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:S.useCallback(c=>{a.current=c},[]),disableHoverableContent:i,children:s})};gT.displayName=_T;var vT="Tooltip",[i3,Bc]=$c(vT),Kf="TooltipTrigger",yP=S.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=Bc(Kf,n),s=mT(Kf,n),o=N_(n),a=S.useRef(null),l=ft(e,a,i.onTriggerChange),c=S.useRef(!1),h=S.useRef(!1),d=S.useCallback(()=>c.current=!1,[]);return S.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),x.jsx(uT,{asChild:!0,...o,children:x.jsx(Ue.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:l,onPointerMove:se(t.onPointerMove,_=>{_.pointerType!=="touch"&&!h.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),h.current=!0)}),onPointerLeave:se(t.onPointerLeave,()=>{i.onTriggerLeave(),h.current=!1}),onPointerDown:se(t.onPointerDown,()=>{i.open&&i.onClose(),c.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:se(t.onFocus,()=>{c.current||i.onOpen()}),onBlur:se(t.onBlur,i.onClose),onClick:se(t.onClick,i.onClose)})})});yP.displayName=Kf;var wP="TooltipPortal",[s3,EP]=$c(wP,{forceMount:void 0}),Ps="TooltipContent",TP=S.forwardRef((t,e)=>{const n=EP(Ps,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=t,o=Bc(Ps,t.__scopeTooltip);return x.jsx(Qs,{present:r||o.open,children:o.disableHoverableContent?x.jsx(yT,{side:i,...s,ref:e}):x.jsx(SP,{side:i,...s,ref:e})})}),SP=S.forwardRef((t,e)=>{const n=Bc(Ps,t.__scopeTooltip),r=mT(Ps,t.__scopeTooltip),i=S.useRef(null),s=ft(e,i),[o,a]=S.useState(null),{trigger:l,onClose:c}=n,h=i.current,{onPointerInTransitChange:d}=r,_=S.useCallback(()=>{a(null),d(!1)},[d]),C=S.useCallback((b,A)=>{const y=b.currentTarget,p={x:b.clientX,y:b.clientY},g=bP(p,y.getBoundingClientRect()),w=RP(p,g),R=kP(A.getBoundingClientRect()),L=NP([...w,...R]);a(L),d(!0)},[d]);return S.useEffect(()=>()=>_(),[_]),S.useEffect(()=>{if(l&&h){const b=y=>C(y,h),A=y=>C(y,l);return l.addEventListener("pointerleave",b),h.addEventListener("pointerleave",A),()=>{l.removeEventListener("pointerleave",b),h.removeEventListener("pointerleave",A)}}},[l,h,C,_]),S.useEffect(()=>{if(o){const b=A=>{const y=A.target,p={x:A.clientX,y:A.clientY},g=(l==null?void 0:l.contains(y))||(h==null?void 0:h.contains(y)),w=!PP(p,o);g?_():w&&(_(),c())};return document.addEventListener("pointermove",b),()=>document.removeEventListener("pointermove",b)}},[l,h,o,c,_]),x.jsx(yT,{...t,ref:s})}),[xP,CP]=$c(vT,{isInside:!1}),IP=IR("TooltipContent"),yT=S.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...a}=t,l=Bc(Ps,n),c=N_(n),{onClose:h}=l;return S.useEffect(()=>(document.addEventListener(_y,h),()=>document.removeEventListener(_y,h)),[h]),S.useEffect(()=>{if(l.trigger){const d=_=>{const C=_.target;C!=null&&C.contains(l.trigger)&&h()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[l.trigger,h]),x.jsx(T_,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:d=>d.preventDefault(),onDismiss:h,children:x.jsxs(cT,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[x.jsx(IP,{children:r}),x.jsx(xP,{scope:n,isInside:!0,children:x.jsx(mP,{id:l.contentId,role:"tooltip",children:i||r})})]})})});TP.displayName=Ps;var wT="TooltipArrow",AP=S.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=N_(n);return CP(wT,n).isInside?null:x.jsx(hT,{...i,...r,ref:e})});AP.displayName=wT;function bP(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function RP(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function kP(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function PP(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s],l=e[o],c=a.x,h=a.y,d=l.x,_=l.y;h>r!=_>r&&n<(d-c)*(r-h)/(_-h)+c&&(i=!i)}return i}function NP(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),OP(e)}function OP(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const s=n[n.length-1],o=n[n.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var DP=gT,ET=S.createContext(void 0),LP=t=>{const{dir:e,children:n}=t;return x.jsx(ET.Provider,{value:e,children:n})};function TT(t){const e=S.useContext(ET);return t||e||"ltr"}function MP(t){switch(t){case"tomato":case"red":case"ruby":case"crimson":case"pink":case"plum":case"purple":case"violet":return"mauve";case"iris":case"indigo":case"blue":case"sky":case"cyan":return"slate";case"teal":case"jade":case"mint":case"green":return"sage";case"grass":case"lime":return"olive";case"yellow":case"amber":case"orange":case"brown":case"gold":case"bronze":return"sand"}}const Nt={hasBackground:{default:!0},appearance:{default:"inherit"},accentColor:{default:"indigo"},grayColor:{default:"auto"},panelBackground:{default:"translucent"},radius:{default:"medium"},scaling:{default:"100%"}};function ST(t){return t==="gray"?"gray":MP(t)}const Fi=()=>{},Gf=S.createContext(void 0),xT=S.forwardRef((t,e)=>S.useContext(Gf)===void 0?S.createElement(DP,null,S.createElement(LP,{dir:"ltr"},S.createElement(CT,{...t,ref:e}))):S.createElement(O_,{...t,ref:e}));xT.displayName="Theme";const CT=S.forwardRef((t,e)=>{const{appearance:n=Nt.appearance.default,accentColor:r=Nt.accentColor.default,grayColor:i=Nt.grayColor.default,panelBackground:s=Nt.panelBackground.default,radius:o=Nt.radius.default,scaling:a=Nt.scaling.default,hasBackground:l=Nt.hasBackground.default,...c}=t,[h,d]=S.useState(n);S.useEffect(()=>d(n),[n]);const[_,C]=S.useState(r);S.useEffect(()=>C(r),[r]);const[b,A]=S.useState(i);S.useEffect(()=>A(i),[i]);const[y,p]=S.useState(s);S.useEffect(()=>p(s),[s]);const[g,w]=S.useState(o);S.useEffect(()=>w(o),[o]);const[R,L]=S.useState(a);S.useEffect(()=>L(a),[a]);const P=S.memo(({appearance:v})=>S.createElement("script",{dangerouslySetInnerHTML:{__html:`!(function(){try{var d=document.documentElement,c=d.classList;c.remove('light','dark');d.style.colorScheme='${v}';c.add('${v}');}catch(e){}})();`}}),()=>!0);P.displayName="ExplicitRootAppearanceScript",S.useEffect(()=>FP(n),[n]);const E=b==="auto"?ST(_):b;return S.createElement(S.Fragment,null,h!=="inherit"&&S.createElement(P,{appearance:h}),l&&S.createElement("style",{dangerouslySetInnerHTML:{__html:`
:root, .light, .light-theme { --color-page-background: white; }
.dark, .dark-theme { --color-page-background: var(--${E}-1); }
body { background-color: var(--color-page-background); }
`}}),S.createElement(O_,{...c,ref:e,isRoot:!0,hasBackground:l,appearance:h,accentColor:_,grayColor:b,panelBackground:y,radius:g,scaling:R,onAppearanceChange:d,onAccentColorChange:C,onGrayColorChange:A,onPanelBackgroundChange:p,onRadiusChange:w,onScalingChange:L}))});CT.displayName="ThemeRoot";const O_=S.forwardRef((t,e)=>{var n,r,i,s,o,a;const l=S.useContext(Gf),{asChild:c,isRoot:h,hasBackground:d,appearance:_=(n=l==null?void 0:l.appearance)!==null&&n!==void 0?n:Nt.appearance.default,accentColor:C=(r=l==null?void 0:l.accentColor)!==null&&r!==void 0?r:Nt.accentColor.default,grayColor:b=(i=l==null?void 0:l.resolvedGrayColor)!==null&&i!==void 0?i:Nt.grayColor.default,panelBackground:A=(s=l==null?void 0:l.panelBackground)!==null&&s!==void 0?s:Nt.panelBackground.default,radius:y=(o=l==null?void 0:l.radius)!==null&&o!==void 0?o:Nt.radius.default,scaling:p=(a=l==null?void 0:l.scaling)!==null&&a!==void 0?a:Nt.scaling.default,onAppearanceChange:g=Fi,onAccentColorChange:w=Fi,onGrayColorChange:R=Fi,onPanelBackgroundChange:L=Fi,onRadiusChange:P=Fi,onScalingChange:E=Fi,...v}=t,I=c?Hs:"div",f=b==="auto"?ST(C):b,k=t.appearance!==void 0&&t.appearance!=="inherit",N=t.grayColor!==void 0,D=!h&&(d===!0||d!==!1&&(k||N));return S.createElement(Gf.Provider,{value:S.useMemo(()=>({appearance:_,accentColor:C,grayColor:b,resolvedGrayColor:f,panelBackground:A,radius:y,scaling:p,onAppearanceChange:g,onAccentColorChange:w,onGrayColorChange:R,onPanelBackgroundChange:L,onRadiusChange:P,onScalingChange:E}),[_,C,b,f,A,y,p,g,w,R,L,P,E])},S.createElement(I,{"data-is-root-theme":h?"true":"false","data-accent-color":C,"data-gray-color":f,"data-has-background":D?"true":"false","data-panel-background":A,"data-radius":y,"data-scaling":p,ref:e,...v,className:Si("radix-themes",{light:!h&&_==="light",dark:!h&&_==="dark"},v.className)}))});O_.displayName="ThemeImpl";function FP(t){if(t==="inherit")return;const e=document.documentElement;(e.classList.contains("light-theme")||e.classList.contains("dark-theme"))&&(e.classList.remove("light-theme","dark-theme"),e.style.colorScheme=t,e.classList.add(`${t}-theme`)),(e.classList.contains("light")||e.classList.contains("dark"))&&(e.classList.remove("light","dark"),e.style.colorScheme=t,e.classList.add(t))}const D_={default:void 0},L_={default:void 0};function ie(t,e="",n){var r,i,s,o;const a=[];if(typeof t=="object"){for(const l of Object.keys(t))if(l in t){const c=(r=t[l])===null||r===void 0?void 0:r.toString(),h=c==null?void 0:c.startsWith("-"),d=e===""?"":"-",_=h?`-${e}`:e,C=h?c==null?void 0:c.substring(1):c;if(C===void 0)continue;const b=(i=n==null?void 0:n[C])!==null&&i!==void 0?i:C,A=l==="initial"?`${_}${d}${b}`:`${l}:${_}${d}${b}`;a.push(A)}}if(typeof t=="string"){const l=t.startsWith("-"),c=e===""?"":"-",h=l?`-${e}`:e,d=l?t.substring(1):t,_=(s=n==null?void 0:n[d])!==null&&s!==void 0?s:d;a.push(`${h}${c}${_}`)}if(typeof t=="boolean"){const l=e===""?"":"-",c=t.toString(),h=(o=n==null?void 0:n[c])!==null&&o!==void 0?o:c;a.push(`${e}${l}${h}`)}return a.join(" ")}const Xr=["0","1","2","3","4","5","6","7","8","9"],VP={p:{type:"enum",values:Xr,default:void 0,responsive:!0},px:{type:"enum",values:Xr,default:void 0,responsive:!0},py:{type:"enum",values:Xr,default:void 0,responsive:!0},pt:{type:"enum",values:Xr,default:void 0,responsive:!0},pr:{type:"enum",values:Xr,default:void 0,responsive:!0},pb:{type:"enum",values:Xr,default:void 0,responsive:!0},pl:{type:"enum",values:Xr,default:void 0,responsive:!0}};function jP(t){const{p:e=Xe.p.default,px:n=Xe.px.default,py:r=Xe.py.default,pt:i=Xe.pt.default,pr:s=Xe.pr.default,pb:o=Xe.pb.default,pl:a=Xe.pl.default,...l}=t;return{p:e,px:n,py:r,pt:i,pr:s,pb:o,pl:a,rest:l}}function UP(t){return[ie(t.p,"rt-r-p"),ie(t.px,"rt-r-px"),ie(t.py,"rt-r-py"),ie(t.pt,"rt-r-pt"),ie(t.pr,"rt-r-pr"),ie(t.pb,"rt-r-pb"),ie(t.pl,"rt-r-pl")].filter(Boolean).join(" ")}const Xe={...VP,position:{default:void 0},inset:{default:void 0},top:{default:void 0},right:{default:void 0},bottom:{default:void 0},left:{default:void 0},width:{default:void 0},height:{default:void 0},shrink:{default:void 0},grow:{default:void 0}};function $P(t){const{rest:e,...n}=jP(t),{position:r=Xe.position.default,width:i=Xe.width.default,height:s=Xe.height.default,inset:o=Xe.inset.default,top:a=Xe.top.default,bottom:l=Xe.bottom.default,left:c=Xe.left.default,right:h=Xe.right.default,shrink:d=Xe.shrink.default,grow:_=Xe.grow.default,...C}=e;return{...n,position:r,width:i,height:s,inset:o,top:a,bottom:l,left:c,right:h,shrink:d,grow:_,rest:C}}function BP(t){return[UP(t),ie(t.position,"rt-r-position"),ie(t.shrink,"rt-r-fs"),ie(t.grow,"rt-r-fg"),ie(t.width,"rt-r-w"),ie(t.height,"rt-r-h"),ie(t.inset,"rt-r-inset"),ie(t.top,"rt-r-top"),ie(t.bottom,"rt-r-bottom"),ie(t.left,"rt-r-left"),ie(t.right,"rt-r-right")].filter(Boolean).join(" ")}const IT={default:void 0},Yr={m:{default:void 0},mx:{default:void 0},my:{default:void 0},mt:{default:void 0},mr:{default:void 0},mb:{default:void 0},ml:{default:void 0}};function Ma(t){const{m:e=Yr.m.default,mx:n=Yr.mx.default,my:r=Yr.my.default,mt:i=Yr.mt.default,mr:s=Yr.mr.default,mb:o=Yr.mb.default,ml:a=Yr.ml.default,...l}=t;return{m:e,mx:n,my:r,mt:i,mr:s,mb:o,ml:a,rest:l}}function Fa(t){return[ie(t.m,"rt-r-m"),ie(t.mx,"rt-r-mx"),ie(t.my,"rt-r-my"),ie(t.mt,"rt-r-mt"),ie(t.mr,"rt-r-mr"),ie(t.mb,"rt-r-mb"),ie(t.ml,"rt-r-ml")].filter(Boolean).join(" ")}const zP={default:void 0},AT={default:void 0},WP={default:void 0},Vi={display:{default:"flex"},direction:{default:void 0},align:{default:void 0},justify:{default:"start"},wrap:{default:void 0},gap:{default:void 0}},Qf=S.forwardRef((t,e)=>{const{rest:n,...r}=Ma(t),{rest:i,...s}=$P(n),{className:o,asChild:a,display:l=Vi.display.default,direction:c=Vi.direction.default,align:h=Vi.align.default,justify:d=Vi.justify.default,wrap:_=Vi.wrap.default,gap:C=Vi.gap.default,...b}=i,A=a?Hs:"div";return S.createElement(A,{...b,ref:e,className:Si("rt-Flex",o,ie(l,"rt-r-display"),ie(c,"rt-r-fd"),ie(h,"rt-r-ai"),ie(d,"rt-r-jc",{between:"space-between"}),ie(_,"rt-r-fw"),ie(C,"rt-r-gap"),BP(s),Fa(r))})});Qf.displayName="Flex";const ji={size:{default:"6"},weight:{default:"bold"},align:AT,trim:IT,color:D_,highContrast:L_},bT=S.forwardRef((t,e)=>{const{rest:n,...r}=Ma(t),{children:i,className:s,asChild:o=!1,as:a="h1",size:l=ji.size.default,weight:c=ji.weight.default,align:h=ji.align.default,trim:d=ji.trim.default,color:_=ji.color.default,highContrast:C=ji.highContrast.default,...b}=n;return S.createElement(Hs,{"data-accent-color":_,...b,ref:e,className:Si("rt-Heading",s,ie(l,"rt-r-size"),ie(c,"rt-r-weight"),ie(h,"rt-r-ta"),ie(d,"rt-r-lt"),{"rt-high-contrast":C},Fa(r))},o?i:S.createElement(a,null,i))});bT.displayName="Heading";const Ui={size:{default:void 0},weight:WP,align:AT,trim:IT,color:D_,highContrast:L_},RT=S.forwardRef((t,e)=>{const{rest:n,...r}=Ma(t),{children:i,className:s,asChild:o=!1,as:a="span",size:l=Ui.size.default,weight:c=Ui.weight.default,align:h=Ui.align.default,trim:d=Ui.trim.default,color:_=Ui.color.default,highContrast:C=Ui.highContrast.default,...b}=n;return S.createElement(Hs,{"data-accent-color":_,...b,ref:e,className:Si("rt-Text",s,ie(l,"rt-r-size"),ie(c,"rt-r-weight"),ie(h,"rt-r-ta"),ie(d,"rt-r-lt"),{"rt-high-contrast":C},Fa(r))},o?i:S.createElement(a,null,i))});RT.displayName="Text";function kT(t){const e=t+"CollectionProvider",[n,r]=xi(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=A=>{const{scope:y,children:p}=A,g=hn.useRef(null),w=hn.useRef(new Map).current;return x.jsx(i,{scope:y,itemMap:w,collectionRef:g,children:p})};o.displayName=e;const a=t+"CollectionSlot",l=_a(a),c=hn.forwardRef((A,y)=>{const{scope:p,children:g}=A,w=s(a,p),R=ft(y,w.collectionRef);return x.jsx(l,{ref:R,children:g})});c.displayName=a;const h=t+"CollectionItemSlot",d="data-radix-collection-item",_=_a(h),C=hn.forwardRef((A,y)=>{const{scope:p,children:g,...w}=A,R=hn.useRef(null),L=ft(y,R),P=s(h,p);return hn.useEffect(()=>(P.itemMap.set(R,{ref:R,...w}),()=>void P.itemMap.delete(R))),x.jsx(_,{[d]:"",ref:L,children:g})});C.displayName=h;function b(A){const y=s(t+"CollectionConsumer",A);return hn.useCallback(()=>{const g=y.collectionRef.current;if(!g)return[];const w=Array.from(g.querySelectorAll(`[${d}]`));return Array.from(y.itemMap.values()).sort((P,E)=>w.indexOf(P.ref.current)-w.indexOf(E.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:o,Slot:c,ItemSlot:C},b,r]}var cd="rovingFocusGroup.onEntryFocus",qP={bubbles:!1,cancelable:!0},Va="RovingFocusGroup",[Xf,PT,HP]=kT(Va),[KP,NT]=xi(Va,[HP]),[GP,QP]=KP(Va),OT=S.forwardRef((t,e)=>x.jsx(Xf.Provider,{scope:t.__scopeRovingFocusGroup,children:x.jsx(Xf.Slot,{scope:t.__scopeRovingFocusGroup,children:x.jsx(XP,{...t,ref:e})})}));OT.displayName=Va;var XP=S.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:h=!1,...d}=t,_=S.useRef(null),C=ft(e,_),b=TT(s),[A,y]=fT({prop:o,defaultProp:a??null,onChange:l,caller:Va}),[p,g]=S.useState(!1),w=Tn(c),R=PT(n),L=S.useRef(!1),[P,E]=S.useState(0);return S.useEffect(()=>{const v=_.current;if(v)return v.addEventListener(cd,w),()=>v.removeEventListener(cd,w)},[w]),x.jsx(GP,{scope:n,orientation:r,dir:b,loop:i,currentTabStopId:A,onItemFocus:S.useCallback(v=>y(v),[y]),onItemShiftTab:S.useCallback(()=>g(!0),[]),onFocusableItemAdd:S.useCallback(()=>E(v=>v+1),[]),onFocusableItemRemove:S.useCallback(()=>E(v=>v-1),[]),children:x.jsx(Ue.div,{tabIndex:p||P===0?-1:0,"data-orientation":r,...d,ref:C,style:{outline:"none",...t.style},onMouseDown:se(t.onMouseDown,()=>{L.current=!0}),onFocus:se(t.onFocus,v=>{const I=!L.current;if(v.target===v.currentTarget&&I&&!p){const f=new CustomEvent(cd,qP);if(v.currentTarget.dispatchEvent(f),!f.defaultPrevented){const k=R().filter(G=>G.focusable),N=k.find(G=>G.active),D=k.find(G=>G.id===A),Y=[N,D,...k].filter(Boolean).map(G=>G.ref.current);MT(Y,h)}}L.current=!1}),onBlur:se(t.onBlur,()=>g(!1))})})}),DT="RovingFocusGroupItem",LT=S.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,children:o,...a}=t,l=zf(),c=s||l,h=QP(DT,n),d=h.currentTabStopId===c,_=PT(n),{onFocusableItemAdd:C,onFocusableItemRemove:b,currentTabStopId:A}=h;return S.useEffect(()=>{if(r)return C(),()=>b()},[r,C,b]),x.jsx(Xf.ItemSlot,{scope:n,id:c,focusable:r,active:i,children:x.jsx(Ue.span,{tabIndex:d?0:-1,"data-orientation":h.orientation,...a,ref:e,onMouseDown:se(t.onMouseDown,y=>{r?h.onItemFocus(c):y.preventDefault()}),onFocus:se(t.onFocus,()=>h.onItemFocus(c)),onKeyDown:se(t.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){h.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const p=ZP(y,h.orientation,h.dir);if(p!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let w=_().filter(R=>R.focusable).map(R=>R.ref.current);if(p==="last")w.reverse();else if(p==="prev"||p==="next"){p==="prev"&&w.reverse();const R=w.indexOf(y.currentTarget);w=h.loop?eN(w,R+1):w.slice(R+1)}setTimeout(()=>MT(w))}}),children:typeof o=="function"?o({isCurrentTabStop:d,hasTabStop:A!=null}):o})})});LT.displayName=DT;var YP={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function JP(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function ZP(t,e,n){const r=JP(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return YP[r]}function MT(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function eN(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var tN=OT,nN=LT,hd=0;function rN(){S.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??my()),document.body.insertAdjacentElement("beforeend",t[1]??my()),hd++,()=>{hd===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),hd--}},[])}function my(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var dd="focusScope.autoFocusOnMount",fd="focusScope.autoFocusOnUnmount",gy={bubbles:!1,cancelable:!0},iN="FocusScope",FT=S.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=t,[a,l]=S.useState(null),c=Tn(i),h=Tn(s),d=S.useRef(null),_=ft(e,A=>l(A)),C=S.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;S.useEffect(()=>{if(r){let A=function(w){if(C.paused||!a)return;const R=w.target;a.contains(R)?d.current=R:ir(d.current,{select:!0})},y=function(w){if(C.paused||!a)return;const R=w.relatedTarget;R!==null&&(a.contains(R)||ir(d.current,{select:!0}))},p=function(w){if(document.activeElement===document.body)for(const L of w)L.removedNodes.length>0&&ir(a)};document.addEventListener("focusin",A),document.addEventListener("focusout",y);const g=new MutationObserver(p);return a&&g.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",A),document.removeEventListener("focusout",y),g.disconnect()}}},[r,a,C.paused]),S.useEffect(()=>{if(a){yy.add(C);const A=document.activeElement;if(!a.contains(A)){const p=new CustomEvent(dd,gy);a.addEventListener(dd,c),a.dispatchEvent(p),p.defaultPrevented||(sN(cN(VT(a)),{select:!0}),document.activeElement===A&&ir(a))}return()=>{a.removeEventListener(dd,c),setTimeout(()=>{const p=new CustomEvent(fd,gy);a.addEventListener(fd,h),a.dispatchEvent(p),p.defaultPrevented||ir(A??document.body,{select:!0}),a.removeEventListener(fd,h),yy.remove(C)},0)}}},[a,c,h,C]);const b=S.useCallback(A=>{if(!n&&!r||C.paused)return;const y=A.key==="Tab"&&!A.altKey&&!A.ctrlKey&&!A.metaKey,p=document.activeElement;if(y&&p){const g=A.currentTarget,[w,R]=oN(g);w&&R?!A.shiftKey&&p===R?(A.preventDefault(),n&&ir(w,{select:!0})):A.shiftKey&&p===w&&(A.preventDefault(),n&&ir(R,{select:!0})):p===g&&A.preventDefault()}},[n,r,C.paused]);return x.jsx(Ue.div,{tabIndex:-1,...o,ref:_,onKeyDown:b})});FT.displayName=iN;function sN(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(ir(r,{select:e}),document.activeElement!==n)return}function oN(t){const e=VT(t),n=vy(e,t),r=vy(e.reverse(),t);return[n,r]}function VT(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function vy(t,e){for(const n of t)if(!aN(n,{upTo:e}))return n}function aN(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function lN(t){return t instanceof HTMLInputElement&&"select"in t}function ir(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&lN(t)&&e&&t.select()}}var yy=uN();function uN(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=wy(t,e),t.unshift(e)},remove(e){var n;t=wy(t,e),(n=t[0])==null||n.resume()}}}function wy(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function cN(t){return t.filter(e=>e.tagName!=="A")}var hN=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},$i=new WeakMap,Ml=new WeakMap,Fl={},pd=0,jT=function(t){return t&&(t.host||jT(t.parentNode))},dN=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=jT(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},fN=function(t,e,n,r){var i=dN(e,Array.isArray(t)?t:[t]);Fl[n]||(Fl[n]=new WeakMap);var s=Fl[n],o=[],a=new Set,l=new Set(i),c=function(d){!d||a.has(d)||(a.add(d),c(d.parentNode))};i.forEach(c);var h=function(d){!d||l.has(d)||Array.prototype.forEach.call(d.children,function(_){if(a.has(_))h(_);else try{var C=_.getAttribute(r),b=C!==null&&C!=="false",A=($i.get(_)||0)+1,y=(s.get(_)||0)+1;$i.set(_,A),s.set(_,y),o.push(_),A===1&&b&&Ml.set(_,!0),y===1&&_.setAttribute(n,"true"),b||_.setAttribute(r,"true")}catch(p){console.error("aria-hidden: cannot operate on ",_,p)}})};return h(e),a.clear(),pd++,function(){o.forEach(function(d){var _=$i.get(d)-1,C=s.get(d)-1;$i.set(d,_),s.set(d,C),_||(Ml.has(d)||d.removeAttribute(r),Ml.delete(d)),C||d.removeAttribute(n)}),pd--,pd||($i=new WeakMap,$i=new WeakMap,Ml=new WeakMap,Fl={})}},pN=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=hN(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),fN(r,i,n,"aria-hidden")):function(){return null}},fn=function(){return fn=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},fn.apply(this,arguments)};function ja(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function _N(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var du="right-scroll-bar-position",fu="width-before-scroll-bar",mN="with-scroll-bars-hidden",gN="--removed-body-scroll-bar-size";function _d(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function vN(t,e){var n=S.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var yN=typeof window<"u"?S.useLayoutEffect:S.useEffect,Ey=new WeakMap;function wN(t,e){var n=vN(null,function(r){return t.forEach(function(i){return _d(i,r)})});return yN(function(){var r=Ey.get(n);if(r){var i=new Set(r),s=new Set(t),o=n.current;i.forEach(function(a){s.has(a)||_d(a,null)}),s.forEach(function(a){i.has(a)||_d(a,o)})}Ey.set(n,t)},[t]),n}function EN(t){return t}function TN(t,e){e===void 0&&(e=EN);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var o=e(s,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(s),o=n}var l=function(){var h=o;o=[],h.forEach(s)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(h){o.push(h),c()},filter:function(h){return o=o.filter(h),n}}}};return i}function SN(t){t===void 0&&(t={});var e=TN(null);return e.options=fn({async:!0,ssr:!1},t),e}var UT=function(t){var e=t.sideCar,n=ja(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return S.createElement(r,fn({},n))};UT.isSideCarExport=!0;function xN(t,e){return t.useMedium(e),UT}var $T=SN(),md=function(){},zc=S.forwardRef(function(t,e){var n=S.useRef(null),r=S.useState({onScrollCapture:md,onWheelCapture:md,onTouchMoveCapture:md}),i=r[0],s=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,h=t.enabled,d=t.shards,_=t.sideCar,C=t.noRelative,b=t.noIsolation,A=t.inert,y=t.allowPinchZoom,p=t.as,g=p===void 0?"div":p,w=t.gapMode,R=ja(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),L=_,P=wN([n,e]),E=fn(fn({},R),i);return S.createElement(S.Fragment,null,h&&S.createElement(L,{sideCar:$T,removeScrollBar:c,shards:d,noRelative:C,noIsolation:b,inert:A,setCallbacks:s,allowPinchZoom:!!y,lockRef:n,gapMode:w}),o?S.cloneElement(S.Children.only(a),fn(fn({},E),{ref:P})):S.createElement(g,fn({},E,{className:l,ref:P}),a))});zc.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};zc.classNames={fullWidth:fu,zeroRight:du};var CN=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function IN(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=CN();return e&&t.setAttribute("nonce",e),t}function AN(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function bN(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var RN=function(){var t=0,e=null;return{add:function(n){t==0&&(e=IN())&&(AN(e,n),bN(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},kN=function(){var t=RN();return function(e,n){S.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},BT=function(){var t=kN(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},PN={left:0,top:0,right:0,gap:0},gd=function(t){return parseInt(t||"",10)||0},NN=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[gd(n),gd(r),gd(i)]},ON=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return PN;var e=NN(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},DN=BT(),ms="data-scroll-locked",LN=function(t,e,n,r){var i=t.left,s=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(mN,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(ms,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(du,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(fu,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(du," .").concat(du,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(fu," .").concat(fu,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(ms,`] {
    `).concat(gN,": ").concat(a,`px;
  }
`)},Ty=function(){var t=parseInt(document.body.getAttribute(ms)||"0",10);return isFinite(t)?t:0},MN=function(){S.useEffect(function(){return document.body.setAttribute(ms,(Ty()+1).toString()),function(){var t=Ty()-1;t<=0?document.body.removeAttribute(ms):document.body.setAttribute(ms,t.toString())}},[])},FN=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;MN();var s=S.useMemo(function(){return ON(i)},[i]);return S.createElement(DN,{styles:LN(s,!e,i,n?"":"!important")})},Yf=!1;if(typeof window<"u")try{var Vl=Object.defineProperty({},"passive",{get:function(){return Yf=!0,!0}});window.addEventListener("test",Vl,Vl),window.removeEventListener("test",Vl,Vl)}catch{Yf=!1}var Bi=Yf?{passive:!1}:!1,VN=function(t){return t.tagName==="TEXTAREA"},zT=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!VN(t)&&n[e]==="visible")},jN=function(t){return zT(t,"overflowY")},UN=function(t){return zT(t,"overflowX")},Sy=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=WT(t,r);if(i){var s=qT(t,r),o=s[1],a=s[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},$N=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},BN=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},WT=function(t,e){return t==="v"?jN(e):UN(e)},qT=function(t,e){return t==="v"?$N(e):BN(e)},zN=function(t,e){return t==="h"&&e==="rtl"?-1:1},WN=function(t,e,n,r,i){var s=zN(t,window.getComputedStyle(e).direction),o=s*r,a=n.target,l=e.contains(a),c=!1,h=o>0,d=0,_=0;do{if(!a)break;var C=qT(t,a),b=C[0],A=C[1],y=C[2],p=A-y-s*b;(b||p)&&WT(t,a)&&(d+=p,_+=b);var g=a.parentNode;a=g&&g.nodeType===Node.DOCUMENT_FRAGMENT_NODE?g.host:g}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(h&&Math.abs(d)<1||!h&&Math.abs(_)<1)&&(c=!0),c},jl=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},xy=function(t){return[t.deltaX,t.deltaY]},Cy=function(t){return t&&"current"in t?t.current:t},qN=function(t,e){return t[0]===e[0]&&t[1]===e[1]},HN=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},KN=0,zi=[];function GN(t){var e=S.useRef([]),n=S.useRef([0,0]),r=S.useRef(),i=S.useState(KN++)[0],s=S.useState(BT)[0],o=S.useRef(t);S.useEffect(function(){o.current=t},[t]),S.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var A=_N([t.lockRef.current],(t.shards||[]).map(Cy),!0).filter(Boolean);return A.forEach(function(y){return y.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),A.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=S.useCallback(function(A,y){if("touches"in A&&A.touches.length===2||A.type==="wheel"&&A.ctrlKey)return!o.current.allowPinchZoom;var p=jl(A),g=n.current,w="deltaX"in A?A.deltaX:g[0]-p[0],R="deltaY"in A?A.deltaY:g[1]-p[1],L,P=A.target,E=Math.abs(w)>Math.abs(R)?"h":"v";if("touches"in A&&E==="h"&&P.type==="range")return!1;var v=Sy(E,P);if(!v)return!0;if(v?L=E:(L=E==="v"?"h":"v",v=Sy(E,P)),!v)return!1;if(!r.current&&"changedTouches"in A&&(w||R)&&(r.current=L),!L)return!0;var I=r.current||L;return WN(I,y,A,I==="h"?w:R)},[]),l=S.useCallback(function(A){var y=A;if(!(!zi.length||zi[zi.length-1]!==s)){var p="deltaY"in y?xy(y):jl(y),g=e.current.filter(function(L){return L.name===y.type&&(L.target===y.target||y.target===L.shadowParent)&&qN(L.delta,p)})[0];if(g&&g.should){y.cancelable&&y.preventDefault();return}if(!g){var w=(o.current.shards||[]).map(Cy).filter(Boolean).filter(function(L){return L.contains(y.target)}),R=w.length>0?a(y,w[0]):!o.current.noIsolation;R&&y.cancelable&&y.preventDefault()}}},[]),c=S.useCallback(function(A,y,p,g){var w={name:A,delta:y,target:p,should:g,shadowParent:QN(p)};e.current.push(w),setTimeout(function(){e.current=e.current.filter(function(R){return R!==w})},1)},[]),h=S.useCallback(function(A){n.current=jl(A),r.current=void 0},[]),d=S.useCallback(function(A){c(A.type,xy(A),A.target,a(A,t.lockRef.current))},[]),_=S.useCallback(function(A){c(A.type,jl(A),A.target,a(A,t.lockRef.current))},[]);S.useEffect(function(){return zi.push(s),t.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:_}),document.addEventListener("wheel",l,Bi),document.addEventListener("touchmove",l,Bi),document.addEventListener("touchstart",h,Bi),function(){zi=zi.filter(function(A){return A!==s}),document.removeEventListener("wheel",l,Bi),document.removeEventListener("touchmove",l,Bi),document.removeEventListener("touchstart",h,Bi)}},[]);var C=t.removeScrollBar,b=t.inert;return S.createElement(S.Fragment,null,b?S.createElement(s,{styles:HN(i)}):null,C?S.createElement(FN,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function QN(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const XN=xN($T,GN);var HT=S.forwardRef(function(t,e){return S.createElement(zc,fn({},t,{ref:e,sideCar:XN}))});HT.classNames=zc.classNames;var Jf=["Enter"," "],YN=["ArrowDown","PageUp","Home"],KT=["ArrowUp","PageDown","End"],JN=[...YN,...KT],ZN={ltr:[...Jf,"ArrowRight"],rtl:[...Jf,"ArrowLeft"]},e2={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Ua="Menu",[va,t2,n2]=kT(Ua),[Ci,GT]=xi(Ua,[n2,Uc,NT]),Wc=Uc(),QT=NT(),[r2,Ii]=Ci(Ua),[i2,$a]=Ci(Ua),XT=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:i,onOpenChange:s,modal:o=!0}=t,a=Wc(e),[l,c]=S.useState(null),h=S.useRef(!1),d=Tn(s),_=TT(i);return S.useEffect(()=>{const C=()=>{h.current=!0,document.addEventListener("pointerdown",b,{capture:!0,once:!0}),document.addEventListener("pointermove",b,{capture:!0,once:!0})},b=()=>h.current=!1;return document.addEventListener("keydown",C,{capture:!0}),()=>{document.removeEventListener("keydown",C,{capture:!0}),document.removeEventListener("pointerdown",b,{capture:!0}),document.removeEventListener("pointermove",b,{capture:!0})}},[]),x.jsx(oP,{...a,children:x.jsx(r2,{scope:e,open:n,onOpenChange:d,content:l,onContentChange:c,children:x.jsx(i2,{scope:e,onClose:S.useCallback(()=>d(!1),[d]),isUsingKeyboardRef:h,dir:_,modal:o,children:r})})})};XT.displayName=Ua;var s2="MenuAnchor",M_=S.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=Wc(n);return x.jsx(uT,{...i,...r,ref:e})});M_.displayName=s2;var F_="MenuPortal",[o2,YT]=Ci(F_,{forceMount:void 0}),JT=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:i}=t,s=Ii(F_,e);return x.jsx(o2,{scope:e,forceMount:n,children:x.jsx(Qs,{present:n||s.open,children:x.jsx(dT,{asChild:!0,container:i,children:r})})})};JT.displayName=F_;var Ht="MenuContent",[a2,V_]=Ci(Ht),ZT=S.forwardRef((t,e)=>{const n=YT(Ht,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,s=Ii(Ht,t.__scopeMenu),o=$a(Ht,t.__scopeMenu);return x.jsx(va.Provider,{scope:t.__scopeMenu,children:x.jsx(Qs,{present:r||s.open,children:x.jsx(va.Slot,{scope:t.__scopeMenu,children:o.modal?x.jsx(l2,{...i,ref:e}):x.jsx(u2,{...i,ref:e})})})})}),l2=S.forwardRef((t,e)=>{const n=Ii(Ht,t.__scopeMenu),r=S.useRef(null),i=ft(e,r);return S.useEffect(()=>{const s=r.current;if(s)return pN(s)},[]),x.jsx(j_,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:se(t.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),u2=S.forwardRef((t,e)=>{const n=Ii(Ht,t.__scopeMenu);return x.jsx(j_,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),c2=_a("MenuContent.ScrollLock"),j_=S.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:h,onFocusOutside:d,onInteractOutside:_,onDismiss:C,disableOutsideScroll:b,...A}=t,y=Ii(Ht,n),p=$a(Ht,n),g=Wc(n),w=QT(n),R=t2(n),[L,P]=S.useState(null),E=S.useRef(null),v=ft(e,E,y.onContentChange),I=S.useRef(0),f=S.useRef(""),k=S.useRef(0),N=S.useRef(null),D=S.useRef("right"),z=S.useRef(0),Y=b?HT:S.Fragment,G=b?{as:c2,allowPinchZoom:!0}:void 0,Z=j=>{var Se,Qt;const q=f.current+j,ee=R().filter(Ke=>!Ke.disabled),J=document.activeElement,pe=(Se=ee.find(Ke=>Ke.ref.current===J))==null?void 0:Se.textValue,Te=ee.map(Ke=>Ke.textValue),Le=T2(Te,q,pe),be=(Qt=ee.find(Ke=>Ke.textValue===Le))==null?void 0:Qt.ref.current;(function Ke(Tt){f.current=Tt,window.clearTimeout(I.current),Tt!==""&&(I.current=window.setTimeout(()=>Ke(""),1e3))})(q),be&&setTimeout(()=>be.focus())};S.useEffect(()=>()=>window.clearTimeout(I.current),[]),rN();const M=S.useCallback(j=>{var ee,J;return D.current===((ee=N.current)==null?void 0:ee.side)&&x2(j,(J=N.current)==null?void 0:J.area)},[]);return x.jsx(a2,{scope:n,searchRef:f,onItemEnter:S.useCallback(j=>{M(j)&&j.preventDefault()},[M]),onItemLeave:S.useCallback(j=>{var q;M(j)||((q=E.current)==null||q.focus(),P(null))},[M]),onTriggerLeave:S.useCallback(j=>{M(j)&&j.preventDefault()},[M]),pointerGraceTimerRef:k,onPointerGraceIntentChange:S.useCallback(j=>{N.current=j},[]),children:x.jsx(Y,{...G,children:x.jsx(FT,{asChild:!0,trapped:i,onMountAutoFocus:se(s,j=>{var q;j.preventDefault(),(q=E.current)==null||q.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:x.jsx(T_,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:c,onPointerDownOutside:h,onFocusOutside:d,onInteractOutside:_,onDismiss:C,children:x.jsx(tN,{asChild:!0,...w,dir:p.dir,orientation:"vertical",loop:r,currentTabStopId:L,onCurrentTabStopIdChange:P,onEntryFocus:se(l,j=>{p.isUsingKeyboardRef.current||j.preventDefault()}),preventScrollOnEntryFocus:!0,children:x.jsx(cT,{role:"menu","aria-orientation":"vertical","data-state":_S(y.open),"data-radix-menu-content":"",dir:p.dir,...g,...A,ref:v,style:{outline:"none",...A.style},onKeyDown:se(A.onKeyDown,j=>{const ee=j.target.closest("[data-radix-menu-content]")===j.currentTarget,J=j.ctrlKey||j.altKey||j.metaKey,pe=j.key.length===1;ee&&(j.key==="Tab"&&j.preventDefault(),!J&&pe&&Z(j.key));const Te=E.current;if(j.target!==Te||!JN.includes(j.key))return;j.preventDefault();const be=R().filter(Se=>!Se.disabled).map(Se=>Se.ref.current);KT.includes(j.key)&&be.reverse(),w2(be)}),onBlur:se(t.onBlur,j=>{j.currentTarget.contains(j.target)||(window.clearTimeout(I.current),f.current="")}),onPointerMove:se(t.onPointerMove,ya(j=>{const q=j.target,ee=z.current!==j.clientX;if(j.currentTarget.contains(q)&&ee){const J=j.clientX>z.current?"right":"left";D.current=J,z.current=j.clientX}}))})})})})})})});ZT.displayName=Ht;var h2="MenuGroup",U_=S.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return x.jsx(Ue.div,{role:"group",...r,ref:e})});U_.displayName=h2;var d2="MenuLabel",eS=S.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return x.jsx(Ue.div,{...r,ref:e})});eS.displayName=d2;var Xu="MenuItem",Iy="menu.itemSelect",qc=S.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...i}=t,s=S.useRef(null),o=$a(Xu,t.__scopeMenu),a=V_(Xu,t.__scopeMenu),l=ft(e,s),c=S.useRef(!1),h=()=>{const d=s.current;if(!n&&d){const _=new CustomEvent(Iy,{bubbles:!0,cancelable:!0});d.addEventListener(Iy,C=>r==null?void 0:r(C),{once:!0}),j1(d,_),_.defaultPrevented?c.current=!1:o.onClose()}};return x.jsx(tS,{...i,ref:l,disabled:n,onClick:se(t.onClick,h),onPointerDown:d=>{var _;(_=t.onPointerDown)==null||_.call(t,d),c.current=!0},onPointerUp:se(t.onPointerUp,d=>{var _;c.current||(_=d.currentTarget)==null||_.click()}),onKeyDown:se(t.onKeyDown,d=>{const _=a.searchRef.current!=="";n||_&&d.key===" "||Jf.includes(d.key)&&(d.currentTarget.click(),d.preventDefault())})})});qc.displayName=Xu;var tS=S.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...s}=t,o=V_(Xu,n),a=QT(n),l=S.useRef(null),c=ft(e,l),[h,d]=S.useState(!1),[_,C]=S.useState("");return S.useEffect(()=>{const b=l.current;b&&C((b.textContent??"").trim())},[s.children]),x.jsx(va.ItemSlot,{scope:n,disabled:r,textValue:i??_,children:x.jsx(nN,{asChild:!0,...a,focusable:!r,children:x.jsx(Ue.div,{role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...s,ref:c,onPointerMove:se(t.onPointerMove,ya(b=>{r?o.onItemLeave(b):(o.onItemEnter(b),b.defaultPrevented||b.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:se(t.onPointerLeave,ya(b=>o.onItemLeave(b))),onFocus:se(t.onFocus,()=>d(!0)),onBlur:se(t.onBlur,()=>d(!1))})})})}),f2="MenuCheckboxItem",nS=S.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...i}=t;return x.jsx(aS,{scope:t.__scopeMenu,checked:n,children:x.jsx(qc,{role:"menuitemcheckbox","aria-checked":Yu(n)?"mixed":n,...i,ref:e,"data-state":B_(n),onSelect:se(i.onSelect,()=>r==null?void 0:r(Yu(n)?!0:!n),{checkForDefaultPrevented:!1})})})});nS.displayName=f2;var rS="MenuRadioGroup",[p2,_2]=Ci(rS,{value:void 0,onValueChange:()=>{}}),iS=S.forwardRef((t,e)=>{const{value:n,onValueChange:r,...i}=t,s=Tn(r);return x.jsx(p2,{scope:t.__scopeMenu,value:n,onValueChange:s,children:x.jsx(U_,{...i,ref:e})})});iS.displayName=rS;var sS="MenuRadioItem",oS=S.forwardRef((t,e)=>{const{value:n,...r}=t,i=_2(sS,t.__scopeMenu),s=n===i.value;return x.jsx(aS,{scope:t.__scopeMenu,checked:s,children:x.jsx(qc,{role:"menuitemradio","aria-checked":s,...r,ref:e,"data-state":B_(s),onSelect:se(r.onSelect,()=>{var o;return(o=i.onValueChange)==null?void 0:o.call(i,n)},{checkForDefaultPrevented:!1})})})});oS.displayName=sS;var $_="MenuItemIndicator",[aS,m2]=Ci($_,{checked:!1}),lS=S.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...i}=t,s=m2($_,n);return x.jsx(Qs,{present:r||Yu(s.checked)||s.checked===!0,children:x.jsx(Ue.span,{...i,ref:e,"data-state":B_(s.checked)})})});lS.displayName=$_;var g2="MenuSeparator",uS=S.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return x.jsx(Ue.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});uS.displayName=g2;var v2="MenuArrow",cS=S.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=Wc(n);return x.jsx(hT,{...i,...r,ref:e})});cS.displayName=v2;var y2="MenuSub",[o3,hS]=Ci(y2),Oo="MenuSubTrigger",dS=S.forwardRef((t,e)=>{const n=Ii(Oo,t.__scopeMenu),r=$a(Oo,t.__scopeMenu),i=hS(Oo,t.__scopeMenu),s=V_(Oo,t.__scopeMenu),o=S.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=s,c={__scopeMenu:t.__scopeMenu},h=S.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return S.useEffect(()=>h,[h]),S.useEffect(()=>{const d=a.current;return()=>{window.clearTimeout(d),l(null)}},[a,l]),x.jsx(M_,{asChild:!0,...c,children:x.jsx(tS,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":_S(n.open),...t,ref:Mc(e,i.onTriggerChange),onClick:d=>{var _;(_=t.onClick)==null||_.call(t,d),!(t.disabled||d.defaultPrevented)&&(d.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:se(t.onPointerMove,ya(d=>{s.onItemEnter(d),!d.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(s.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),h()},100))})),onPointerLeave:se(t.onPointerLeave,ya(d=>{var C,b;h();const _=(C=n.content)==null?void 0:C.getBoundingClientRect();if(_){const A=(b=n.content)==null?void 0:b.dataset.side,y=A==="right",p=y?-5:5,g=_[y?"left":"right"],w=_[y?"right":"left"];s.onPointerGraceIntentChange({area:[{x:d.clientX+p,y:d.clientY},{x:g,y:_.top},{x:w,y:_.top},{x:w,y:_.bottom},{x:g,y:_.bottom}],side:A}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(d),d.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:se(t.onKeyDown,d=>{var C;const _=s.searchRef.current!=="";t.disabled||_&&d.key===" "||ZN[r.dir].includes(d.key)&&(n.onOpenChange(!0),(C=n.content)==null||C.focus(),d.preventDefault())})})})});dS.displayName=Oo;var fS="MenuSubContent",pS=S.forwardRef((t,e)=>{const n=YT(Ht,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,s=Ii(Ht,t.__scopeMenu),o=$a(Ht,t.__scopeMenu),a=hS(fS,t.__scopeMenu),l=S.useRef(null),c=ft(e,l);return x.jsx(va.Provider,{scope:t.__scopeMenu,children:x.jsx(Qs,{present:r||s.open,children:x.jsx(va.Slot,{scope:t.__scopeMenu,children:x.jsx(j_,{id:a.contentId,"aria-labelledby":a.triggerId,...i,ref:c,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{var d;o.isUsingKeyboardRef.current&&((d=l.current)==null||d.focus()),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:se(t.onFocusOutside,h=>{h.target!==a.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:se(t.onEscapeKeyDown,h=>{o.onClose(),h.preventDefault()}),onKeyDown:se(t.onKeyDown,h=>{var C;const d=h.currentTarget.contains(h.target),_=e2[o.dir].includes(h.key);d&&_&&(s.onOpenChange(!1),(C=a.trigger)==null||C.focus(),h.preventDefault())})})})})})});pS.displayName=fS;function _S(t){return t?"open":"closed"}function Yu(t){return t==="indeterminate"}function B_(t){return Yu(t)?"indeterminate":t?"checked":"unchecked"}function w2(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function E2(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function T2(t,e,n){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let o=E2(t,Math.max(s,0));i.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function S2(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s],l=e[o],c=a.x,h=a.y,d=l.x,_=l.y;h>r!=_>r&&n<(d-c)*(r-h)/(_-h)+c&&(i=!i)}return i}function x2(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return S2(n,e)}function ya(t){return e=>e.pointerType==="mouse"?t(e):void 0}var C2=XT,I2=M_,A2=JT,b2=ZT,R2=U_,k2=eS,P2=qc,N2=nS,O2=iS,D2=oS,L2=lS,M2=uS,F2=cS,V2=dS,j2=pS,Hc="DropdownMenu",[U2,a3]=xi(Hc,[GT]),Et=GT(),[$2,mS]=U2(Hc),gS=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:i,defaultOpen:s,onOpenChange:o,modal:a=!0}=t,l=Et(e),c=S.useRef(null),[h,d]=fT({prop:i,defaultProp:s??!1,onChange:o,caller:Hc});return x.jsx($2,{scope:e,triggerId:zf(),triggerRef:c,contentId:zf(),open:h,onOpenChange:d,onOpenToggle:S.useCallback(()=>d(_=>!_),[d]),modal:a,children:x.jsx(C2,{...l,open:h,onOpenChange:d,dir:r,modal:a,children:n})})};gS.displayName=Hc;var vS="DropdownMenuTrigger",yS=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=t,s=mS(vS,n),o=Et(n);return x.jsx(I2,{asChild:!0,...o,children:x.jsx(Ue.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:Mc(e,s.triggerRef),onPointerDown:se(t.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(s.onOpenToggle(),s.open||a.preventDefault())}),onKeyDown:se(t.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&s.onOpenToggle(),a.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});yS.displayName=vS;var B2="DropdownMenuPortal",wS=t=>{const{__scopeDropdownMenu:e,...n}=t,r=Et(e);return x.jsx(A2,{...r,...n})};wS.displayName=B2;var ES="DropdownMenuContent",TS=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=mS(ES,n),s=Et(n),o=S.useRef(!1);return x.jsx(b2,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...r,ref:e,onCloseAutoFocus:se(t.onCloseAutoFocus,a=>{var l;o.current||(l=i.triggerRef.current)==null||l.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:se(t.onInteractOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,h=l.button===2||c;(!i.modal||h)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});TS.displayName=ES;var z2="DropdownMenuGroup",W2=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Et(n);return x.jsx(R2,{...i,...r,ref:e})});W2.displayName=z2;var q2="DropdownMenuLabel",H2=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Et(n);return x.jsx(k2,{...i,...r,ref:e})});H2.displayName=q2;var K2="DropdownMenuItem",SS=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Et(n);return x.jsx(P2,{...i,...r,ref:e})});SS.displayName=K2;var G2="DropdownMenuCheckboxItem",xS=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Et(n);return x.jsx(N2,{...i,...r,ref:e})});xS.displayName=G2;var Q2="DropdownMenuRadioGroup",X2=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Et(n);return x.jsx(O2,{...i,...r,ref:e})});X2.displayName=Q2;var Y2="DropdownMenuRadioItem",J2=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Et(n);return x.jsx(D2,{...i,...r,ref:e})});J2.displayName=Y2;var Z2="DropdownMenuItemIndicator",CS=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Et(n);return x.jsx(L2,{...i,...r,ref:e})});CS.displayName=Z2;var eO="DropdownMenuSeparator",tO=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Et(n);return x.jsx(M2,{...i,...r,ref:e})});tO.displayName=eO;var nO="DropdownMenuArrow",IS=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Et(n);return x.jsx(F2,{...i,...r,ref:e})});IS.displayName=nO;var rO="DropdownMenuSubTrigger",iO=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Et(n);return x.jsx(V2,{...i,...r,ref:e})});iO.displayName=rO;var sO="DropdownMenuSubContent",oO=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Et(n);return x.jsx(j2,{...i,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});oO.displayName=sO;var AS=gS,bS=yS,RS=wS,kS=TS,aO=SS,lO=xS,uO=CS,cO=IS,PS={exports:{}},NS={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ns=S;function hO(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var dO=typeof Object.is=="function"?Object.is:hO,fO=Ns.useState,pO=Ns.useEffect,_O=Ns.useLayoutEffect,mO=Ns.useDebugValue;function gO(t,e){var n=e(),r=fO({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return _O(function(){i.value=n,i.getSnapshot=e,vd(i)&&s({inst:i})},[t,n,e]),pO(function(){return vd(i)&&s({inst:i}),t(function(){vd(i)&&s({inst:i})})},[t]),mO(n),n}function vd(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!dO(t,n)}catch{return!0}}function vO(t,e){return e()}var yO=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?vO:gO;NS.useSyncExternalStore=Ns.useSyncExternalStore!==void 0?Ns.useSyncExternalStore:yO;PS.exports=NS;var wO=PS.exports;function EO(){return wO.useSyncExternalStore(TO,()=>!0,()=>!1)}function TO(){return()=>{}}var z_="Avatar",[SO,l3]=xi(z_),[xO,OS]=SO(z_),DS=S.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[i,s]=S.useState("idle");return x.jsx(xO,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:s,children:x.jsx(Ue.span,{...r,ref:e})})});DS.displayName=z_;var LS="AvatarImage",CO=S.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...s}=t,o=OS(LS,n),a=IO(r,s),l=Tn(c=>{i(c),o.onImageLoadingStatusChange(c)});return sn(()=>{a!=="idle"&&l(a)},[a,l]),a==="loaded"?x.jsx(Ue.img,{...s,ref:e,src:r}):null});CO.displayName=LS;var MS="AvatarFallback",FS=S.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...i}=t,s=OS(MS,n),[o,a]=S.useState(r===void 0);return S.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>a(!0),r);return()=>window.clearTimeout(l)}},[r]),o&&s.imageLoadingStatus!=="loaded"?x.jsx(Ue.span,{...i,ref:e}):null});FS.displayName=MS;function Ay(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function IO(t,{referrerPolicy:e,crossOrigin:n}){const r=EO(),i=S.useRef(null),s=r?(i.current||(i.current=new window.Image),i.current):null,[o,a]=S.useState(()=>Ay(s,t));return sn(()=>{a(Ay(s,t))},[s,t]),sn(()=>{const l=d=>()=>{a(d)};if(!s)return;const c=l("loaded"),h=l("error");return s.addEventListener("load",c),s.addEventListener("error",h),e&&(s.referrerPolicy=e),typeof n=="string"&&(s.crossOrigin=n),()=>{s.removeEventListener("load",c),s.removeEventListener("error",h)}},[s,n,e]),o}var AO=DS,bO=FS;const Co={size:{default:"2"},variant:{default:"solid"},color:D_,highContrast:L_,radius:zP},VS=S.forwardRef((t,e)=>{const{rest:n,...r}=Ma(t),{className:i,asChild:s=!1,size:o=Co.size.default,variant:a=Co.variant.default,color:l=Co.color.default,highContrast:c=Co.highContrast.default,radius:h=Co.radius.default,...d}=n,_=s?Hs:"button";return S.createElement(_,{"data-disabled":d.disabled||void 0,"data-accent-color":l,"data-radius":h,...d,ref:e,className:Si("rt-reset","rt-BaseButton",i,ie(o,"rt-r-size"),`rt-variant-${a}`,{"rt-high-contrast":c},Fa(r))})});VS.displayName="BaseButton";const Ju=S.forwardRef((t,e)=>S.createElement(VS,{...t,ref:e,className:Si("rt-Button",t.className)}));Ju.displayName="Button";const by={size:{default:"1"},variant:{default:"surface"}},jS=S.forwardRef((t,e)=>{const{rest:n,...r}=Ma(t),{asChild:i,children:s,className:o,size:a=by.size.default,variant:l=by.variant.default,...c}=n,h=i?Hs:"div";function d(){const _=S.Children.only(s);return S.cloneElement(_,{children:S.createElement("div",{className:"rt-CardInner"},_.props.children)})}return S.createElement(h,{ref:e,...c,className:Si("rt-reset","rt-Card",o,ie(a,"rt-r-size"),`rt-variant-${l}`,Fa(r))},i?d():S.createElement("div",{className:"rt-CardInner"},s))});jS.displayName="Card";/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wa(){return wa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wa.apply(this,arguments)}var _r;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(_r||(_r={}));const Ry="popstate";function RO(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return Zf("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Zu(i)}return PO(e,n,null,t)}function je(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function US(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function kO(){return Math.random().toString(36).substr(2,8)}function ky(t,e){return{usr:t.state,key:t.key,idx:e}}function Zf(t,e,n,r){return n===void 0&&(n=null),wa({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Xs(e):e,{state:n,key:e&&e.key||r||kO()})}function Zu(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Xs(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function PO(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=_r.Pop,l=null,c=h();c==null&&(c=0,o.replaceState(wa({},o.state,{idx:c}),""));function h(){return(o.state||{idx:null}).idx}function d(){a=_r.Pop;let y=h(),p=y==null?null:y-c;c=y,l&&l({action:a,location:A.location,delta:p})}function _(y,p){a=_r.Push;let g=Zf(A.location,y,p);c=h()+1;let w=ky(g,c),R=A.createHref(g);try{o.pushState(w,"",R)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;i.location.assign(R)}s&&l&&l({action:a,location:A.location,delta:1})}function C(y,p){a=_r.Replace;let g=Zf(A.location,y,p);c=h();let w=ky(g,c),R=A.createHref(g);o.replaceState(w,"",R),s&&l&&l({action:a,location:A.location,delta:0})}function b(y){let p=i.location.origin!=="null"?i.location.origin:i.location.href,g=typeof y=="string"?y:Zu(y);return g=g.replace(/ $/,"%20"),je(p,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,p)}let A={get action(){return a},get location(){return t(i,o)},listen(y){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Ry,d),l=y,()=>{i.removeEventListener(Ry,d),l=null}},createHref(y){return e(i,y)},createURL:b,encodeLocation(y){let p=b(y);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:_,replace:C,go(y){return o.go(y)}};return A}var Py;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Py||(Py={}));function NO(t,e,n){return n===void 0&&(n="/"),OO(t,e,n)}function OO(t,e,n,r){let i=typeof e=="string"?Xs(e):e,s=W_(i.pathname||"/",n);if(s==null)return null;let o=$S(t);DO(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=HO(s);a=zO(o[l],c)}return a}function $S(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(je(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=br([r,l.relativePath]),h=n.concat(l);s.children&&s.children.length>0&&(je(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),$S(s.children,e,h,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:$O(c,s.index),routesMeta:h})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of BS(s.path))i(s,o,l)}),e}function BS(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=BS(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function DO(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:BO(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const LO=/^:[\w-]+$/,MO=3,FO=2,VO=1,jO=10,UO=-2,Ny=t=>t==="*";function $O(t,e){let n=t.split("/"),r=n.length;return n.some(Ny)&&(r+=UO),e&&(r+=FO),n.filter(i=>!Ny(i)).reduce((i,s)=>i+(LO.test(s)?MO:s===""?VO:jO),r)}function BO(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function zO(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,h=s==="/"?e:e.slice(s.length)||"/",d=WO({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},h),_=l.route;if(!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:br([s,d.pathname]),pathnameBase:XO(br([s,d.pathnameBase])),route:_}),d.pathnameBase!=="/"&&(s=br([s,d.pathnameBase]))}return o}function WO(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=qO(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,h,d)=>{let{paramName:_,isOptional:C}=h;if(_==="*"){let A=a[d]||"";o=s.slice(0,s.length-A.length).replace(/(.)\/+$/,"$1")}const b=a[d];return C&&!b?c[_]=void 0:c[_]=(b||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function qO(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),US(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function HO(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return US(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function W_(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function KO(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Xs(t):t;return{pathname:n?n.startsWith("/")?n:GO(n,e):e,search:YO(r),hash:JO(i)}}function GO(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function yd(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function QO(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function zS(t,e){let n=QO(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function WS(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Xs(t):(i=wa({},t),je(!i.pathname||!i.pathname.includes("?"),yd("?","pathname","search",i)),je(!i.pathname||!i.pathname.includes("#"),yd("#","pathname","hash",i)),je(!i.search||!i.search.includes("#"),yd("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let _=o.split("/");for(;_[0]==="..";)_.shift(),d-=1;i.pathname=_.join("/")}a=d>=0?e[d]:"/"}let l=KO(i,a),c=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||h)&&(l.pathname+="/"),l}const br=t=>t.join("/").replace(/\/\/+/g,"/"),XO=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),YO=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,JO=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function ZO(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const qS=["post","put","patch","delete"];new Set(qS);const eD=["get",...qS];new Set(eD);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ea(){return Ea=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ea.apply(this,arguments)}const q_=S.createContext(null),tD=S.createContext(null),Ai=S.createContext(null),Kc=S.createContext(null),Qn=S.createContext({outlet:null,matches:[],isDataRoute:!1}),HS=S.createContext(null);function nD(t,e){let{relative:n}=e===void 0?{}:e;Ba()||je(!1);let{basename:r,navigator:i}=S.useContext(Ai),{hash:s,pathname:o,search:a}=GS(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:br([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Ba(){return S.useContext(Kc)!=null}function bi(){return Ba()||je(!1),S.useContext(Kc).location}function KS(t){S.useContext(Ai).static||S.useLayoutEffect(t)}function Xn(){let{isDataRoute:t}=S.useContext(Qn);return t?vD():rD()}function rD(){Ba()||je(!1);let t=S.useContext(q_),{basename:e,future:n,navigator:r}=S.useContext(Ai),{matches:i}=S.useContext(Qn),{pathname:s}=bi(),o=JSON.stringify(zS(i,n.v7_relativeSplatPath)),a=S.useRef(!1);return KS(()=>{a.current=!0}),S.useCallback(function(c,h){if(h===void 0&&(h={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=WS(c,JSON.parse(o),s,h.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:br([e,d.pathname])),(h.replace?r.replace:r.push)(d,h.state,h)},[e,r,o,s,t])}const iD=S.createContext(null);function sD(t){let e=S.useContext(Qn).outlet;return e&&S.createElement(iD.Provider,{value:t},e)}function oD(){let{matches:t}=S.useContext(Qn),e=t[t.length-1];return e?e.params:{}}function GS(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=S.useContext(Ai),{matches:i}=S.useContext(Qn),{pathname:s}=bi(),o=JSON.stringify(zS(i,r.v7_relativeSplatPath));return S.useMemo(()=>WS(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function aD(t,e){return lD(t,e)}function lD(t,e,n,r){Ba()||je(!1);let{navigator:i}=S.useContext(Ai),{matches:s}=S.useContext(Qn),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=bi(),h;if(e){var d;let y=typeof e=="string"?Xs(e):e;l==="/"||(d=y.pathname)!=null&&d.startsWith(l)||je(!1),h=y}else h=c;let _=h.pathname||"/",C=_;if(l!=="/"){let y=l.replace(/^\//,"").split("/");C="/"+_.replace(/^\//,"").split("/").slice(y.length).join("/")}let b=NO(t,{pathname:C}),A=fD(b&&b.map(y=>Object.assign({},y,{params:Object.assign({},a,y.params),pathname:br([l,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?l:br([l,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),s,n,r);return e&&A?S.createElement(Kc.Provider,{value:{location:Ea({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:_r.Pop}},A):A}function uD(){let t=gD(),e=ZO(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),n?S.createElement("pre",{style:i},n):null,null)}const cD=S.createElement(uD,null);class hD extends S.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?S.createElement(Qn.Provider,{value:this.props.routeContext},S.createElement(HS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function dD(t){let{routeContext:e,match:n,children:r}=t,i=S.useContext(q_);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),S.createElement(Qn.Provider,{value:e},r)}function fD(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let h=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);h>=0||je(!1),o=o.slice(0,Math.min(o.length,h+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let d=o[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=h),d.route.id){let{loaderData:_,errors:C}=n,b=d.route.loader&&_[d.route.id]===void 0&&(!C||C[d.route.id]===void 0);if(d.route.lazy||b){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((h,d,_)=>{let C,b=!1,A=null,y=null;n&&(C=a&&d.route.id?a[d.route.id]:void 0,A=d.route.errorElement||cD,l&&(c<0&&_===0?(yD("route-fallback"),b=!0,y=null):c===_&&(b=!0,y=d.route.hydrateFallbackElement||null)));let p=e.concat(o.slice(0,_+1)),g=()=>{let w;return C?w=A:b?w=y:d.route.Component?w=S.createElement(d.route.Component,null):d.route.element?w=d.route.element:w=h,S.createElement(dD,{match:d,routeContext:{outlet:h,matches:p,isDataRoute:n!=null},children:w})};return n&&(d.route.ErrorBoundary||d.route.errorElement||_===0)?S.createElement(hD,{location:n.location,revalidation:n.revalidation,component:A,error:C,children:g(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):g()},null)}var QS=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(QS||{}),XS=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(XS||{});function pD(t){let e=S.useContext(q_);return e||je(!1),e}function _D(t){let e=S.useContext(tD);return e||je(!1),e}function mD(t){let e=S.useContext(Qn);return e||je(!1),e}function YS(t){let e=mD(),n=e.matches[e.matches.length-1];return n.route.id||je(!1),n.route.id}function gD(){var t;let e=S.useContext(HS),n=_D(),r=YS();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function vD(){let{router:t}=pD(QS.UseNavigateStable),e=YS(XS.UseNavigateStable),n=S.useRef(!1);return KS(()=>{n.current=!0}),S.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Ea({fromRouteId:e},s)))},[t,e])}const Oy={};function yD(t,e,n){Oy[t]||(Oy[t]=!0)}function wD(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function ED(t){return sD(t.context)}function qi(t){je(!1)}function TD(t){let{basename:e="/",children:n=null,location:r,navigationType:i=_r.Pop,navigator:s,static:o=!1,future:a}=t;Ba()&&je(!1);let l=e.replace(/^\/*/,"/"),c=S.useMemo(()=>({basename:l,navigator:s,static:o,future:Ea({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=Xs(r));let{pathname:h="/",search:d="",hash:_="",state:C=null,key:b="default"}=r,A=S.useMemo(()=>{let y=W_(h,l);return y==null?null:{location:{pathname:y,search:d,hash:_,state:C,key:b},navigationType:i}},[l,h,d,_,C,b,i]);return A==null?null:S.createElement(Ai.Provider,{value:c},S.createElement(Kc.Provider,{children:n,value:A}))}function SD(t){let{children:e,location:n}=t;return aD(ep(e),n)}new Promise(()=>{});function ep(t,e){e===void 0&&(e=[]);let n=[];return S.Children.forEach(t,(r,i)=>{if(!S.isValidElement(r))return;let s=[...e,i];if(r.type===S.Fragment){n.push.apply(n,ep(r.props.children,s));return}r.type!==qi&&je(!1),!r.props.index||!r.props.children||je(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=ep(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function tp(){return tp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tp.apply(this,arguments)}function xD(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function CD(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function ID(t,e){return t.button===0&&(!e||e==="_self")&&!CD(t)}function np(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function AD(t,e){let n=np(t);return e&&e.forEach((r,i)=>{n.has(i)||e.getAll(i).forEach(s=>{n.append(i,s)})}),n}const bD=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],RD="6";try{window.__reactRouterVersion=RD}catch{}const kD="startTransition",Dy=Pp[kD];function PD(t){let{basename:e,children:n,future:r,window:i}=t,s=S.useRef();s.current==null&&(s.current=RO({window:i,v5Compat:!0}));let o=s.current,[a,l]=S.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},h=S.useCallback(d=>{c&&Dy?Dy(()=>l(d)):l(d)},[l,c]);return S.useLayoutEffect(()=>o.listen(h),[o,h]),S.useEffect(()=>wD(r),[r]),S.createElement(TD,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const ND=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",OD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Do=S.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:h,viewTransition:d}=e,_=xD(e,bD),{basename:C}=S.useContext(Ai),b,A=!1;if(typeof c=="string"&&OD.test(c)&&(b=c,ND))try{let w=new URL(window.location.href),R=c.startsWith("//")?new URL(w.protocol+c):new URL(c),L=W_(R.pathname,C);R.origin===w.origin&&L!=null?c=L+R.search+R.hash:A=!0}catch{}let y=nD(c,{relative:i}),p=DD(c,{replace:o,state:a,target:l,preventScrollReset:h,relative:i,viewTransition:d});function g(w){r&&r(w),w.defaultPrevented||p(w)}return S.createElement("a",tp({},_,{href:b||y,onClick:A||s?r:g,ref:n,target:l}))});var Ly;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Ly||(Ly={}));var My;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(My||(My={}));function DD(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=Xn(),c=bi(),h=GS(t,{relative:o});return S.useCallback(d=>{if(ID(d,n)){d.preventDefault();let _=r!==void 0?r:Zu(c)===Zu(h);l(t,{replace:_,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[c,l,h,r,i,n,t,s,o,a])}function LD(t){let e=S.useRef(np(t)),n=S.useRef(!1),r=bi(),i=S.useMemo(()=>AD(r.search,n.current?null:e.current),[r.search]),s=Xn(),o=S.useCallback((a,l)=>{const c=np(typeof a=="function"?a(i):a);n.current=!0,s("?"+c,l)},[s,i]);return[i,o]}const JS=S.createContext(),Ri=()=>{const t=S.useContext(JS);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},MD=({children:t})=>{const[e]=S.useState({id:"user",uid:"user",email:"user@example.com",displayName:"User"}),[n]=S.useState(!1),[r,i]=S.useState(null);S.useEffect(()=>{},[]);const l={user:e,loading:n,error:r,login:async c=>({success:!0}),logout:async()=>Promise.resolve(),clearError:()=>{i(null)},isAuthenticated:!!e};return x.jsx(JS.Provider,{value:l,children:t})},FD=({children:t,fallback:e="/login"})=>t,VD=()=>{const{user:t,logout:e}=Ri(),[n,r]=S.useState(!1),i=Xn(),s=async()=>{r(!0);try{await e(),i("/")}catch(a){console.error("Logout error:",a)}finally{r(!1)}};if(!t)return null;const o=a=>a.charAt(0).toUpperCase();return x.jsxs(AS,{children:[x.jsx(bS,{asChild:!0,children:x.jsx(Ju,{variant:"ghost",className:"user-profile-trigger",children:x.jsx(AO,{className:"user-profile-avatar",children:x.jsx(bO,{children:o(t.email)})})})}),x.jsx(RS,{children:x.jsxs(kS,{align:"end",sideOffset:8,className:"user-profile-dropdown",children:[x.jsxs("div",{className:"user-profile-info",children:[x.jsx("div",{className:"user-profile-label",children:"Signed in as"}),x.jsx("div",{className:"user-profile-email",children:t.email})]}),x.jsx("hr",{className:"user-profile-separator"}),x.jsx(aO,{asChild:!0,children:x.jsx("button",{className:"user-profile-logout",onClick:s,disabled:n,children:n?"Signing out...":"Sign out"})})]})})]})},ZS=t=>t?t instanceof Date?t:t&&typeof t.toDate=="function"?t.toDate():null:null,ex=(t,e={})=>{const n=ZS(t);if(!n)return"Unknown date";const i={...{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"},...e};try{return n.toLocaleDateString("en-US",i)}catch{return n.toISOString().split("T")[0]}},jD=t=>{const e=ZS(t);if(!e)return"Unknown time";const r=new Date().getTime()-e.getTime(),i=Math.floor(r/1e3),s=Math.floor(i/60),o=Math.floor(s/60),a=Math.floor(o/24);return i<60?"Just now":s<60?`${s} minute${s!==1?"s":""} ago`:o<24?`${o} hour${o!==1?"s":""} ago`:a<7?`${a} day${a!==1?"s":""} ago`:ex(e,{year:"numeric",month:"short",day:"numeric"})},tx=t=>{if(!t||typeof t!="string")return"Anonymous";const e=t.split("@")[0];return e.charAt(0).toUpperCase()+e.slice(1)},Fy=(t,e=100,n="...")=>{if(!t||typeof t!="string")return"";if(t.length<=e)return t;const r=e-n.length;return t.substring(0,r)+n},H_=t=>!t||typeof t!="string"?"":t.toLowerCase().split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "),UD=t=>Array.isArray(t)?t.filter(e=>e&&typeof e=="string").map(e=>H_(e.trim())).filter(e=>e.length>0):[],nx=({text:t,className:e="",disabled:n=!1,size:r="medium",onCopySuccess:i,onCopyError:s})=>{const[o,a]=S.useState("idle"),l=async()=>{if(o==="copying"||n||!t)return a("copying");try{navigator.clipboard&&window.isSecureContext?await navigator.clipboard.writeText(t):await c(t),a("success"),i&&i(t),setTimeout(()=>a("idle"),2e3)}catch(_){console.error("Failed to copy text:",_),a("error"),s&&s(_),setTimeout(()=>a("idle"),3e3)}},c=_=>new Promise((C,b)=>{const A=document.createElement("textarea");A.value=_,A.style.top="0",A.style.left="0",A.style.position="fixed",A.style.opacity="0",document.body.appendChild(A),A.focus(),A.select();try{const y=document.execCommand("copy");document.body.removeChild(A),y?C():b(new Error("Copy command failed"))}catch(y){document.body.removeChild(A),b(y)}}),h=()=>{switch(o){case"copying":return"Copying...";case"success":return"Copied!";case"error":return"Failed";default:return"Copy"}},d=()=>{const _=`copy-button copy-button--${r}`,C=o!=="idle"?`copy-button--${o}`:"";return`${_} ${C} ${n?"copy-button--disabled":""} ${e}`.trim()};return x.jsxs("button",{className:d(),onClick:l,disabled:n||o==="copying"||!t,title:`Copy ${t?"to clipboard":"(no content)"}`,"aria-label":`Copy text to clipboard. Status: ${o}`,children:[x.jsx("span",{className:"copy-button__icon","aria-hidden":"true",children:x.jsx("svg",{width:"22",height:"22",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:x.jsx("path",{d:"M5 2V1H10V2H5ZM4.75 0C4.33579 0 4 0.335786 4 0.75V1H3.5C2.67157 1 2 1.67157 2 2.5V12.5C2 13.3284 2.67157 14 3.5 14H7V13H3.5C3.22386 13 3 12.7761 3 12.5V2.5C3 2.22386 3.22386 2 3.5 2H4V2.25C4 2.66421 4.33579 3 4.75 3H10.25C10.6642 3 11 2.66421 11 2.25V2H11.5C11.7761 2 12 2.22386 12 2.5V7H13V2.5C13 1.67157 12.3284 1 11.5 1H11V0.75C11 0.335786 10.6642 0 10.25 0H4.75ZM9 8.5C9 8.77614 8.77614 9 8.5 9C8.22386 9 8 8.77614 8 8.5C8 8.22386 8.22386 8 8.5 8C8.77614 8 9 8.22386 9 8.5ZM10.5 9C10.7761 9 11 8.77614 11 8.5C11 8.22386 10.7761 8 10.5 8C10.2239 8 10 8.22386 10 8.5C10 8.77614 10.2239 9 10.5 9ZM13 8.5C13 8.77614 12.7761 9 12.5 9C12.2239 9 12 8.77614 12 8.5C12 8.22386 12.2239 8 12.5 8C12.7761 8 13 8.22386 13 8.5ZM14.5 9C14.7761 9 15 8.77614 15 8.5C15 8.22386 14.7761 8 14.5 8C14.2239 8 14 8.22386 14 8.5C14 8.77614 14.2239 9 14.5 9ZM15 10.5C15 10.7761 14.7761 11 14.5 11C14.2239 11 14 10.7761 14 10.5C14 10.2239 14.2239 10 14.5 10C14.7761 10 15 10.2239 15 10.5ZM14.5 13C14.7761 13 15 12.7761 15 12.5C15 12.2239 14.7761 12 14.5 12C14.2239 12 14 12.2239 14 12.5C14 12.7761 14.2239 13 14.5 13ZM14.5 15C14.7761 15 15 14.7761 15 14.5C15 14.2239 14.7761 14 14.5 14C14.2239 14 14 14.2239 14 14.5C14 14.7761 14.2239 15 14.5 15ZM8.5 11C8.77614 11 9 10.7761 9 10.5C9 10.2239 8.77614 10 8.5 10C8.22386 10 8 10.2239 8 10.5C8 10.7761 8.22386 11 8.5 11ZM9 12.5C9 12.7761 8.77614 13 8.5 13C8.22386 13 8 12.7761 8 12.5C8 12.2239 8.22386 12 8.5 12C8.77614 12 9 12.2239 9 12.5ZM8.5 15C8.77614 15 9 14.7761 9 14.5C9 14.2239 8.77614 14 8.5 14C8.22386 14 8 14.2239 8 14.5C8 14.7761 8.22386 15 8.5 15ZM11 14.5C11 14.7761 10.7761 15 10.5 15C10.2239 15 10 14.7761 10 14.5C10 14.2239 10.2239 14 10.5 14C10.7761 14 11 14.2239 11 14.5ZM12.5 15C12.7761 15 13 14.7761 13 14.5C13 14.2239 12.7761 14 12.5 14C12.2239 14 12 14.2239 12 14.5C12 14.7761 12.2239 15 12.5 15Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}),x.jsx("span",{className:"copy-button__text",children:h()})]})};var Vy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rx=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},$D=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},ix={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,h=s>>2,d=(s&3)<<4|a>>4;let _=(a&15)<<2|c>>6,C=c&63;l||(C=64,o||(_=64)),r.push(n[h],n[d],n[_],n[C])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(rx(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):$D(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||d==null)throw new BD;const _=s<<2|a>>4;if(r.push(_),c!==64){const C=a<<4&240|c>>2;if(r.push(C),d!==64){const b=c<<6&192|d;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class BD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const zD=function(t){const e=rx(t);return ix.encodeByteArray(e,!0)},ec=function(t){return zD(t).replace(/\./g,"")},sx=function(t){try{return ix.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qD=()=>WD().__FIREBASE_DEFAULTS__,HD=()=>{if(typeof process>"u"||typeof Vy>"u")return;const t=Vy.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},KD=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&sx(t[1]);return e&&JSON.parse(e)},Gc=()=>{try{return qD()||HD()||KD()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},ox=t=>{var e,n;return(n=(e=Gc())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},GD=t=>{const e=ox(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},ax=()=>{var t;return(t=Gc())===null||t===void 0?void 0:t.config},lx=t=>{var e;return(e=Gc())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XD(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ec(JSON.stringify(n)),ec(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function YD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pt())}function JD(){var t;const e=(t=Gc())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ZD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function eL(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function tL(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function nL(){const t=pt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function rL(){return!JD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function iL(){try{return typeof indexedDB=="object"}catch{return!1}}function sL(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oL="FirebaseError";class Yn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=oL,Object.setPrototypeOf(this,Yn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,za.prototype.create)}}class za{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?aL(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Yn(i,a,r)}}function aL(t,e){return t.replace(lL,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const lL=/\{\$([^}]+)}/g;function uL(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function tc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(jy(s)&&jy(o)){if(!tc(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function jy(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wa(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function cL(t,e){const n=new hL(t,e);return n.subscribe.bind(n)}class hL{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");dL(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=wd),i.error===void 0&&(i.error=wd),i.complete===void 0&&(i.complete=wd);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function dL(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function wd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vt(t){return t&&t._delegate?t._delegate:t}class mi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ei="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fL{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new QD;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(_L(e))try{this.getOrInitializeService({instanceIdentifier:ei})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ei){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ei){return this.instances.has(e)}getOptions(e=ei){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:pL(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ei){return this.component?this.component.multipleInstances?e:ei:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function pL(t){return t===ei?void 0:t}function _L(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mL{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new fL(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ae;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ae||(ae={}));const gL={debug:ae.DEBUG,verbose:ae.VERBOSE,info:ae.INFO,warn:ae.WARN,error:ae.ERROR,silent:ae.SILENT},vL=ae.INFO,yL={[ae.DEBUG]:"log",[ae.VERBOSE]:"log",[ae.INFO]:"info",[ae.WARN]:"warn",[ae.ERROR]:"error"},wL=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=yL[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class K_{constructor(e){this.name=e,this._logLevel=vL,this._logHandler=wL,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ae))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?gL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ae.DEBUG,...e),this._logHandler(this,ae.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ae.VERBOSE,...e),this._logHandler(this,ae.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ae.INFO,...e),this._logHandler(this,ae.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ae.WARN,...e),this._logHandler(this,ae.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ae.ERROR,...e),this._logHandler(this,ae.ERROR,...e)}}const EL=(t,e)=>e.some(n=>t instanceof n);let Uy,$y;function TL(){return Uy||(Uy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function SL(){return $y||($y=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ux=new WeakMap,rp=new WeakMap,cx=new WeakMap,Ed=new WeakMap,G_=new WeakMap;function xL(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Rr(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&ux.set(n,t)}).catch(()=>{}),G_.set(e,t),e}function CL(t){if(rp.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});rp.set(t,e)}let ip={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return rp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||cx.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Rr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function IL(t){ip=t(ip)}function AL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Td(this),e,...n);return cx.set(r,e.sort?e.sort():[e]),Rr(r)}:SL().includes(t)?function(...e){return t.apply(Td(this),e),Rr(ux.get(this))}:function(...e){return Rr(t.apply(Td(this),e))}}function bL(t){return typeof t=="function"?AL(t):(t instanceof IDBTransaction&&CL(t),EL(t,TL())?new Proxy(t,ip):t)}function Rr(t){if(t instanceof IDBRequest)return xL(t);if(Ed.has(t))return Ed.get(t);const e=bL(t);return e!==t&&(Ed.set(t,e),G_.set(e,t)),e}const Td=t=>G_.get(t);function RL(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Rr(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Rr(o.result),l.oldVersion,l.newVersion,Rr(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const kL=["get","getKey","getAll","getAllKeys","count"],PL=["put","add","delete","clear"],Sd=new Map;function By(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Sd.get(e))return Sd.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=PL.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||kL.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return Sd.set(e,s),s}IL(t=>({...t,get:(e,n,r)=>By(e,n)||t.get(e,n,r),has:(e,n)=>!!By(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NL{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(OL(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function OL(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const sp="@firebase/app",zy="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wn=new K_("@firebase/app"),DL="@firebase/app-compat",LL="@firebase/analytics-compat",ML="@firebase/analytics",FL="@firebase/app-check-compat",VL="@firebase/app-check",jL="@firebase/auth",UL="@firebase/auth-compat",$L="@firebase/database",BL="@firebase/data-connect",zL="@firebase/database-compat",WL="@firebase/functions",qL="@firebase/functions-compat",HL="@firebase/installations",KL="@firebase/installations-compat",GL="@firebase/messaging",QL="@firebase/messaging-compat",XL="@firebase/performance",YL="@firebase/performance-compat",JL="@firebase/remote-config",ZL="@firebase/remote-config-compat",eM="@firebase/storage",tM="@firebase/storage-compat",nM="@firebase/firestore",rM="@firebase/vertexai-preview",iM="@firebase/firestore-compat",sM="firebase",oM="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const op="[DEFAULT]",aM={[sp]:"fire-core",[DL]:"fire-core-compat",[ML]:"fire-analytics",[LL]:"fire-analytics-compat",[VL]:"fire-app-check",[FL]:"fire-app-check-compat",[jL]:"fire-auth",[UL]:"fire-auth-compat",[$L]:"fire-rtdb",[BL]:"fire-data-connect",[zL]:"fire-rtdb-compat",[WL]:"fire-fn",[qL]:"fire-fn-compat",[HL]:"fire-iid",[KL]:"fire-iid-compat",[GL]:"fire-fcm",[QL]:"fire-fcm-compat",[XL]:"fire-perf",[YL]:"fire-perf-compat",[JL]:"fire-rc",[ZL]:"fire-rc-compat",[eM]:"fire-gcs",[tM]:"fire-gcs-compat",[nM]:"fire-fst",[iM]:"fire-fst-compat",[rM]:"fire-vertex","fire-js":"fire-js",[sM]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nc=new Map,lM=new Map,ap=new Map;function Wy(t,e){try{t.container.addComponent(e)}catch(n){Wn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Os(t){const e=t.name;if(ap.has(e))return Wn.debug(`There were multiple attempts to register component ${e}.`),!1;ap.set(e,t);for(const n of nc.values())Wy(n,t);for(const n of lM.values())Wy(n,t);return!0}function Q_(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function mr(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},kr=new za("app","Firebase",uM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new mi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw kr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ys=oM;function hx(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:op,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw kr.create("bad-app-name",{appName:String(i)});if(n||(n=ax()),!n)throw kr.create("no-options");const s=nc.get(i);if(s){if(tc(n,s.options)&&tc(r,s.config))return s;throw kr.create("duplicate-app",{appName:i})}const o=new mL(i);for(const l of ap.values())o.addComponent(l);const a=new cM(n,r,o);return nc.set(i,a),a}function dx(t=op){const e=nc.get(t);if(!e&&t===op&&ax())return hx();if(!e)throw kr.create("no-app",{appName:t});return e}function Pr(t,e,n){var r;let i=(r=aM[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Wn.warn(a.join(" "));return}Os(new mi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hM="firebase-heartbeat-database",dM=1,Ta="firebase-heartbeat-store";let xd=null;function fx(){return xd||(xd=RL(hM,dM,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ta)}catch(n){console.warn(n)}}}}).catch(t=>{throw kr.create("idb-open",{originalErrorMessage:t.message})})),xd}async function fM(t){try{const n=(await fx()).transaction(Ta),r=await n.objectStore(Ta).get(px(t));return await n.done,r}catch(e){if(e instanceof Yn)Wn.warn(e.message);else{const n=kr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Wn.warn(n.message)}}}async function qy(t,e){try{const r=(await fx()).transaction(Ta,"readwrite");await r.objectStore(Ta).put(e,px(t)),await r.done}catch(n){if(n instanceof Yn)Wn.warn(n.message);else{const r=kr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Wn.warn(r.message)}}}function px(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pM=1024,_M=30*24*60*60*1e3;class mM{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new vM(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Hy();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=_M}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Wn.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Hy(),{heartbeatsToSend:r,unsentEntries:i}=gM(this._heartbeatsCache.heartbeats),s=ec(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Wn.warn(n),""}}}function Hy(){return new Date().toISOString().substring(0,10)}function gM(t,e=pM){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Ky(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Ky(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class vM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return iL()?sL().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await fM(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return qy(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return qy(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Ky(t){return ec(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yM(t){Os(new mi("platform-logger",e=>new NL(e),"PRIVATE")),Os(new mi("heartbeat",e=>new mM(e),"PRIVATE")),Pr(sp,zy,t),Pr(sp,zy,"esm2017"),Pr("fire-js","")}yM("");var Gy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ai,_x;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(E,v){function I(){}I.prototype=v.prototype,E.D=v.prototype,E.prototype=new I,E.prototype.constructor=E,E.C=function(f,k,N){for(var D=Array(arguments.length-2),z=2;z<arguments.length;z++)D[z-2]=arguments[z];return v.prototype[k].apply(f,D)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,v,I){I||(I=0);var f=Array(16);if(typeof v=="string")for(var k=0;16>k;++k)f[k]=v.charCodeAt(I++)|v.charCodeAt(I++)<<8|v.charCodeAt(I++)<<16|v.charCodeAt(I++)<<24;else for(k=0;16>k;++k)f[k]=v[I++]|v[I++]<<8|v[I++]<<16|v[I++]<<24;v=E.g[0],I=E.g[1],k=E.g[2];var N=E.g[3],D=v+(N^I&(k^N))+f[0]+3614090360&4294967295;v=I+(D<<7&4294967295|D>>>25),D=N+(k^v&(I^k))+f[1]+3905402710&4294967295,N=v+(D<<12&4294967295|D>>>20),D=k+(I^N&(v^I))+f[2]+606105819&4294967295,k=N+(D<<17&4294967295|D>>>15),D=I+(v^k&(N^v))+f[3]+3250441966&4294967295,I=k+(D<<22&4294967295|D>>>10),D=v+(N^I&(k^N))+f[4]+4118548399&4294967295,v=I+(D<<7&4294967295|D>>>25),D=N+(k^v&(I^k))+f[5]+1200080426&4294967295,N=v+(D<<12&4294967295|D>>>20),D=k+(I^N&(v^I))+f[6]+2821735955&4294967295,k=N+(D<<17&4294967295|D>>>15),D=I+(v^k&(N^v))+f[7]+4249261313&4294967295,I=k+(D<<22&4294967295|D>>>10),D=v+(N^I&(k^N))+f[8]+1770035416&4294967295,v=I+(D<<7&4294967295|D>>>25),D=N+(k^v&(I^k))+f[9]+2336552879&4294967295,N=v+(D<<12&4294967295|D>>>20),D=k+(I^N&(v^I))+f[10]+4294925233&4294967295,k=N+(D<<17&4294967295|D>>>15),D=I+(v^k&(N^v))+f[11]+2304563134&4294967295,I=k+(D<<22&4294967295|D>>>10),D=v+(N^I&(k^N))+f[12]+1804603682&4294967295,v=I+(D<<7&4294967295|D>>>25),D=N+(k^v&(I^k))+f[13]+4254626195&4294967295,N=v+(D<<12&4294967295|D>>>20),D=k+(I^N&(v^I))+f[14]+2792965006&4294967295,k=N+(D<<17&4294967295|D>>>15),D=I+(v^k&(N^v))+f[15]+1236535329&4294967295,I=k+(D<<22&4294967295|D>>>10),D=v+(k^N&(I^k))+f[1]+4129170786&4294967295,v=I+(D<<5&4294967295|D>>>27),D=N+(I^k&(v^I))+f[6]+3225465664&4294967295,N=v+(D<<9&4294967295|D>>>23),D=k+(v^I&(N^v))+f[11]+643717713&4294967295,k=N+(D<<14&4294967295|D>>>18),D=I+(N^v&(k^N))+f[0]+3921069994&4294967295,I=k+(D<<20&4294967295|D>>>12),D=v+(k^N&(I^k))+f[5]+3593408605&4294967295,v=I+(D<<5&4294967295|D>>>27),D=N+(I^k&(v^I))+f[10]+38016083&4294967295,N=v+(D<<9&4294967295|D>>>23),D=k+(v^I&(N^v))+f[15]+3634488961&4294967295,k=N+(D<<14&4294967295|D>>>18),D=I+(N^v&(k^N))+f[4]+3889429448&4294967295,I=k+(D<<20&4294967295|D>>>12),D=v+(k^N&(I^k))+f[9]+568446438&4294967295,v=I+(D<<5&4294967295|D>>>27),D=N+(I^k&(v^I))+f[14]+3275163606&4294967295,N=v+(D<<9&4294967295|D>>>23),D=k+(v^I&(N^v))+f[3]+4107603335&4294967295,k=N+(D<<14&4294967295|D>>>18),D=I+(N^v&(k^N))+f[8]+1163531501&4294967295,I=k+(D<<20&4294967295|D>>>12),D=v+(k^N&(I^k))+f[13]+2850285829&4294967295,v=I+(D<<5&4294967295|D>>>27),D=N+(I^k&(v^I))+f[2]+4243563512&4294967295,N=v+(D<<9&4294967295|D>>>23),D=k+(v^I&(N^v))+f[7]+1735328473&4294967295,k=N+(D<<14&4294967295|D>>>18),D=I+(N^v&(k^N))+f[12]+2368359562&4294967295,I=k+(D<<20&4294967295|D>>>12),D=v+(I^k^N)+f[5]+4294588738&4294967295,v=I+(D<<4&4294967295|D>>>28),D=N+(v^I^k)+f[8]+2272392833&4294967295,N=v+(D<<11&4294967295|D>>>21),D=k+(N^v^I)+f[11]+1839030562&4294967295,k=N+(D<<16&4294967295|D>>>16),D=I+(k^N^v)+f[14]+4259657740&4294967295,I=k+(D<<23&4294967295|D>>>9),D=v+(I^k^N)+f[1]+2763975236&4294967295,v=I+(D<<4&4294967295|D>>>28),D=N+(v^I^k)+f[4]+1272893353&4294967295,N=v+(D<<11&4294967295|D>>>21),D=k+(N^v^I)+f[7]+4139469664&4294967295,k=N+(D<<16&4294967295|D>>>16),D=I+(k^N^v)+f[10]+3200236656&4294967295,I=k+(D<<23&4294967295|D>>>9),D=v+(I^k^N)+f[13]+681279174&4294967295,v=I+(D<<4&4294967295|D>>>28),D=N+(v^I^k)+f[0]+3936430074&4294967295,N=v+(D<<11&4294967295|D>>>21),D=k+(N^v^I)+f[3]+3572445317&4294967295,k=N+(D<<16&4294967295|D>>>16),D=I+(k^N^v)+f[6]+76029189&4294967295,I=k+(D<<23&4294967295|D>>>9),D=v+(I^k^N)+f[9]+3654602809&4294967295,v=I+(D<<4&4294967295|D>>>28),D=N+(v^I^k)+f[12]+3873151461&4294967295,N=v+(D<<11&4294967295|D>>>21),D=k+(N^v^I)+f[15]+530742520&4294967295,k=N+(D<<16&4294967295|D>>>16),D=I+(k^N^v)+f[2]+3299628645&4294967295,I=k+(D<<23&4294967295|D>>>9),D=v+(k^(I|~N))+f[0]+4096336452&4294967295,v=I+(D<<6&4294967295|D>>>26),D=N+(I^(v|~k))+f[7]+1126891415&4294967295,N=v+(D<<10&4294967295|D>>>22),D=k+(v^(N|~I))+f[14]+2878612391&4294967295,k=N+(D<<15&4294967295|D>>>17),D=I+(N^(k|~v))+f[5]+4237533241&4294967295,I=k+(D<<21&4294967295|D>>>11),D=v+(k^(I|~N))+f[12]+1700485571&4294967295,v=I+(D<<6&4294967295|D>>>26),D=N+(I^(v|~k))+f[3]+2399980690&4294967295,N=v+(D<<10&4294967295|D>>>22),D=k+(v^(N|~I))+f[10]+4293915773&4294967295,k=N+(D<<15&4294967295|D>>>17),D=I+(N^(k|~v))+f[1]+2240044497&4294967295,I=k+(D<<21&4294967295|D>>>11),D=v+(k^(I|~N))+f[8]+1873313359&4294967295,v=I+(D<<6&4294967295|D>>>26),D=N+(I^(v|~k))+f[15]+4264355552&4294967295,N=v+(D<<10&4294967295|D>>>22),D=k+(v^(N|~I))+f[6]+2734768916&4294967295,k=N+(D<<15&4294967295|D>>>17),D=I+(N^(k|~v))+f[13]+1309151649&4294967295,I=k+(D<<21&4294967295|D>>>11),D=v+(k^(I|~N))+f[4]+4149444226&4294967295,v=I+(D<<6&4294967295|D>>>26),D=N+(I^(v|~k))+f[11]+3174756917&4294967295,N=v+(D<<10&4294967295|D>>>22),D=k+(v^(N|~I))+f[2]+718787259&4294967295,k=N+(D<<15&4294967295|D>>>17),D=I+(N^(k|~v))+f[9]+3951481745&4294967295,E.g[0]=E.g[0]+v&4294967295,E.g[1]=E.g[1]+(k+(D<<21&4294967295|D>>>11))&4294967295,E.g[2]=E.g[2]+k&4294967295,E.g[3]=E.g[3]+N&4294967295}r.prototype.u=function(E,v){v===void 0&&(v=E.length);for(var I=v-this.blockSize,f=this.B,k=this.h,N=0;N<v;){if(k==0)for(;N<=I;)i(this,E,N),N+=this.blockSize;if(typeof E=="string"){for(;N<v;)if(f[k++]=E.charCodeAt(N++),k==this.blockSize){i(this,f),k=0;break}}else for(;N<v;)if(f[k++]=E[N++],k==this.blockSize){i(this,f),k=0;break}}this.h=k,this.o+=v},r.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var v=1;v<E.length-8;++v)E[v]=0;var I=8*this.o;for(v=E.length-8;v<E.length;++v)E[v]=I&255,I/=256;for(this.u(E),E=Array(16),v=I=0;4>v;++v)for(var f=0;32>f;f+=8)E[I++]=this.g[v]>>>f&255;return E};function s(E,v){var I=a;return Object.prototype.hasOwnProperty.call(I,E)?I[E]:I[E]=v(E)}function o(E,v){this.h=v;for(var I=[],f=!0,k=E.length-1;0<=k;k--){var N=E[k]|0;f&&N==v||(I[k]=N,f=!1)}this.g=I}var a={};function l(E){return-128<=E&&128>E?s(E,function(v){return new o([v|0],0>v?-1:0)}):new o([E|0],0>E?-1:0)}function c(E){if(isNaN(E)||!isFinite(E))return d;if(0>E)return y(c(-E));for(var v=[],I=1,f=0;E>=I;f++)v[f]=E/I|0,I*=4294967296;return new o(v,0)}function h(E,v){if(E.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(E.charAt(0)=="-")return y(h(E.substring(1),v));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=c(Math.pow(v,8)),f=d,k=0;k<E.length;k+=8){var N=Math.min(8,E.length-k),D=parseInt(E.substring(k,k+N),v);8>N?(N=c(Math.pow(v,N)),f=f.j(N).add(c(D))):(f=f.j(I),f=f.add(c(D)))}return f}var d=l(0),_=l(1),C=l(16777216);t=o.prototype,t.m=function(){if(A(this))return-y(this).m();for(var E=0,v=1,I=0;I<this.g.length;I++){var f=this.i(I);E+=(0<=f?f:4294967296+f)*v,v*=4294967296}return E},t.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(b(this))return"0";if(A(this))return"-"+y(this).toString(E);for(var v=c(Math.pow(E,6)),I=this,f="";;){var k=R(I,v).g;I=p(I,k.j(v));var N=((0<I.g.length?I.g[0]:I.h)>>>0).toString(E);if(I=k,b(I))return N+f;for(;6>N.length;)N="0"+N;f=N+f}},t.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function b(E){if(E.h!=0)return!1;for(var v=0;v<E.g.length;v++)if(E.g[v]!=0)return!1;return!0}function A(E){return E.h==-1}t.l=function(E){return E=p(this,E),A(E)?-1:b(E)?0:1};function y(E){for(var v=E.g.length,I=[],f=0;f<v;f++)I[f]=~E.g[f];return new o(I,~E.h).add(_)}t.abs=function(){return A(this)?y(this):this},t.add=function(E){for(var v=Math.max(this.g.length,E.g.length),I=[],f=0,k=0;k<=v;k++){var N=f+(this.i(k)&65535)+(E.i(k)&65535),D=(N>>>16)+(this.i(k)>>>16)+(E.i(k)>>>16);f=D>>>16,N&=65535,D&=65535,I[k]=D<<16|N}return new o(I,I[I.length-1]&-2147483648?-1:0)};function p(E,v){return E.add(y(v))}t.j=function(E){if(b(this)||b(E))return d;if(A(this))return A(E)?y(this).j(y(E)):y(y(this).j(E));if(A(E))return y(this.j(y(E)));if(0>this.l(C)&&0>E.l(C))return c(this.m()*E.m());for(var v=this.g.length+E.g.length,I=[],f=0;f<2*v;f++)I[f]=0;for(f=0;f<this.g.length;f++)for(var k=0;k<E.g.length;k++){var N=this.i(f)>>>16,D=this.i(f)&65535,z=E.i(k)>>>16,Y=E.i(k)&65535;I[2*f+2*k]+=D*Y,g(I,2*f+2*k),I[2*f+2*k+1]+=N*Y,g(I,2*f+2*k+1),I[2*f+2*k+1]+=D*z,g(I,2*f+2*k+1),I[2*f+2*k+2]+=N*z,g(I,2*f+2*k+2)}for(f=0;f<v;f++)I[f]=I[2*f+1]<<16|I[2*f];for(f=v;f<2*v;f++)I[f]=0;return new o(I,0)};function g(E,v){for(;(E[v]&65535)!=E[v];)E[v+1]+=E[v]>>>16,E[v]&=65535,v++}function w(E,v){this.g=E,this.h=v}function R(E,v){if(b(v))throw Error("division by zero");if(b(E))return new w(d,d);if(A(E))return v=R(y(E),v),new w(y(v.g),y(v.h));if(A(v))return v=R(E,y(v)),new w(y(v.g),v.h);if(30<E.g.length){if(A(E)||A(v))throw Error("slowDivide_ only works with positive integers.");for(var I=_,f=v;0>=f.l(E);)I=L(I),f=L(f);var k=P(I,1),N=P(f,1);for(f=P(f,2),I=P(I,2);!b(f);){var D=N.add(f);0>=D.l(E)&&(k=k.add(I),N=D),f=P(f,1),I=P(I,1)}return v=p(E,k.j(v)),new w(k,v)}for(k=d;0<=E.l(v);){for(I=Math.max(1,Math.floor(E.m()/v.m())),f=Math.ceil(Math.log(I)/Math.LN2),f=48>=f?1:Math.pow(2,f-48),N=c(I),D=N.j(v);A(D)||0<D.l(E);)I-=f,N=c(I),D=N.j(v);b(N)&&(N=_),k=k.add(N),E=p(E,D)}return new w(k,E)}t.A=function(E){return R(this,E).h},t.and=function(E){for(var v=Math.max(this.g.length,E.g.length),I=[],f=0;f<v;f++)I[f]=this.i(f)&E.i(f);return new o(I,this.h&E.h)},t.or=function(E){for(var v=Math.max(this.g.length,E.g.length),I=[],f=0;f<v;f++)I[f]=this.i(f)|E.i(f);return new o(I,this.h|E.h)},t.xor=function(E){for(var v=Math.max(this.g.length,E.g.length),I=[],f=0;f<v;f++)I[f]=this.i(f)^E.i(f);return new o(I,this.h^E.h)};function L(E){for(var v=E.g.length+1,I=[],f=0;f<v;f++)I[f]=E.i(f)<<1|E.i(f-1)>>>31;return new o(I,E.h)}function P(E,v){var I=v>>5;v%=32;for(var f=E.g.length-I,k=[],N=0;N<f;N++)k[N]=0<v?E.i(N+I)>>>v|E.i(N+I+1)<<32-v:E.i(N+I);return new o(k,E.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,_x=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=h,ai=o}).apply(typeof Gy<"u"?Gy:typeof self<"u"?self:typeof window<"u"?window:{});var Ul=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var mx,Lo,gx,pu,lp,vx,yx,wx;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,T){return u==Array.prototype||u==Object.prototype||(u[m]=T.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ul=="object"&&Ul];for(var m=0;m<u.length;++m){var T=u[m];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=n(this);function i(u,m){if(m)e:{var T=r;u=u.split(".");for(var O=0;O<u.length-1;O++){var F=u[O];if(!(F in T))break e;T=T[F]}u=u[u.length-1],O=T[u],m=m(O),m!=O&&m!=null&&e(T,u,{configurable:!0,writable:!0,value:m})}}function s(u,m){u instanceof String&&(u+="");var T=0,O=!1,F={next:function(){if(!O&&T<u.length){var V=T++;return{value:m(V,u[V]),done:!1}}return O=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}i("Array.prototype.values",function(u){return u||function(){return s(this,function(m,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function c(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function h(u,m,T){return u.call.apply(u.bind,arguments)}function d(u,m,T){if(!u)throw Error();if(2<arguments.length){var O=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,O),u.apply(m,F)}}return function(){return u.apply(m,arguments)}}function _(u,m,T){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:d,_.apply(null,arguments)}function C(u,m){var T=Array.prototype.slice.call(arguments,1);return function(){var O=T.slice();return O.push.apply(O,arguments),u.apply(this,O)}}function b(u,m){function T(){}T.prototype=m.prototype,u.aa=m.prototype,u.prototype=new T,u.prototype.constructor=u,u.Qb=function(O,F,V){for(var W=Array(arguments.length-2),me=2;me<arguments.length;me++)W[me-2]=arguments[me];return m.prototype[F].apply(O,W)}}function A(u){const m=u.length;if(0<m){const T=Array(m);for(let O=0;O<m;O++)T[O]=u[O];return T}return[]}function y(u,m){for(let T=1;T<arguments.length;T++){const O=arguments[T];if(l(O)){const F=u.length||0,V=O.length||0;u.length=F+V;for(let W=0;W<V;W++)u[F+W]=O[W]}else u.push(O)}}class p{constructor(m,T){this.i=m,this.j=T,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function g(u){return/^[\s\xa0]*$/.test(u)}function w(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function R(u){return R[" "](u),u}R[" "]=function(){};var L=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function P(u,m,T){for(const O in u)m.call(T,u[O],O,u)}function E(u,m){for(const T in u)m.call(void 0,u[T],T,u)}function v(u){const m={};for(const T in u)m[T]=u[T];return m}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function f(u,m){let T,O;for(let F=1;F<arguments.length;F++){O=arguments[F];for(T in O)u[T]=O[T];for(let V=0;V<I.length;V++)T=I[V],Object.prototype.hasOwnProperty.call(O,T)&&(u[T]=O[T])}}function k(u){var m=1;u=u.split(":");const T=[];for(;0<m&&u.length;)T.push(u.shift()),m--;return u.length&&T.push(u.join(":")),T}function N(u){a.setTimeout(()=>{throw u},0)}function D(){var u=j;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class z{constructor(){this.h=this.g=null}add(m,T){const O=Y.get();O.set(m,T),this.h?this.h.next=O:this.g=O,this.h=O}}var Y=new p(()=>new G,u=>u.reset());class G{constructor(){this.next=this.g=this.h=null}set(m,T){this.h=m,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let Z,M=!1,j=new z,q=()=>{const u=a.Promise.resolve(void 0);Z=()=>{u.then(ee)}};var ee=()=>{for(var u;u=D();){try{u.h.call(u.g)}catch(T){N(T)}var m=Y;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}M=!1};function J(){this.s=this.s,this.C=this.C}J.prototype.s=!1,J.prototype.ma=function(){this.s||(this.s=!0,this.N())},J.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function pe(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}pe.prototype.h=function(){this.defaultPrevented=!0};var Te=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const T=()=>{};a.addEventListener("test",T,m),a.removeEventListener("test",T,m)}catch{}return u}();function Le(u,m){if(pe.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var T=this.type=u.type,O=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(L){e:{try{R(m.nodeName);var F=!0;break e}catch{}F=!1}F||(m=null)}}else T=="mouseover"?m=u.fromElement:T=="mouseout"&&(m=u.toElement);this.relatedTarget=m,O?(this.clientX=O.clientX!==void 0?O.clientX:O.pageX,this.clientY=O.clientY!==void 0?O.clientY:O.pageY,this.screenX=O.screenX||0,this.screenY=O.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:be[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Le.aa.h.call(this)}}b(Le,pe);var be={2:"touch",3:"pen",4:"mouse"};Le.prototype.h=function(){Le.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Se="closure_listenable_"+(1e6*Math.random()|0),Qt=0;function Ke(u,m,T,O,F){this.listener=u,this.proxy=null,this.src=m,this.type=T,this.capture=!!O,this.ha=F,this.key=++Qt,this.da=this.fa=!1}function Tt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function $t(u){this.src=u,this.g={},this.h=0}$t.prototype.add=function(u,m,T,O,F){var V=u.toString();u=this.g[V],u||(u=this.g[V]=[],this.h++);var W=Rt(u,m,O,F);return-1<W?(m=u[W],T||(m.fa=!1)):(m=new Ke(m,this.src,V,!!O,F),m.fa=T,u.push(m)),m};function Jn(u,m){var T=m.type;if(T in u.g){var O=u.g[T],F=Array.prototype.indexOf.call(O,m,void 0),V;(V=0<=F)&&Array.prototype.splice.call(O,F,1),V&&(Tt(m),u.g[T].length==0&&(delete u.g[T],u.h--))}}function Rt(u,m,T,O){for(var F=0;F<u.length;++F){var V=u[F];if(!V.da&&V.listener==m&&V.capture==!!T&&V.ha==O)return F}return-1}var Pi="closure_lm_"+(1e6*Math.random()|0),no={};function el(u,m,T,O,F){if(Array.isArray(m)){for(var V=0;V<m.length;V++)el(u,m[V],T,O,F);return null}return T=Xm(T),u&&u[Se]?u.K(m,T,c(O)?!!O.capture:!1,F):ph(u,m,T,!1,O,F)}function ph(u,m,T,O,F,V){if(!m)throw Error("Invalid event type");var W=c(F)?!!F.capture:!!F,me=gh(u);if(me||(u[Pi]=me=new $t(u)),T=me.add(m,T,O,W,V),T.proxy)return T;if(O=_h(),T.proxy=O,O.src=u,O.listener=T,u.addEventListener)Te||(F=W),F===void 0&&(F=!1),u.addEventListener(m.toString(),O,F);else if(u.attachEvent)u.attachEvent(Qm(m.toString()),O);else if(u.addListener&&u.removeListener)u.addListener(O);else throw Error("addEventListener and attachEvent are unavailable.");return T}function _h(){function u(T){return m.call(u.src,u.listener,T)}const m=EI;return u}function qr(u,m,T,O,F){if(Array.isArray(m))for(var V=0;V<m.length;V++)qr(u,m[V],T,O,F);else O=c(O)?!!O.capture:!!O,T=Xm(T),u&&u[Se]?(u=u.i,m=String(m).toString(),m in u.g&&(V=u.g[m],T=Rt(V,T,O,F),-1<T&&(Tt(V[T]),Array.prototype.splice.call(V,T,1),V.length==0&&(delete u.g[m],u.h--)))):u&&(u=gh(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Rt(m,T,O,F)),(T=-1<u?m[u]:null)&&mh(T))}function mh(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Se])Jn(m.i,u);else{var T=u.type,O=u.proxy;m.removeEventListener?m.removeEventListener(T,O,u.capture):m.detachEvent?m.detachEvent(Qm(T),O):m.addListener&&m.removeListener&&m.removeListener(O),(T=gh(m))?(Jn(T,u),T.h==0&&(T.src=null,m[Pi]=null)):Tt(u)}}}function Qm(u){return u in no?no[u]:no[u]="on"+u}function EI(u,m){if(u.da)u=!0;else{m=new Le(m,this);var T=u.listener,O=u.ha||u.src;u.fa&&mh(u),u=T.call(O,m)}return u}function gh(u){return u=u[Pi],u instanceof $t?u:null}var vh="__closure_events_fn_"+(1e9*Math.random()>>>0);function Xm(u){return typeof u=="function"?u:(u[vh]||(u[vh]=function(m){return u.handleEvent(m)}),u[vh])}function nt(){J.call(this),this.i=new $t(this),this.M=this,this.F=null}b(nt,J),nt.prototype[Se]=!0,nt.prototype.removeEventListener=function(u,m,T,O){qr(this,u,m,T,O)};function _t(u,m){var T,O=u.F;if(O)for(T=[];O;O=O.F)T.push(O);if(u=u.M,O=m.type||m,typeof m=="string")m=new pe(m,u);else if(m instanceof pe)m.target=m.target||u;else{var F=m;m=new pe(O,u),f(m,F)}if(F=!0,T)for(var V=T.length-1;0<=V;V--){var W=m.g=T[V];F=tl(W,O,!0,m)&&F}if(W=m.g=u,F=tl(W,O,!0,m)&&F,F=tl(W,O,!1,m)&&F,T)for(V=0;V<T.length;V++)W=m.g=T[V],F=tl(W,O,!1,m)&&F}nt.prototype.N=function(){if(nt.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var T=u.g[m],O=0;O<T.length;O++)Tt(T[O]);delete u.g[m],u.h--}}this.F=null},nt.prototype.K=function(u,m,T,O){return this.i.add(String(u),m,!1,T,O)},nt.prototype.L=function(u,m,T,O){return this.i.add(String(u),m,!0,T,O)};function tl(u,m,T,O){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var F=!0,V=0;V<m.length;++V){var W=m[V];if(W&&!W.da&&W.capture==T){var me=W.listener,Ge=W.ha||W.src;W.fa&&Jn(u.i,W),F=me.call(Ge,O)!==!1&&F}}return F&&!O.defaultPrevented}function Ym(u,m,T){if(typeof u=="function")T&&(u=_(u,T));else if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:a.setTimeout(u,m||0)}function Jm(u){u.g=Ym(()=>{u.g=null,u.i&&(u.i=!1,Jm(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class TI extends J{constructor(m,T){super(),this.m=m,this.l=T,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Jm(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ro(u){J.call(this),this.h=u,this.g={}}b(ro,J);var Zm=[];function eg(u){P(u.g,function(m,T){this.g.hasOwnProperty(T)&&mh(m)},u),u.g={}}ro.prototype.N=function(){ro.aa.N.call(this),eg(this)},ro.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var yh=a.JSON.stringify,SI=a.JSON.parse,xI=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function wh(){}wh.prototype.h=null;function tg(u){return u.h||(u.h=u.i())}function ng(){}var io={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Eh(){pe.call(this,"d")}b(Eh,pe);function Th(){pe.call(this,"c")}b(Th,pe);var Hr={},rg=null;function nl(){return rg=rg||new nt}Hr.La="serverreachability";function ig(u){pe.call(this,Hr.La,u)}b(ig,pe);function so(u){const m=nl();_t(m,new ig(m))}Hr.STAT_EVENT="statevent";function sg(u,m){pe.call(this,Hr.STAT_EVENT,u),this.stat=m}b(sg,pe);function mt(u){const m=nl();_t(m,new sg(m,u))}Hr.Ma="timingevent";function og(u,m){pe.call(this,Hr.Ma,u),this.size=m}b(og,pe);function oo(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},m)}function ao(){this.g=!0}ao.prototype.xa=function(){this.g=!1};function CI(u,m,T,O,F,V){u.info(function(){if(u.g)if(V)for(var W="",me=V.split("&"),Ge=0;Ge<me.length;Ge++){var de=me[Ge].split("=");if(1<de.length){var rt=de[0];de=de[1];var it=rt.split("_");W=2<=it.length&&it[1]=="type"?W+(rt+"="+de+"&"):W+(rt+"=redacted&")}}else W=null;else W=V;return"XMLHTTP REQ ("+O+") [attempt "+F+"]: "+m+`
`+T+`
`+W})}function II(u,m,T,O,F,V,W){u.info(function(){return"XMLHTTP RESP ("+O+") [ attempt "+F+"]: "+m+`
`+T+`
`+V+" "+W})}function Ni(u,m,T,O){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+bI(u,T)+(O?" "+O:"")})}function AI(u,m){u.info(function(){return"TIMEOUT: "+m})}ao.prototype.info=function(){};function bI(u,m){if(!u.g)return m;if(!m)return null;try{var T=JSON.parse(m);if(T){for(u=0;u<T.length;u++)if(Array.isArray(T[u])){var O=T[u];if(!(2>O.length)){var F=O[1];if(Array.isArray(F)&&!(1>F.length)){var V=F[0];if(V!="noop"&&V!="stop"&&V!="close")for(var W=1;W<F.length;W++)F[W]=""}}}}return yh(T)}catch{return m}}var rl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ag={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Sh;function il(){}b(il,wh),il.prototype.g=function(){return new XMLHttpRequest},il.prototype.i=function(){return{}},Sh=new il;function Zn(u,m,T,O){this.j=u,this.i=m,this.l=T,this.R=O||1,this.U=new ro(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new lg}function lg(){this.i=null,this.g="",this.h=!1}var ug={},xh={};function Ch(u,m,T){u.L=1,u.v=ll(An(m)),u.m=T,u.P=!0,cg(u,null)}function cg(u,m){u.F=Date.now(),sl(u),u.A=An(u.v);var T=u.A,O=u.R;Array.isArray(O)||(O=[String(O)]),xg(T.i,"t",O),u.C=0,T=u.j.J,u.h=new lg,u.g=Bg(u.j,T?m:null,!u.m),0<u.O&&(u.M=new TI(_(u.Y,u,u.g),u.O)),m=u.U,T=u.g,O=u.ca;var F="readystatechange";Array.isArray(F)||(F&&(Zm[0]=F.toString()),F=Zm);for(var V=0;V<F.length;V++){var W=el(T,F[V],O||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=u.H?v(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),so(),CI(u.i,u.u,u.A,u.l,u.R,u.m)}Zn.prototype.ca=function(u){u=u.target;const m=this.M;m&&bn(u)==3?m.j():this.Y(u)},Zn.prototype.Y=function(u){try{if(u==this.g)e:{const it=bn(this.g);var m=this.g.Ba();const Li=this.g.Z();if(!(3>it)&&(it!=3||this.g&&(this.h.h||this.g.oa()||Pg(this.g)))){this.J||it!=4||m==7||(m==8||0>=Li?so(3):so(2)),Ih(this);var T=this.g.Z();this.X=T;t:if(hg(this)){var O=Pg(this.g);u="";var F=O.length,V=bn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Kr(this),lo(this);var W="";break t}this.h.i=new a.TextDecoder}for(m=0;m<F;m++)this.h.h=!0,u+=this.h.i.decode(O[m],{stream:!(V&&m==F-1)});O.length=0,this.h.g+=u,this.C=0,W=this.h.g}else W=this.g.oa();if(this.o=T==200,II(this.i,this.u,this.A,this.l,this.R,it,T),this.o){if(this.T&&!this.K){t:{if(this.g){var me,Ge=this.g;if((me=Ge.g?Ge.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!g(me)){var de=me;break t}}de=null}if(T=de)Ni(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ah(this,T);else{this.o=!1,this.s=3,mt(12),Kr(this),lo(this);break e}}if(this.P){T=!0;let Xt;for(;!this.J&&this.C<W.length;)if(Xt=RI(this,W),Xt==xh){it==4&&(this.s=4,mt(14),T=!1),Ni(this.i,this.l,null,"[Incomplete Response]");break}else if(Xt==ug){this.s=4,mt(15),Ni(this.i,this.l,W,"[Invalid Chunk]"),T=!1;break}else Ni(this.i,this.l,Xt,null),Ah(this,Xt);if(hg(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),it!=4||W.length!=0||this.h.h||(this.s=1,mt(16),T=!1),this.o=this.o&&T,!T)Ni(this.i,this.l,W,"[Invalid Chunked Response]"),Kr(this),lo(this);else if(0<W.length&&!this.W){this.W=!0;var rt=this.j;rt.g==this&&rt.ba&&!rt.M&&(rt.j.info("Great, no buffering proxy detected. Bytes received: "+W.length),Oh(rt),rt.M=!0,mt(11))}}else Ni(this.i,this.l,W,null),Ah(this,W);it==4&&Kr(this),this.o&&!this.J&&(it==4?Vg(this.j,this):(this.o=!1,sl(this)))}else HI(this.g),T==400&&0<W.indexOf("Unknown SID")?(this.s=3,mt(12)):(this.s=0,mt(13)),Kr(this),lo(this)}}}catch{}finally{}};function hg(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function RI(u,m){var T=u.C,O=m.indexOf(`
`,T);return O==-1?xh:(T=Number(m.substring(T,O)),isNaN(T)?ug:(O+=1,O+T>m.length?xh:(m=m.slice(O,O+T),u.C=O+T,m)))}Zn.prototype.cancel=function(){this.J=!0,Kr(this)};function sl(u){u.S=Date.now()+u.I,dg(u,u.I)}function dg(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=oo(_(u.ba,u),m)}function Ih(u){u.B&&(a.clearTimeout(u.B),u.B=null)}Zn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(AI(this.i,this.A),this.L!=2&&(so(),mt(17)),Kr(this),this.s=2,lo(this)):dg(this,this.S-u)};function lo(u){u.j.G==0||u.J||Vg(u.j,u)}function Kr(u){Ih(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,eg(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Ah(u,m){try{var T=u.j;if(T.G!=0&&(T.g==u||bh(T.h,u))){if(!u.K&&bh(T.h,u)&&T.G==3){try{var O=T.Da.g.parse(m)}catch{O=null}if(Array.isArray(O)&&O.length==3){var F=O;if(F[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<u.F)pl(T),dl(T);else break e;Nh(T),mt(18)}}else T.za=F[1],0<T.za-T.T&&37500>F[2]&&T.F&&T.v==0&&!T.C&&(T.C=oo(_(T.Za,T),6e3));if(1>=_g(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else Qr(T,11)}else if((u.K||T.g==u)&&pl(T),!g(m))for(F=T.Da.g.parse(m),m=0;m<F.length;m++){let de=F[m];if(T.T=de[0],de=de[1],T.G==2)if(de[0]=="c"){T.K=de[1],T.ia=de[2];const rt=de[3];rt!=null&&(T.la=rt,T.j.info("VER="+T.la));const it=de[4];it!=null&&(T.Aa=it,T.j.info("SVER="+T.Aa));const Li=de[5];Li!=null&&typeof Li=="number"&&0<Li&&(O=1.5*Li,T.L=O,T.j.info("backChannelRequestTimeoutMs_="+O)),O=T;const Xt=u.g;if(Xt){const ml=Xt.g?Xt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ml){var V=O.h;V.g||ml.indexOf("spdy")==-1&&ml.indexOf("quic")==-1&&ml.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(Rh(V,V.h),V.h=null))}if(O.D){const Dh=Xt.g?Xt.g.getResponseHeader("X-HTTP-Session-Id"):null;Dh&&(O.ya=Dh,ye(O.I,O.D,Dh))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-u.F,T.j.info("Handshake RTT: "+T.R+"ms")),O=T;var W=u;if(O.qa=$g(O,O.J?O.ia:null,O.W),W.K){mg(O.h,W);var me=W,Ge=O.L;Ge&&(me.I=Ge),me.B&&(Ih(me),sl(me)),O.g=W}else Mg(O);0<T.i.length&&fl(T)}else de[0]!="stop"&&de[0]!="close"||Qr(T,7);else T.G==3&&(de[0]=="stop"||de[0]=="close"?de[0]=="stop"?Qr(T,7):Ph(T):de[0]!="noop"&&T.l&&T.l.ta(de),T.v=0)}}so(4)}catch{}}var kI=class{constructor(u,m){this.g=u,this.map=m}};function fg(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function pg(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function _g(u){return u.h?1:u.g?u.g.size:0}function bh(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Rh(u,m){u.g?u.g.add(m):u.h=m}function mg(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}fg.prototype.cancel=function(){if(this.i=gg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function gg(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const T of u.g.values())m=m.concat(T.D);return m}return A(u.i)}function PI(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var m=[],T=u.length,O=0;O<T;O++)m.push(u[O]);return m}m=[],T=0;for(O in u)m[T++]=u[O];return m}function NI(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var m=[];u=u.length;for(var T=0;T<u;T++)m.push(T);return m}m=[],T=0;for(const O in u)m[T++]=O;return m}}}function vg(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var T=NI(u),O=PI(u),F=O.length,V=0;V<F;V++)m.call(void 0,O[V],T&&T[V],u)}var yg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function OI(u,m){if(u){u=u.split("&");for(var T=0;T<u.length;T++){var O=u[T].indexOf("="),F=null;if(0<=O){var V=u[T].substring(0,O);F=u[T].substring(O+1)}else V=u[T];m(V,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function Gr(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Gr){this.h=u.h,ol(this,u.j),this.o=u.o,this.g=u.g,al(this,u.s),this.l=u.l;var m=u.i,T=new ho;T.i=m.i,m.g&&(T.g=new Map(m.g),T.h=m.h),wg(this,T),this.m=u.m}else u&&(m=String(u).match(yg))?(this.h=!1,ol(this,m[1]||"",!0),this.o=uo(m[2]||""),this.g=uo(m[3]||"",!0),al(this,m[4]),this.l=uo(m[5]||"",!0),wg(this,m[6]||"",!0),this.m=uo(m[7]||"")):(this.h=!1,this.i=new ho(null,this.h))}Gr.prototype.toString=function(){var u=[],m=this.j;m&&u.push(co(m,Eg,!0),":");var T=this.g;return(T||m=="file")&&(u.push("//"),(m=this.o)&&u.push(co(m,Eg,!0),"@"),u.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&u.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&u.push("/"),u.push(co(T,T.charAt(0)=="/"?MI:LI,!0))),(T=this.i.toString())&&u.push("?",T),(T=this.m)&&u.push("#",co(T,VI)),u.join("")};function An(u){return new Gr(u)}function ol(u,m,T){u.j=T?uo(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function al(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function wg(u,m,T){m instanceof ho?(u.i=m,jI(u.i,u.h)):(T||(m=co(m,FI)),u.i=new ho(m,u.h))}function ye(u,m,T){u.i.set(m,T)}function ll(u){return ye(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function uo(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function co(u,m,T){return typeof u=="string"?(u=encodeURI(u).replace(m,DI),T&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function DI(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Eg=/[#\/\?@]/g,LI=/[#\?:]/g,MI=/[#\?]/g,FI=/[#\?@]/g,VI=/#/g;function ho(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function er(u){u.g||(u.g=new Map,u.h=0,u.i&&OI(u.i,function(m,T){u.add(decodeURIComponent(m.replace(/\+/g," ")),T)}))}t=ho.prototype,t.add=function(u,m){er(this),this.i=null,u=Oi(this,u);var T=this.g.get(u);return T||this.g.set(u,T=[]),T.push(m),this.h+=1,this};function Tg(u,m){er(u),m=Oi(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Sg(u,m){return er(u),m=Oi(u,m),u.g.has(m)}t.forEach=function(u,m){er(this),this.g.forEach(function(T,O){T.forEach(function(F){u.call(m,F,O,this)},this)},this)},t.na=function(){er(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),T=[];for(let O=0;O<m.length;O++){const F=u[O];for(let V=0;V<F.length;V++)T.push(m[O])}return T},t.V=function(u){er(this);let m=[];if(typeof u=="string")Sg(this,u)&&(m=m.concat(this.g.get(Oi(this,u))));else{u=Array.from(this.g.values());for(let T=0;T<u.length;T++)m=m.concat(u[T])}return m},t.set=function(u,m){return er(this),this.i=null,u=Oi(this,u),Sg(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},t.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function xg(u,m,T){Tg(u,m),0<T.length&&(u.i=null,u.g.set(Oi(u,m),A(T)),u.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var T=0;T<m.length;T++){var O=m[T];const V=encodeURIComponent(String(O)),W=this.V(O);for(O=0;O<W.length;O++){var F=V;W[O]!==""&&(F+="="+encodeURIComponent(String(W[O]))),u.push(F)}}return this.i=u.join("&")};function Oi(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function jI(u,m){m&&!u.j&&(er(u),u.i=null,u.g.forEach(function(T,O){var F=O.toLowerCase();O!=F&&(Tg(this,O),xg(this,F,T))},u)),u.j=m}function UI(u,m){const T=new ao;if(a.Image){const O=new Image;O.onload=C(tr,T,"TestLoadImage: loaded",!0,m,O),O.onerror=C(tr,T,"TestLoadImage: error",!1,m,O),O.onabort=C(tr,T,"TestLoadImage: abort",!1,m,O),O.ontimeout=C(tr,T,"TestLoadImage: timeout",!1,m,O),a.setTimeout(function(){O.ontimeout&&O.ontimeout()},1e4),O.src=u}else m(!1)}function $I(u,m){const T=new ao,O=new AbortController,F=setTimeout(()=>{O.abort(),tr(T,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:O.signal}).then(V=>{clearTimeout(F),V.ok?tr(T,"TestPingServer: ok",!0,m):tr(T,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(F),tr(T,"TestPingServer: error",!1,m)})}function tr(u,m,T,O,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),O(T)}catch{}}function BI(){this.g=new xI}function zI(u,m,T){const O=T||"";try{vg(u,function(F,V){let W=F;c(F)&&(W=yh(F)),m.push(O+V+"="+encodeURIComponent(W))})}catch(F){throw m.push(O+"type="+encodeURIComponent("_badmap")),F}}function ul(u){this.l=u.Ub||null,this.j=u.eb||!1}b(ul,wh),ul.prototype.g=function(){return new cl(this.l,this.j)},ul.prototype.i=function(u){return function(){return u}}({});function cl(u,m){nt.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(cl,nt),t=cl.prototype,t.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,po(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||a).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,fo(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,po(this)),this.g&&(this.readyState=3,po(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Cg(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Cg(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?fo(this):po(this),this.readyState==3&&Cg(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,fo(this))},t.Qa=function(u){this.g&&(this.response=u,fo(this))},t.ga=function(){this.g&&fo(this)};function fo(u){u.readyState=4,u.l=null,u.j=null,u.v=null,po(u)}t.setRequestHeader=function(u,m){this.u.append(u,m)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var T=m.next();!T.done;)T=T.value,u.push(T[0]+": "+T[1]),T=m.next();return u.join(`\r
`)};function po(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(cl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Ig(u){let m="";return P(u,function(T,O){m+=O,m+=":",m+=T,m+=`\r
`}),m}function kh(u,m,T){e:{for(O in T){var O=!1;break e}O=!0}O||(T=Ig(T),typeof u=="string"?T!=null&&encodeURIComponent(String(T)):ye(u,m,T))}function Re(u){nt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(Re,nt);var WI=/^https?$/i,qI=["POST","PUT"];t=Re.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,m,T,O){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Sh.g(),this.v=this.o?tg(this.o):tg(Sh),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(V){Ag(this,V);return}if(u=T||"",T=new Map(this.headers),O)if(Object.getPrototypeOf(O)===Object.prototype)for(var F in O)T.set(F,O[F]);else if(typeof O.keys=="function"&&typeof O.get=="function")for(const V of O.keys())T.set(V,O.get(V));else throw Error("Unknown input type for opt_headers: "+String(O));O=Array.from(T.keys()).find(V=>V.toLowerCase()=="content-type"),F=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(qI,m,void 0))||O||F||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,W]of T)this.g.setRequestHeader(V,W);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{kg(this),this.u=!0,this.g.send(u),this.u=!1}catch(V){Ag(this,V)}};function Ag(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,bg(u),hl(u)}function bg(u){u.A||(u.A=!0,_t(u,"complete"),_t(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,_t(this,"complete"),_t(this,"abort"),hl(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),hl(this,!0)),Re.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Rg(this):this.bb())},t.bb=function(){Rg(this)};function Rg(u){if(u.h&&typeof o<"u"&&(!u.v[1]||bn(u)!=4||u.Z()!=2)){if(u.u&&bn(u)==4)Ym(u.Ea,0,u);else if(_t(u,"readystatechange"),bn(u)==4){u.h=!1;try{const W=u.Z();e:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var T;if(!(T=m)){var O;if(O=W===0){var F=String(u.D).match(yg)[1]||null;!F&&a.self&&a.self.location&&(F=a.self.location.protocol.slice(0,-1)),O=!WI.test(F?F.toLowerCase():"")}T=O}if(T)_t(u,"complete"),_t(u,"success");else{u.m=6;try{var V=2<bn(u)?u.g.statusText:""}catch{V=""}u.l=V+" ["+u.Z()+"]",bg(u)}}finally{hl(u)}}}}function hl(u,m){if(u.g){kg(u);const T=u.g,O=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||_t(u,"ready");try{T.onreadystatechange=O}catch{}}}function kg(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function bn(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<bn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),SI(m)}};function Pg(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function HI(u){const m={};u=(u.g&&2<=bn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let O=0;O<u.length;O++){if(g(u[O]))continue;var T=k(u[O]);const F=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const V=m[F]||[];m[F]=V,V.push(T)}E(m,function(O){return O.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function _o(u,m,T){return T&&T.internalChannelParams&&T.internalChannelParams[u]||m}function Ng(u){this.Aa=0,this.i=[],this.j=new ao,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=_o("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=_o("baseRetryDelayMs",5e3,u),this.cb=_o("retryDelaySeedMs",1e4,u),this.Wa=_o("forwardChannelMaxRetries",2,u),this.wa=_o("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new fg(u&&u.concurrentRequestLimit),this.Da=new BI,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Ng.prototype,t.la=8,t.G=1,t.connect=function(u,m,T,O){mt(0),this.W=u,this.H=m||{},T&&O!==void 0&&(this.H.OSID=T,this.H.OAID=O),this.F=this.X,this.I=$g(this,null,this.W),fl(this)};function Ph(u){if(Og(u),u.G==3){var m=u.U++,T=An(u.I);if(ye(T,"SID",u.K),ye(T,"RID",m),ye(T,"TYPE","terminate"),mo(u,T),m=new Zn(u,u.j,m),m.L=2,m.v=ll(An(T)),T=!1,a.navigator&&a.navigator.sendBeacon)try{T=a.navigator.sendBeacon(m.v.toString(),"")}catch{}!T&&a.Image&&(new Image().src=m.v,T=!0),T||(m.g=Bg(m.j,null),m.g.ea(m.v)),m.F=Date.now(),sl(m)}Ug(u)}function dl(u){u.g&&(Oh(u),u.g.cancel(),u.g=null)}function Og(u){dl(u),u.u&&(a.clearTimeout(u.u),u.u=null),pl(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function fl(u){if(!pg(u.h)&&!u.s){u.s=!0;var m=u.Ga;Z||q(),M||(Z(),M=!0),j.add(m,u),u.B=0}}function KI(u,m){return _g(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=oo(_(u.Ga,u,m),jg(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const F=new Zn(this,this.j,u);let V=this.o;if(this.S&&(V?(V=v(V),f(V,this.S)):V=this.S),this.m!==null||this.O||(F.H=V,V=null),this.P)e:{for(var m=0,T=0;T<this.i.length;T++){t:{var O=this.i[T];if("__data__"in O.map&&(O=O.map.__data__,typeof O=="string")){O=O.length;break t}O=void 0}if(O===void 0)break;if(m+=O,4096<m){m=T;break e}if(m===4096||T===this.i.length-1){m=T+1;break e}}m=1e3}else m=1e3;m=Lg(this,F,m),T=An(this.I),ye(T,"RID",u),ye(T,"CVER",22),this.D&&ye(T,"X-HTTP-Session-Id",this.D),mo(this,T),V&&(this.O?m="headers="+encodeURIComponent(String(Ig(V)))+"&"+m:this.m&&kh(T,this.m,V)),Rh(this.h,F),this.Ua&&ye(T,"TYPE","init"),this.P?(ye(T,"$req",m),ye(T,"SID","null"),F.T=!0,Ch(F,T,null)):Ch(F,T,m),this.G=2}}else this.G==3&&(u?Dg(this,u):this.i.length==0||pg(this.h)||Dg(this))};function Dg(u,m){var T;m?T=m.l:T=u.U++;const O=An(u.I);ye(O,"SID",u.K),ye(O,"RID",T),ye(O,"AID",u.T),mo(u,O),u.m&&u.o&&kh(O,u.m,u.o),T=new Zn(u,u.j,T,u.B+1),u.m===null&&(T.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Lg(u,T,1e3),T.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Rh(u.h,T),Ch(T,O,m)}function mo(u,m){u.H&&P(u.H,function(T,O){ye(m,O,T)}),u.l&&vg({},function(T,O){ye(m,O,T)})}function Lg(u,m,T){T=Math.min(u.i.length,T);var O=u.l?_(u.l.Na,u.l,u):null;e:{var F=u.i;let V=-1;for(;;){const W=["count="+T];V==-1?0<T?(V=F[0].g,W.push("ofs="+V)):V=0:W.push("ofs="+V);let me=!0;for(let Ge=0;Ge<T;Ge++){let de=F[Ge].g;const rt=F[Ge].map;if(de-=V,0>de)V=Math.max(0,F[Ge].g-100),me=!1;else try{zI(rt,W,"req"+de+"_")}catch{O&&O(rt)}}if(me){O=W.join("&");break e}}}return u=u.i.splice(0,T),m.D=u,O}function Mg(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;Z||q(),M||(Z(),M=!0),j.add(m,u),u.v=0}}function Nh(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=oo(_(u.Fa,u),jg(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,Fg(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=oo(_(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,mt(10),dl(this),Fg(this))};function Oh(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function Fg(u){u.g=new Zn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=An(u.qa);ye(m,"RID","rpc"),ye(m,"SID",u.K),ye(m,"AID",u.T),ye(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&ye(m,"TO",u.ja),ye(m,"TYPE","xmlhttp"),mo(u,m),u.m&&u.o&&kh(m,u.m,u.o),u.L&&(u.g.I=u.L);var T=u.g;u=u.ia,T.L=1,T.v=ll(An(m)),T.m=null,T.P=!0,cg(T,u)}t.Za=function(){this.C!=null&&(this.C=null,dl(this),Nh(this),mt(19))};function pl(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function Vg(u,m){var T=null;if(u.g==m){pl(u),Oh(u),u.g=null;var O=2}else if(bh(u.h,m))T=m.D,mg(u.h,m),O=1;else return;if(u.G!=0){if(m.o)if(O==1){T=m.m?m.m.length:0,m=Date.now()-m.F;var F=u.B;O=nl(),_t(O,new og(O,T)),fl(u)}else Mg(u);else if(F=m.s,F==3||F==0&&0<m.X||!(O==1&&KI(u,m)||O==2&&Nh(u)))switch(T&&0<T.length&&(m=u.h,m.i=m.i.concat(T)),F){case 1:Qr(u,5);break;case 4:Qr(u,10);break;case 3:Qr(u,6);break;default:Qr(u,2)}}}function jg(u,m){let T=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(T*=2),T*m}function Qr(u,m){if(u.j.info("Error code "+m),m==2){var T=_(u.fb,u),O=u.Xa;const F=!O;O=new Gr(O||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||ol(O,"https"),ll(O),F?UI(O.toString(),T):$I(O.toString(),T)}else mt(2);u.G=0,u.l&&u.l.sa(m),Ug(u),Og(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),mt(2)):(this.j.info("Failed to ping google.com"),mt(1))};function Ug(u){if(u.G=0,u.ka=[],u.l){const m=gg(u.h);(m.length!=0||u.i.length!=0)&&(y(u.ka,m),y(u.ka,u.i),u.h.i.length=0,A(u.i),u.i.length=0),u.l.ra()}}function $g(u,m,T){var O=T instanceof Gr?An(T):new Gr(T);if(O.g!="")m&&(O.g=m+"."+O.g),al(O,O.s);else{var F=a.location;O=F.protocol,m=m?m+"."+F.hostname:F.hostname,F=+F.port;var V=new Gr(null);O&&ol(V,O),m&&(V.g=m),F&&al(V,F),T&&(V.l=T),O=V}return T=u.D,m=u.ya,T&&m&&ye(O,T,m),ye(O,"VER",u.la),mo(u,O),O}function Bg(u,m,T){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Re(new ul({eb:T})):new Re(u.pa),m.Ha(u.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function zg(){}t=zg.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function _l(){}_l.prototype.g=function(u,m){return new kt(u,m)};function kt(u,m){nt.call(this),this.g=new Ng(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!g(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!g(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Di(this)}b(kt,nt),kt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},kt.prototype.close=function(){Ph(this.g)},kt.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var T={};T.__data__=u,u=T}else this.u&&(T={},T.__data__=yh(u),u=T);m.i.push(new kI(m.Ya++,u)),m.G==3&&fl(m)},kt.prototype.N=function(){this.g.l=null,delete this.j,Ph(this.g),delete this.g,kt.aa.N.call(this)};function Wg(u){Eh.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const T in m){u=T;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}b(Wg,Eh);function qg(){Th.call(this),this.status=1}b(qg,Th);function Di(u){this.g=u}b(Di,zg),Di.prototype.ua=function(){_t(this.g,"a")},Di.prototype.ta=function(u){_t(this.g,new Wg(u))},Di.prototype.sa=function(u){_t(this.g,new qg)},Di.prototype.ra=function(){_t(this.g,"b")},_l.prototype.createWebChannel=_l.prototype.g,kt.prototype.send=kt.prototype.o,kt.prototype.open=kt.prototype.m,kt.prototype.close=kt.prototype.close,wx=function(){return new _l},yx=function(){return nl()},vx=Hr,lp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},rl.NO_ERROR=0,rl.TIMEOUT=8,rl.HTTP_ERROR=6,pu=rl,ag.COMPLETE="complete",gx=ag,ng.EventType=io,io.OPEN="a",io.CLOSE="b",io.ERROR="c",io.MESSAGE="d",nt.prototype.listen=nt.prototype.K,Lo=ng,Re.prototype.listenOnce=Re.prototype.L,Re.prototype.getLastError=Re.prototype.Ka,Re.prototype.getLastErrorCode=Re.prototype.Ba,Re.prototype.getStatus=Re.prototype.Z,Re.prototype.getResponseJson=Re.prototype.Oa,Re.prototype.getResponseText=Re.prototype.oa,Re.prototype.send=Re.prototype.ea,Re.prototype.setWithCredentials=Re.prototype.Ha,mx=Re}).apply(typeof Ul<"u"?Ul:typeof self<"u"?self:typeof window<"u"?window:{});const Qy="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}lt.UNAUTHENTICATED=new lt(null),lt.GOOGLE_CREDENTIALS=new lt("google-credentials-uid"),lt.FIRST_PARTY=new lt("first-party-uid"),lt.MOCK_USER=new lt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Js="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gi=new K_("@firebase/firestore");function Io(){return gi.logLevel}function Q(t,...e){if(gi.logLevel<=ae.DEBUG){const n=e.map(X_);gi.debug(`Firestore (${Js}): ${t}`,...n)}}function qn(t,...e){if(gi.logLevel<=ae.ERROR){const n=e.map(X_);gi.error(`Firestore (${Js}): ${t}`,...n)}}function Ds(t,...e){if(gi.logLevel<=ae.WARN){const n=e.map(X_);gi.warn(`Firestore (${Js}): ${t}`,...n)}}function X_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function re(t="Unexpected state"){const e=`FIRESTORE (${Js}) INTERNAL ASSERTION FAILED: `+t;throw qn(e),new Error(e)}function Pe(t,e){t||re()}function ue(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class H extends Yn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class wM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(lt.UNAUTHENTICATED))}shutdown(){}}class EM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class TM{constructor(e){this.t=e,this.currentUser=lt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Pe(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Nr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Nr,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Q("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Nr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Pe(typeof r.accessToken=="string"),new Ex(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Pe(e===null||typeof e=="string"),new lt(e)}}class SM{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=lt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class xM{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new SM(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(lt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class CM{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class IM{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Pe(this.o===void 0);const r=s=>{s.error!=null&&Q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,Q("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Pe(typeof n.token=="string"),this.R=n.token,new CM(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AM(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=AM(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function fe(t,e){return t<e?-1:t>e?1:0}function Ls(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new H(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new H(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new H(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new H(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return He.fromMillis(Date.now())}static fromDate(e){return He.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new He(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?fe(this.nanoseconds,e.nanoseconds):fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ne(e)}static min(){return new ne(new He(0,0))}static max(){return new ne(new He(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(e,n,r){n===void 0?n=0:n>e.length&&re(),r===void 0?r=e.length-n:r>e.length-n&&re(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Sa.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Sa?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ge extends Sa{construct(e,n,r){return new ge(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new H(U.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ge(n)}static emptyPath(){return new ge([])}}const bM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ht extends Sa{construct(e,n,r){return new ht(e,n,r)}static isValidIdentifier(e){return bM.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ht.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ht(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new H(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new H(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new H(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new H(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ht(n)}static emptyPath(){return new ht([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.path=e}static fromPath(e){return new X(ge.fromString(e))}static fromName(e){return new X(ge.fromString(e).popFirst(5))}static empty(){return new X(ge.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ge.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ge.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new X(new ge(e.slice()))}}function RM(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ne.fromTimestamp(r===1e9?new He(n+1,0):new He(n,r));return new jr(i,X.empty(),e)}function kM(t){return new jr(t.readTime,t.key,-1)}class jr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new jr(ne.min(),X.empty(),-1)}static max(){return new jr(ne.max(),X.empty(),-1)}}function PM(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=X.comparator(t.documentKey,e.documentKey),n!==0?n:fe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class OM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y_(t){if(t.code!==U.FAILED_PRECONDITION||t.message!==NM)throw t;Q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&re(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new $((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):$.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):$.reject(n)}static resolve(e){return new $((n,r)=>{n(e)})}static reject(e){return new $((n,r)=>{r(e)})}static waitFor(e){return new $((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=$.resolve(!1);for(const r of e)n=n.next(i=>i?$.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new $((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(h=>{o[c]=h,++a,a===s&&r(o)},h=>i(h))}})}static doWhile(e,n){return new $((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function DM(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function qa(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J_{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}J_.oe=-1;function Qc(t){return t==null}function rc(t){return t===0&&1/t==-1/0}function LM(t){return typeof t=="number"&&Number.isInteger(t)&&!rc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xy(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ha(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Sx(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e,n){this.comparator=e,this.root=n||Ye.EMPTY}insert(e,n){return new De(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ye.BLACK,null,null))}remove(e){return new De(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ye.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $l(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $l(this.root,e,this.comparator,!1)}getReverseIterator(){return new $l(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $l(this.root,e,this.comparator,!0)}}class $l{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ye{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Ye.RED,this.left=i??Ye.EMPTY,this.right=s??Ye.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Ye(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ye.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ye.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ye.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ye.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw re();const e=this.left.check();if(e!==this.right.check())throw re();return e+(this.isRed()?0:1)}}Ye.EMPTY=null,Ye.RED=!0,Ye.BLACK=!1;Ye.EMPTY=new class{constructor(){this.size=0}get key(){throw re()}get value(){throw re()}get color(){throw re()}get left(){throw re()}get right(){throw re()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Ye(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(e){this.comparator=e,this.data=new De(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Yy(this.data.getIterator())}getIteratorFrom(e){return new Yy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ze)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ze(this.comparator);return n.data=e,n}}class Yy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e){this.fields=e,e.sort(ht.comparator)}static empty(){return new gr([])}unionWith(e){let n=new Ze(ht.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new gr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ls(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new xx("Invalid base64 string: "+s):s}}(e);return new tt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new tt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}tt.EMPTY_BYTE_STRING=new tt("");const MM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ur(t){if(Pe(!!t),typeof t=="string"){let e=0;const n=MM.exec(t);if(Pe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ne(t.seconds),nanos:Ne(t.nanos)}}function Ne(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function vi(t){return typeof t=="string"?tt.fromBase64String(t):tt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xc(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Z_(t){const e=t.mapValue.fields.__previous_value__;return Xc(e)?Z_(e):e}function xa(t){const e=Ur(t.mapValue.fields.__local_write_time__.timestampValue);return new He(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{constructor(e,n,r,i,s,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class Ca{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ca("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ca&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bl={mapValue:{}};function yi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Xc(t)?4:jM(t)?9007199254740991:VM(t)?10:11:re()}function xn(t,e){if(t===e)return!0;const n=yi(t);if(n!==yi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return xa(t).isEqual(xa(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Ur(i.timestampValue),a=Ur(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return vi(i.bytesValue).isEqual(vi(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Ne(i.geoPointValue.latitude)===Ne(s.geoPointValue.latitude)&&Ne(i.geoPointValue.longitude)===Ne(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Ne(i.integerValue)===Ne(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Ne(i.doubleValue),a=Ne(s.doubleValue);return o===a?rc(o)===rc(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Ls(t.arrayValue.values||[],e.arrayValue.values||[],xn);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(Xy(o)!==Xy(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!xn(o[l],a[l])))return!1;return!0}(t,e);default:return re()}}function Ia(t,e){return(t.values||[]).find(n=>xn(n,e))!==void 0}function Ms(t,e){if(t===e)return 0;const n=yi(t),r=yi(e);if(n!==r)return fe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return fe(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Ne(s.integerValue||s.doubleValue),l=Ne(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return Jy(t.timestampValue,e.timestampValue);case 4:return Jy(xa(t),xa(e));case 5:return fe(t.stringValue,e.stringValue);case 6:return function(s,o){const a=vi(s),l=vi(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const h=fe(a[c],l[c]);if(h!==0)return h}return fe(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=fe(Ne(s.latitude),Ne(o.latitude));return a!==0?a:fe(Ne(s.longitude),Ne(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Zy(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,c,h;const d=s.fields||{},_=o.fields||{},C=(a=d.value)===null||a===void 0?void 0:a.arrayValue,b=(l=_.value)===null||l===void 0?void 0:l.arrayValue,A=fe(((c=C==null?void 0:C.values)===null||c===void 0?void 0:c.length)||0,((h=b==null?void 0:b.values)===null||h===void 0?void 0:h.length)||0);return A!==0?A:Zy(C,b)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Bl.mapValue&&o===Bl.mapValue)return 0;if(s===Bl.mapValue)return 1;if(o===Bl.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},h=Object.keys(c);l.sort(),h.sort();for(let d=0;d<l.length&&d<h.length;++d){const _=fe(l[d],h[d]);if(_!==0)return _;const C=Ms(a[l[d]],c[h[d]]);if(C!==0)return C}return fe(l.length,h.length)}(t.mapValue,e.mapValue);default:throw re()}}function Jy(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return fe(t,e);const n=Ur(t),r=Ur(e),i=fe(n.seconds,r.seconds);return i!==0?i:fe(n.nanos,r.nanos)}function Zy(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Ms(n[i],r[i]);if(s)return s}return fe(n.length,r.length)}function Fs(t){return up(t)}function up(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ur(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return vi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return X.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=up(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${up(n.fields[o])}`;return i+"}"}(t.mapValue):re()}function ic(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function cp(t){return!!t&&"integerValue"in t}function em(t){return!!t&&"arrayValue"in t}function e0(t){return!!t&&"nullValue"in t}function t0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Cd(t){return!!t&&"mapValue"in t}function VM(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Go(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ha(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Go(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Go(t.arrayValue.values[n]);return e}return Object.assign({},t)}function jM(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.value=e}static empty(){return new pn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Cd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Go(n)}setAll(e){let n=ht.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Go(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Cd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return xn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Cd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ha(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new pn(Go(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new ct(e,0,ne.min(),ne.min(),ne.min(),pn.empty(),0)}static newFoundDocument(e,n,r,i){return new ct(e,1,n,ne.min(),r,i,0)}static newNoDocument(e,n){return new ct(e,2,n,ne.min(),ne.min(),pn.empty(),0)}static newUnknownDocument(e,n){return new ct(e,3,n,ne.min(),ne.min(),pn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ct&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ct(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(e,n){this.position=e,this.inclusive=n}}function n0(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=X.comparator(X.fromName(o.referenceValue),n.key):r=Ms(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function r0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!xn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e,n="asc"){this.field=e,this.dir=n}}function UM(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{}class Ve extends Cx{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new BM(e,n,r):n==="array-contains"?new qM(e,r):n==="in"?new HM(e,r):n==="not-in"?new KM(e,r):n==="array-contains-any"?new GM(e,r):new Ve(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new zM(e,r):new WM(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ms(n,this.value)):n!==null&&yi(this.value)===yi(n)&&this.matchesComparison(Ms(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return re()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ln extends Cx{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new ln(e,n)}matches(e){return Ix(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Ix(t){return t.op==="and"}function Ax(t){return $M(t)&&Ix(t)}function $M(t){for(const e of t.filters)if(e instanceof ln)return!1;return!0}function hp(t){if(t instanceof Ve)return t.field.canonicalString()+t.op.toString()+Fs(t.value);if(Ax(t))return t.filters.map(e=>hp(e)).join(",");{const e=t.filters.map(n=>hp(n)).join(",");return`${t.op}(${e})`}}function bx(t,e){return t instanceof Ve?function(r,i){return i instanceof Ve&&r.op===i.op&&r.field.isEqual(i.field)&&xn(r.value,i.value)}(t,e):t instanceof ln?function(r,i){return i instanceof ln&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&bx(o,i.filters[a]),!0):!1}(t,e):void re()}function Rx(t){return t instanceof Ve?function(n){return`${n.field.canonicalString()} ${n.op} ${Fs(n.value)}`}(t):t instanceof ln?function(n){return n.op.toString()+" {"+n.getFilters().map(Rx).join(" ,")+"}"}(t):"Filter"}class BM extends Ve{constructor(e,n,r){super(e,n,r),this.key=X.fromName(r.referenceValue)}matches(e){const n=X.comparator(e.key,this.key);return this.matchesComparison(n)}}class zM extends Ve{constructor(e,n){super(e,"in",n),this.keys=kx("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class WM extends Ve{constructor(e,n){super(e,"not-in",n),this.keys=kx("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function kx(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>X.fromName(r.referenceValue))}class qM extends Ve{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return em(n)&&Ia(n.arrayValue,this.value)}}class HM extends Ve{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ia(this.value.arrayValue,n)}}class KM extends Ve{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ia(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Ia(this.value.arrayValue,n)}}class GM extends Ve{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!em(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ia(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QM{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function i0(t,e=null,n=[],r=[],i=null,s=null,o=null){return new QM(t,e,n,r,i,s,o)}function tm(t){const e=ue(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>hp(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Qc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Fs(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Fs(r)).join(",")),e.ue=n}return e.ue}function nm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!UM(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!bx(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!r0(t.startAt,e.startAt)&&r0(t.endAt,e.endAt)}function dp(t){return X.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function XM(t,e,n,r,i,s,o,a){return new ki(t,e,n,r,i,s,o,a)}function Yc(t){return new ki(t)}function s0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function rm(t){return t.collectionGroup!==null}function gs(t){const e=ue(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Ze(ht.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Aa(s,r))}),n.has(ht.keyField().canonicalString())||e.ce.push(new Aa(ht.keyField(),r))}return e.ce}function yn(t){const e=ue(t);return e.le||(e.le=YM(e,gs(t))),e.le}function YM(t,e){if(t.limitType==="F")return i0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Aa(i.field,s)});const n=t.endAt?new Vs(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Vs(t.startAt.position,t.startAt.inclusive):null;return i0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function fp(t,e){const n=t.filters.concat([e]);return new ki(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function sc(t,e,n){return new ki(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Jc(t,e){return nm(yn(t),yn(e))&&t.limitType===e.limitType}function Px(t){return`${tm(yn(t))}|lt:${t.limitType}`}function Hi(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Rx(i)).join(", ")}]`),Qc(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Fs(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Fs(i)).join(",")),`Target(${r})`}(yn(t))}; limitType=${t.limitType})`}function Zc(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):X.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of gs(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=n0(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,gs(r),i)||r.endAt&&!function(o,a,l){const c=n0(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,gs(r),i))}(t,e)}function JM(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Nx(t){return(e,n)=>{let r=!1;for(const i of gs(t)){const s=ZM(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function ZM(t,e,n){const r=t.field.isKeyField()?X.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?Ms(l,c):re()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return re()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ha(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return Sx(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e4=new De(X.comparator);function $r(){return e4}const Ox=new De(X.comparator);function Mo(...t){let e=Ox;for(const n of t)e=e.insert(n.key,n);return e}function t4(t){let e=Ox;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ii(){return Qo()}function Dx(){return Qo()}function Qo(){return new Zs(t=>t.toString(),(t,e)=>t.isEqual(e))}const n4=new Ze(X.comparator);function ce(...t){let e=n4;for(const n of t)e=e.add(n);return e}const r4=new Ze(fe);function i4(){return r4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function im(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rc(e)?"-0":e}}function Lx(t){return{integerValue:""+t}}function s4(t,e){return LM(e)?Lx(e):im(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(){this._=void 0}}function o4(t,e,n){return t instanceof pp?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Xc(s)&&(s=Z_(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof oc?Mx(t,e):t instanceof ac?Fx(t,e):function(i,s){const o=l4(i,s),a=o0(o)+o0(i.Pe);return cp(o)&&cp(i.Pe)?Lx(a):im(i.serializer,a)}(t,e)}function a4(t,e,n){return t instanceof oc?Mx(t,e):t instanceof ac?Fx(t,e):n}function l4(t,e){return t instanceof _p?function(r){return cp(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class pp extends eh{}class oc extends eh{constructor(e){super(),this.elements=e}}function Mx(t,e){const n=Vx(e);for(const r of t.elements)n.some(i=>xn(i,r))||n.push(r);return{arrayValue:{values:n}}}class ac extends eh{constructor(e){super(),this.elements=e}}function Fx(t,e){let n=Vx(e);for(const r of t.elements)n=n.filter(i=>!xn(i,r));return{arrayValue:{values:n}}}class _p extends eh{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function o0(t){return Ne(t.integerValue||t.doubleValue)}function Vx(t){return em(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function u4(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof oc&&i instanceof oc||r instanceof ac&&i instanceof ac?Ls(r.elements,i.elements,xn):r instanceof _p&&i instanceof _p?xn(r.Pe,i.Pe):r instanceof pp&&i instanceof pp}(t.transform,e.transform)}class li{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new li}static exists(e){return new li(void 0,e)}static updateTime(e){return new li(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function _u(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class sm{}function jx(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new h4(t.key,li.none()):new om(t.key,t.data,li.none());{const n=t.data,r=pn.empty();let i=new Ze(ht.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new th(t.key,r,new gr(i.toArray()),li.none())}}function c4(t,e,n){t instanceof om?function(i,s,o){const a=i.value.clone(),l=l0(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof th?function(i,s,o){if(!_u(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=l0(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(Ux(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Xo(t,e,n,r){return t instanceof om?function(s,o,a,l){if(!_u(s.precondition,o))return a;const c=s.value.clone(),h=u0(s.fieldTransforms,l,o);return c.setAll(h),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof th?function(s,o,a,l){if(!_u(s.precondition,o))return a;const c=u0(s.fieldTransforms,l,o),h=o.data;return h.setAll(Ux(s)),h.setAll(c),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return _u(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function a0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ls(r,i,(s,o)=>u4(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class om extends sm{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class th extends sm{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Ux(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function l0(t,e,n){const r=new Map;Pe(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,a4(o,a,n[i]))}return r}function u0(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,o4(s,o,e))}return r}class h4 extends sm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&c4(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Xo(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Xo(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Dx();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=jx(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(ne.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ce())}isEqual(e){return this.batchId===e.batchId&&Ls(this.mutations,e.mutations,(n,r)=>a0(n,r))&&Ls(this.baseMutations,e.baseMutations,(n,r)=>a0(n,r))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me,le;function $x(t){if(t===void 0)return qn("GRPC error has no .code"),U.UNKNOWN;switch(t){case Me.OK:return U.OK;case Me.CANCELLED:return U.CANCELLED;case Me.UNKNOWN:return U.UNKNOWN;case Me.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case Me.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case Me.INTERNAL:return U.INTERNAL;case Me.UNAVAILABLE:return U.UNAVAILABLE;case Me.UNAUTHENTICATED:return U.UNAUTHENTICATED;case Me.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case Me.NOT_FOUND:return U.NOT_FOUND;case Me.ALREADY_EXISTS:return U.ALREADY_EXISTS;case Me.PERMISSION_DENIED:return U.PERMISSION_DENIED;case Me.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case Me.ABORTED:return U.ABORTED;case Me.OUT_OF_RANGE:return U.OUT_OF_RANGE;case Me.UNIMPLEMENTED:return U.UNIMPLEMENTED;case Me.DATA_LOSS:return U.DATA_LOSS;default:return re()}}(le=Me||(Me={}))[le.OK=0]="OK",le[le.CANCELLED=1]="CANCELLED",le[le.UNKNOWN=2]="UNKNOWN",le[le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",le[le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",le[le.NOT_FOUND=5]="NOT_FOUND",le[le.ALREADY_EXISTS=6]="ALREADY_EXISTS",le[le.PERMISSION_DENIED=7]="PERMISSION_DENIED",le[le.UNAUTHENTICATED=16]="UNAUTHENTICATED",le[le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",le[le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",le[le.ABORTED=10]="ABORTED",le[le.OUT_OF_RANGE=11]="OUT_OF_RANGE",le[le.UNIMPLEMENTED=12]="UNIMPLEMENTED",le[le.INTERNAL=13]="INTERNAL",le[le.UNAVAILABLE=14]="UNAVAILABLE",le[le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _4(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m4=new ai([4294967295,4294967295],0);function c0(t){const e=_4().encode(t),n=new _x;return n.update(e),new Uint8Array(n.digest())}function h0(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ai([n,r],0),new ai([i,s],0)]}class am{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Fo(`Invalid padding: ${n}`);if(r<0)throw new Fo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Fo(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Fo(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=ai.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(ai.fromNumber(r)));return i.compare(m4)===1&&(i=new ai([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=c0(e),[r,i]=h0(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new am(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=c0(e),[r,i]=h0(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Fo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Ka.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new nh(ne.min(),i,new De(fe),$r(),ce())}}class Ka{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ka(r,n,ce(),ce(),ce())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class Bx{constructor(e,n){this.targetId=e,this.me=n}}class zx{constructor(e,n,r=tt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class d0{constructor(){this.fe=0,this.ge=p0(),this.pe=tt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ce(),n=ce(),r=ce();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:re()}}),new Ka(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=p0()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Pe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class g4{constructor(e){this.Le=e,this.Be=new Map,this.ke=$r(),this.qe=f0(),this.Qe=new De(fe)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:re()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(dp(s))if(r===0){const o=new X(s.path);this.Ue(n,o,ct.newNoDocument(o,ne.min()))}else Pe(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=vi(r).toUint8Array()}catch(l){if(l instanceof xx)return Ds("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new am(o,i,s)}catch(l){return Ds(l instanceof Fo?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&dp(a.target)){const l=new X(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,ct.newNoDocument(l,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=ce();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new nh(e,n,this.Qe,this.ke,r);return this.ke=$r(),this.qe=f0(),this.Qe=new De(fe),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new d0,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Ze(fe),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Q("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new d0),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function f0(){return new De(X.comparator)}function p0(){return new De(X.comparator)}const v4={asc:"ASCENDING",desc:"DESCENDING"},y4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},w4={and:"AND",or:"OR"};class E4{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function mp(t,e){return t.useProto3Json||Qc(e)?e:{value:e}}function gp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Wx(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function vs(t){return Pe(!!t),ne.fromTimestamp(function(n){const r=Ur(n);return new He(r.seconds,r.nanos)}(t))}function qx(t,e){return vp(t,e).canonicalString()}function vp(t,e){const n=function(i){return new ge(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Hx(t){const e=ge.fromString(t);return Pe(Yx(e)),e}function Id(t,e){const n=Hx(e);if(n.get(1)!==t.databaseId.projectId)throw new H(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new H(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new X(Gx(n))}function Kx(t,e){return qx(t.databaseId,e)}function T4(t){const e=Hx(t);return e.length===4?ge.emptyPath():Gx(e)}function _0(t){return new ge(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Gx(t){return Pe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function S4(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:re()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,h){return c.useProto3Json?(Pe(h===void 0||typeof h=="string"),tt.fromBase64String(h||"")):(Pe(h===void 0||h instanceof Buffer||h instanceof Uint8Array),tt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const h=c.code===void 0?U.UNKNOWN:$x(c.code);return new H(h,c.message||"")}(o);n=new zx(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Id(t,r.document.name),s=vs(r.document.updateTime),o=r.document.createTime?vs(r.document.createTime):ne.min(),a=new pn({mapValue:{fields:r.document.fields}}),l=ct.newFoundDocument(i,s,o,a),c=r.targetIds||[],h=r.removedTargetIds||[];n=new mu(c,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Id(t,r.document),s=r.readTime?vs(r.readTime):ne.min(),o=ct.newNoDocument(i,s),a=r.removedTargetIds||[];n=new mu([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Id(t,r.document),s=r.removedTargetIds||[];n=new mu([],s,i,null)}else{if(!("filter"in e))return re();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new p4(i,s),a=r.targetId;n=new Bx(a,o)}}return n}function x4(t,e){return{documents:[Kx(t,e.path)]}}function C4(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Kx(t,i);const s=function(c){if(c.length!==0)return Xx(ln.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(h=>function(_){return{field:Ki(_.field),direction:b4(_.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=mp(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:i}}function I4(t){let e=T4(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Pe(r===1);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(d){const _=Qx(d);return _ instanceof ln&&Ax(_)?_.getFilters():[_]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(_=>function(b){return new Aa(Gi(b.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(_))}(n.orderBy));let a=null;n.limit&&(a=function(d){let _;return _=typeof d=="object"?d.value:d,Qc(_)?null:_}(n.limit));let l=null;n.startAt&&(l=function(d){const _=!!d.before,C=d.values||[];return new Vs(C,_)}(n.startAt));let c=null;return n.endAt&&(c=function(d){const _=!d.before,C=d.values||[];return new Vs(C,_)}(n.endAt)),XM(e,i,o,s,a,"F",l,c)}function A4(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return re()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Qx(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Gi(n.unaryFilter.field);return Ve.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Gi(n.unaryFilter.field);return Ve.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Gi(n.unaryFilter.field);return Ve.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Gi(n.unaryFilter.field);return Ve.create(o,"!=",{nullValue:"NULL_VALUE"});default:return re()}}(t):t.fieldFilter!==void 0?function(n){return Ve.create(Gi(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return re()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ln.create(n.compositeFilter.filters.map(r=>Qx(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return re()}}(n.compositeFilter.op))}(t):re()}function b4(t){return v4[t]}function R4(t){return y4[t]}function k4(t){return w4[t]}function Ki(t){return{fieldPath:t.canonicalString()}}function Gi(t){return ht.fromServerFormat(t.fieldPath)}function Xx(t){return t instanceof Ve?function(n){if(n.op==="=="){if(t0(n.value))return{unaryFilter:{field:Ki(n.field),op:"IS_NAN"}};if(e0(n.value))return{unaryFilter:{field:Ki(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(t0(n.value))return{unaryFilter:{field:Ki(n.field),op:"IS_NOT_NAN"}};if(e0(n.value))return{unaryFilter:{field:Ki(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ki(n.field),op:R4(n.op),value:n.value}}}(t):t instanceof ln?function(n){const r=n.getFilters().map(i=>Xx(i));return r.length===1?r[0]:{compositeFilter:{op:k4(n.op),filters:r}}}(t):re()}function Yx(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e,n,r,i,s=ne.min(),o=ne.min(),a=tt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new vr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new vr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new vr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new vr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{constructor(e){this.ct=e}}function N4(t){const e=I4({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?sc(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O4{constructor(){this.un=new D4}addToCollectionParentIndex(e,n){return this.un.add(n),$.resolve()}getCollectionParents(e,n){return $.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return $.resolve()}deleteFieldIndex(e,n){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,n){return $.resolve()}getDocumentsMatchingTarget(e,n){return $.resolve(null)}getIndexType(e,n){return $.resolve(0)}getFieldIndexes(e,n){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,n){return $.resolve(jr.min())}getMinOffsetFromCollectionGroup(e,n){return $.resolve(jr.min())}updateCollectionGroup(e,n,r){return $.resolve()}updateIndexEntries(e,n){return $.resolve()}}class D4{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ze(ge.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ze(ge.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new js(0)}static kn(){return new js(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{constructor(){this.changes=new Zs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ct.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?$.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F4{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Xo(r.mutation,i,gr.empty(),He.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ce()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ce()){const i=ii();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Mo();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=ii();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ce()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=$r();const o=Qo(),a=function(){return Qo()}();return n.forEach((l,c)=>{const h=r.get(c.key);i.has(c.key)&&(h===void 0||h.mutation instanceof th)?s=s.insert(c.key,c):h!==void 0?(o.set(c.key,h.mutation.getFieldMask()),Xo(h.mutation,c,h.mutation.getFieldMask(),He.now())):o.set(c.key,gr.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,h)=>o.set(c,h)),n.forEach((c,h)=>{var d;return a.set(c,new M4(h,(d=o.get(c))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Qo();let i=new De((o,a)=>o-a),s=ce();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let h=r.get(l)||gr.empty();h=a.applyToLocalView(c,h),r.set(l,h);const d=(i.get(a.batchId)||ce()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,h=l.value,d=Dx();h.forEach(_=>{if(!s.has(_)){const C=jx(n.get(_),r.get(_));C!==null&&d.set(_,C),s=s.add(_)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return $.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return X.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):rm(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):$.resolve(ii());let a=-1,l=s;return o.next(c=>$.forEach(c,(h,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(h)?$.resolve():this.remoteDocumentCache.getEntry(e,h).next(_=>{l=l.insert(h,_)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,ce())).next(h=>({batchId:a,changes:t4(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new X(n)).next(r=>{let i=Mo();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Mo();return this.indexManager.getCollectionParents(e,s).next(a=>$.forEach(a,l=>{const c=function(d,_){return new ki(_,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(h=>{h.forEach((d,_)=>{o=o.insert(d,_)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,c)=>{const h=c.getKey();o.get(h)===null&&(o=o.insert(h,ct.newInvalidDocument(h)))});let a=Mo();return o.forEach((l,c)=>{const h=s.get(l);h!==void 0&&Xo(h.mutation,c,gr.empty(),He.now()),Zc(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return $.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:vs(i.createTime)}}(n)),$.resolve()}getNamedQuery(e,n){return $.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:N4(i.bundledQuery),readTime:vs(i.readTime)}}(n)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j4{constructor(){this.overlays=new De(X.comparator),this.Ir=new Map}getOverlay(e,n){return $.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ii();return $.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),$.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),$.resolve()}getOverlaysForCollection(e,n,r){const i=ii(),s=n.length+1,o=new X(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return $.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new De((c,h)=>c-h);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let h=s.get(c.largestBatchId);h===null&&(h=ii(),s=s.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const a=ii(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,h)=>a.set(c,h)),!(a.size()>=i)););return $.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new f4(n,r));let s=this.Ir.get(n);s===void 0&&(s=ce(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U4{constructor(){this.sessionToken=tt.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(){this.Tr=new Ze(ze.Er),this.dr=new Ze(ze.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new ze(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new ze(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new X(new ge([])),r=new ze(n,e),i=new ze(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new X(new ge([])),r=new ze(n,e),i=new ze(n,e+1);let s=ce();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new ze(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ze{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return X.comparator(e.key,n.key)||fe(e.wr,n.wr)}static Ar(e,n){return fe(e.wr,n.wr)||X.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $4{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Ze(ze.Er)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new d4(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.br=this.br.add(new ze(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return $.resolve(o)}lookupMutationBatch(e,n){return $.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return $.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ze(n,0),i=new ze(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const a=this.Dr(o.wr);s.push(a)}),$.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ze(fe);return n.forEach(i=>{const s=new ze(i,0),o=new ze(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),$.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;X.isDocumentKey(s)||(s=s.child(""));const o=new ze(new X(s),0);let a=new Ze(fe);return this.br.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.wr)),!0)},o),$.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Pe(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return $.forEach(n.mutations,i=>{const s=new ze(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new ze(n,0),i=this.br.firstAfterOrEqual(r);return $.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B4{constructor(e){this.Mr=e,this.docs=function(){return new De(X.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return $.resolve(r?r.document.mutableCopy():ct.newInvalidDocument(n))}getEntries(e,n){let r=$r();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():ct.newInvalidDocument(i))}),$.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=$r();const o=n.path,a=new X(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:h}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||PM(kM(h),r)<=0||(i.has(h.key)||Zc(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return $.resolve(s)}getAllFromCollectionGroup(e,n,r,i){re()}Or(e,n){return $.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new z4(this)}getSize(e){return $.resolve(this.size)}}class z4 extends L4{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),$.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{constructor(e){this.persistence=e,this.Nr=new Zs(n=>tm(n),nm),this.lastRemoteSnapshotVersion=ne.min(),this.highestTargetId=0,this.Lr=0,this.Br=new lm,this.targetCount=0,this.kr=js.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),$.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new js(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,$.resolve()}updateTargetData(e,n){return this.Kn(n),$.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),$.waitFor(s).next(()=>i)}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return $.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),$.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),$.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),$.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return $.resolve(r)}containsKey(e,n){return $.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q4{constructor(e,n){this.qr={},this.overlays={},this.Qr=new J_(0),this.Kr=!1,this.Kr=!0,this.$r=new U4,this.referenceDelegate=e(this),this.Ur=new W4(this),this.indexManager=new O4,this.remoteDocumentCache=function(i){return new B4(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new P4(n),this.Gr=new V4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new j4,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new $4(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){Q("MemoryPersistence","Starting transaction:",e);const i=new H4(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return $.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class H4 extends OM{constructor(e){super(),this.currentSequenceNumber=e}}class um{constructor(e){this.persistence=e,this.Jr=new lm,this.Yr=null}static Zr(e){return new um(e)}get Xr(){if(this.Yr)return this.Yr;throw re()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),$.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),$.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),$.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.Xr,r=>{const i=X.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,ne.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return $.or([()=>$.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=ce(),i=ce();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new cm(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G4{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return rL()?8:DM(pt())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new K4;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Io()<=ae.DEBUG&&Q("QueryEngine","SDK will not create cache indexes for query:",Hi(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),$.resolve()):(Io()<=ae.DEBUG&&Q("QueryEngine","Query:",Hi(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Io()<=ae.DEBUG&&Q("QueryEngine","The SDK decides to create cache indexes for query:",Hi(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,yn(n))):$.resolve())}Yi(e,n){if(s0(n))return $.resolve(null);let r=yn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=sc(n,null,"F"),r=yn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ce(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.ts(n,a);return this.ns(n,c,o,l.readTime)?this.Yi(e,sc(n,null,"F")):this.rs(e,c,n,l)}))})))}Zi(e,n,r,i){return s0(n)||i.isEqual(ne.min())?$.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?$.resolve(null):(Io()<=ae.DEBUG&&Q("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Hi(n)),this.rs(e,o,n,RM(i,-1)).next(a=>a))})}ts(e,n){let r=new Ze(Nx(e));return n.forEach((i,s)=>{Zc(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return Io()<=ae.DEBUG&&Q("QueryEngine","Using full collection scan to execute query:",Hi(n)),this.Ji.getDocumentsMatchingQuery(e,n,jr.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q4{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new De(fe),this._s=new Zs(s=>tm(s),nm),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new F4(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function X4(t,e,n,r){return new Q4(t,e,n,r)}async function Jx(t,e){const n=ue(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=ce();for(const c of i){o.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}for(const c of s){a.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(c=>({hs:c,removedBatchIds:o,addedBatchIds:a}))})})}function Zx(t){const e=ue(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function Y4(t,e){const n=ue(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((h,d)=>{const _=i.get(d);if(!_)return;a.push(n.Ur.removeMatchingKeys(s,h.removedDocuments,d).next(()=>n.Ur.addMatchingKeys(s,h.addedDocuments,d)));let C=_.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?C=C.withResumeToken(tt.EMPTY_BYTE_STRING,ne.min()).withLastLimboFreeSnapshotVersion(ne.min()):h.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(h.resumeToken,r)),i=i.insert(d,C),function(A,y,p){return A.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=3e8?!0:p.addedDocuments.size+p.modifiedDocuments.size+p.removedDocuments.size>0}(_,C,h)&&a.push(n.Ur.updateTargetData(s,C))});let l=$r(),c=ce();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(J4(s,o,e.documentUpdates).next(h=>{l=h.Ps,c=h.Is})),!r.isEqual(ne.min())){const h=n.Ur.getLastRemoteSnapshotVersion(s).next(d=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(h)}return $.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.os=i,s))}function J4(t,e,n){let r=ce(),i=ce();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=$r();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ne.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Q("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Ps:o,Is:i}})}function Z4(t,e){const n=ue(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,$.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new vr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function yp(t,e,n){const r=ue(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!qa(o))throw o;Q("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function m0(t,e,n){const r=ue(t);let i=ne.min(),s=ce();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,h){const d=ue(l),_=d._s.get(h);return _!==void 0?$.resolve(d.os.get(_)):d.Ur.getTargetData(c,h)}(r,o,yn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:ne.min(),n?s:ce())).next(a=>(eF(r,JM(e),a),{documents:a,Ts:s})))}function eF(t,e,n){let r=t.us.get(e)||ne.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class g0{constructor(){this.activeTargetIds=i4()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class tF{constructor(){this.so=new g0,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new g0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nF{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Q("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Q("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zl=null;function Ad(){return zl===null?zl=function(){return 268435456+Math.round(2147483648*Math.random())}():zl++,"0x"+zl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iF{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const at="WebChannelConnection";class sF extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const a=Ad(),l=this.xo(n,r.toUriEncodedString());Q("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,s,o),this.No(n,l,c,i).then(h=>(Q("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw Ds("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",l,"request:",i),h})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Js}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=rF[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=Ad();return new Promise((o,a)=>{const l=new mx;l.setWithCredentials(!0),l.listenOnce(gx.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case pu.NO_ERROR:const h=l.getResponseJson();Q(at,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),o(h);break;case pu.TIMEOUT:Q(at,`RPC '${e}' ${s} timed out`),a(new H(U.DEADLINE_EXCEEDED,"Request time out"));break;case pu.HTTP_ERROR:const d=l.getStatus();if(Q(at,`RPC '${e}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let _=l.getResponseJson();Array.isArray(_)&&(_=_[0]);const C=_==null?void 0:_.error;if(C&&C.status&&C.message){const b=function(y){const p=y.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(p)>=0?p:U.UNKNOWN}(C.status);a(new H(b,C.message))}else a(new H(U.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new H(U.UNAVAILABLE,"Connection failed."));break;default:re()}}finally{Q(at,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);Q(at,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",c,r,15)})}Bo(e,n,r){const i=Ad(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=wx(),a=yx(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=s.join("");Q(at,`Creating RPC '${e}' stream ${i}: ${h}`,l);const d=o.createWebChannel(h,l);let _=!1,C=!1;const b=new iF({Io:y=>{C?Q(at,`Not sending because RPC '${e}' stream ${i} is closed:`,y):(_||(Q(at,`Opening RPC '${e}' stream ${i} transport.`),d.open(),_=!0),Q(at,`RPC '${e}' stream ${i} sending:`,y),d.send(y))},To:()=>d.close()}),A=(y,p,g)=>{y.listen(p,w=>{try{g(w)}catch(R){setTimeout(()=>{throw R},0)}})};return A(d,Lo.EventType.OPEN,()=>{C||(Q(at,`RPC '${e}' stream ${i} transport opened.`),b.yo())}),A(d,Lo.EventType.CLOSE,()=>{C||(C=!0,Q(at,`RPC '${e}' stream ${i} transport closed`),b.So())}),A(d,Lo.EventType.ERROR,y=>{C||(C=!0,Ds(at,`RPC '${e}' stream ${i} transport errored:`,y),b.So(new H(U.UNAVAILABLE,"The operation could not be completed")))}),A(d,Lo.EventType.MESSAGE,y=>{var p;if(!C){const g=y.data[0];Pe(!!g);const w=g,R=w.error||((p=w[0])===null||p===void 0?void 0:p.error);if(R){Q(at,`RPC '${e}' stream ${i} received error:`,R);const L=R.status;let P=function(I){const f=Me[I];if(f!==void 0)return $x(f)}(L),E=R.message;P===void 0&&(P=U.INTERNAL,E="Unknown error status: "+L+" with message "+R.message),C=!0,b.So(new H(P,E)),d.close()}else Q(at,`RPC '${e}' stream ${i} received:`,g),b.bo(g)}}),A(a,vx.STAT_EVENT,y=>{y.stat===lp.PROXY?Q(at,`RPC '${e}' stream ${i} detected buffering proxy`):y.stat===lp.NOPROXY&&Q(at,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{b.wo()},0),b}}function bd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rh(t){return new E4(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&Q("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oF{constructor(e,n,r,i,s,o,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new eC(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===U.RESOURCE_EXHAUSTED?(qn(n.toString()),qn("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new H(U.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Q("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(Q("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class aF extends oF{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=S4(this.serializer,e),r=function(s){if(!("targetChange"in s))return ne.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ne.min():o.readTime?vs(o.readTime):ne.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=_0(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=dp(l)?{documents:x4(s,l)}:{query:C4(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=Wx(s,o.resumeToken);const c=mp(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(ne.min())>0){a.readTime=gp(s,o.snapshotVersion.toTimestamp());const c=mp(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=A4(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=_0(this.serializer),n.removeTarget=e,this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lF extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new H(U.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,vp(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new H(U.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,vp(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new H(U.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class uF{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(qn(n),this.D_=!1):Q("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cF{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{Qa(this)&&(Q("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=ue(l);c.L_.add(4),await Ga(c),c.q_.set("Unknown"),c.L_.delete(4),await ih(c)}(this))})}),this.q_=new uF(r,i)}}async function ih(t){if(Qa(t))for(const e of t.B_)await e(!0)}async function Ga(t){for(const e of t.B_)await e(!1)}function tC(t,e){const n=ue(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),pm(n)?fm(n):eo(n).r_()&&dm(n,e))}function hm(t,e){const n=ue(t),r=eo(n);n.N_.delete(e),r.r_()&&nC(n,e),n.N_.size===0&&(r.r_()?r.o_():Qa(n)&&n.q_.set("Unknown"))}function dm(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ne.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}eo(t).A_(e)}function nC(t,e){t.Q_.xe(e),eo(t).R_(e)}function fm(t){t.Q_=new g4({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),eo(t).start(),t.q_.v_()}function pm(t){return Qa(t)&&!eo(t).n_()&&t.N_.size>0}function Qa(t){return ue(t).L_.size===0}function rC(t){t.Q_=void 0}async function hF(t){t.q_.set("Online")}async function dF(t){t.N_.forEach((e,n)=>{dm(t,e)})}async function fF(t,e){rC(t),pm(t)?(t.q_.M_(e),fm(t)):t.q_.set("Unknown")}async function pF(t,e,n){if(t.q_.set("Online"),e instanceof zx&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){Q("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await y0(t,r)}else if(e instanceof mu?t.Q_.Ke(e):e instanceof Bx?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ne.min()))try{const r=await Zx(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const h=s.N_.get(c);h&&s.N_.set(c,h.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const h=s.N_.get(l);if(!h)return;s.N_.set(l,h.withResumeToken(tt.EMPTY_BYTE_STRING,h.snapshotVersion)),nC(s,l);const d=new vr(h.target,l,c,h.sequenceNumber);dm(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Q("RemoteStore","Failed to raise snapshot:",r),await y0(t,r)}}async function y0(t,e,n){if(!qa(e))throw e;t.L_.add(1),await Ga(t),t.q_.set("Offline"),n||(n=()=>Zx(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Q("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await ih(t)})}async function w0(t,e){const n=ue(t);n.asyncQueue.verifyOperationInProgress(),Q("RemoteStore","RemoteStore received new credentials");const r=Qa(n);n.L_.add(3),await Ga(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await ih(n)}async function _F(t,e){const n=ue(t);e?(n.L_.delete(2),await ih(n)):e||(n.L_.add(2),await Ga(n),n.q_.set("Unknown"))}function eo(t){return t.K_||(t.K_=function(n,r,i){const s=ue(n);return s.w_(),new aF(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:hF.bind(null,t),Ro:dF.bind(null,t),mo:fF.bind(null,t),d_:pF.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),pm(t)?fm(t):t.q_.set("Unknown")):(await t.K_.stop(),rC(t))})),t.K_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Nr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new _m(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new H(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function iC(t,e){if(qn("AsyncQueue",`${e}: ${t}`),qa(t))return new H(U.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e){this.comparator=e?(n,r)=>e(n,r)||X.comparator(n.key,r.key):(n,r)=>X.comparator(n.key,r.key),this.keyedMap=Mo(),this.sortedSet=new De(this.comparator)}static emptySet(e){return new ys(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ys)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ys;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(){this.W_=new De(X.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):re():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Us{constructor(e,n,r,i,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Us(e,n,ys.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Jc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mF{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class gF{constructor(){this.queries=T0(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=ue(n),s=i.queries;i.queries=T0(),s.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new H(U.ABORTED,"Firestore shutting down"))}}function T0(){return new Zs(t=>Px(t),Jc)}async function mm(t,e){const n=ue(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new mF,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=iC(o,`Initialization of query '${Hi(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&vm(n)}async function gm(t,e){const n=ue(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function vF(t,e){const n=ue(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&vm(n)}function yF(t,e,n){const r=ue(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function vm(t){t.Y_.forEach(e=>{e.next()})}var wp,S0;(S0=wp||(wp={})).ea="default",S0.Cache="cache";class ym{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Us(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Us.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==wp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(e){this.key=e}}class oC{constructor(e){this.key=e}}class wF{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ce(),this.mutatedKeys=ce(),this.Aa=Nx(e),this.Ra=new ys(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new E0,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,d)=>{const _=i.get(h),C=Zc(this.query,d)?d:null,b=!!_&&this.mutatedKeys.has(_.key),A=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let y=!1;_&&C?_.data.isEqual(C.data)?b!==A&&(r.track({type:3,doc:C}),y=!0):this.ga(_,C)||(r.track({type:2,doc:C}),y=!0,(l&&this.Aa(C,l)>0||c&&this.Aa(C,c)<0)&&(a=!0)):!_&&C?(r.track({type:0,doc:C}),y=!0):_&&!C&&(r.track({type:1,doc:_}),y=!0,(l||c)&&(a=!0)),y&&(C?(o=o.add(C),s=A?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((h,d)=>function(C,b){const A=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return re()}};return A(C)-A(b)}(h.type,d.type)||this.Aa(h.doc,d.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,c=l!==this.Ea;return this.Ea=l,o.length!==0||c?{snapshot:new Us(this.query,e.Ra,s,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new E0,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=ce(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new oC(r))}),this.da.forEach(r=>{e.has(r)||n.push(new sC(r))}),n}ba(e){this.Ta=e.Ts,this.da=ce();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Us.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class EF{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class TF{constructor(e){this.key=e,this.va=!1}}class SF{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Zs(a=>Px(a),Jc),this.Ma=new Map,this.xa=new Set,this.Oa=new De(X.comparator),this.Na=new Map,this.La=new lm,this.Ba={},this.ka=new Map,this.qa=js.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function xF(t,e,n=!0){const r=hC(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await aC(r,e,n,!0),i}async function CF(t,e){const n=hC(t);await aC(n,e,!0,!1)}async function aC(t,e,n,r){const i=await Z4(t.localStore,yn(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await IF(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&tC(t.remoteStore,i),a}async function IF(t,e,n,r,i){t.Ka=(d,_,C)=>async function(A,y,p,g){let w=y.view.ma(p);w.ns&&(w=await m0(A.localStore,y.query,!1).then(({documents:E})=>y.view.ma(E,w)));const R=g&&g.targetChanges.get(y.targetId),L=g&&g.targetMismatches.get(y.targetId)!=null,P=y.view.applyChanges(w,A.isPrimaryClient,R,L);return C0(A,y.targetId,P.wa),P.snapshot}(t,d,_,C);const s=await m0(t.localStore,e,!0),o=new wF(e,s.Ts),a=o.ma(s.documents),l=Ka.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,l);C0(t,n,c.wa);const h=new EF(e,n,o);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}async function AF(t,e,n){const r=ue(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!Jc(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await yp(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&hm(r.remoteStore,i.targetId),Ep(r,i.targetId)}).catch(Y_)):(Ep(r,i.targetId),await yp(r.localStore,i.targetId,!0))}async function bF(t,e){const n=ue(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),hm(n.remoteStore,r.targetId))}async function lC(t,e){const n=ue(t);try{const r=await Y4(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(Pe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Pe(o.va):i.removedDocuments.size>0&&(Pe(o.va),o.va=!1))}),await cC(n,r,e)}catch(r){await Y_(r)}}function x0(t,e,n){const r=ue(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=ue(o);l.onlineState=a;let c=!1;l.queries.forEach((h,d)=>{for(const _ of d.j_)_.Z_(a)&&(c=!0)}),c&&vm(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function RF(t,e,n){const r=ue(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new De(X.comparator);o=o.insert(s,ct.newNoDocument(s,ne.min()));const a=ce().add(s),l=new nh(ne.min(),new Map,new De(fe),o,a);await lC(r,l),r.Oa=r.Oa.remove(s),r.Na.delete(e),wm(r)}else await yp(r.localStore,e,!1).then(()=>Ep(r,e,n)).catch(Y_)}function Ep(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||uC(t,r)})}function uC(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(hm(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),wm(t))}function C0(t,e,n){for(const r of n)r instanceof sC?(t.La.addReference(r.key,e),kF(t,r)):r instanceof oC?(Q("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||uC(t,r.key)):re()}function kF(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(Q("SyncEngine","New document in limbo: "+n),t.xa.add(r),wm(t))}function wm(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new X(ge.fromString(e)),r=t.qa.next();t.Na.set(r,new TF(n)),t.Oa=t.Oa.insert(n,r),tC(t.remoteStore,new vr(yn(Yc(n.path)),r,"TargetPurposeLimboResolution",J_.oe))}}async function cC(t,e,n){const r=ue(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(c=>{var h;if((c||n)&&r.isPrimaryClient){const d=c?!c.fromCache:(h=n==null?void 0:n.targetChanges.get(l.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(c){i.push(c);const d=cm.Wi(l.targetId,c);s.push(d)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(l,c){const h=ue(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>$.forEach(c,_=>$.forEach(_.$i,C=>h.persistence.referenceDelegate.addReference(d,_.targetId,C)).next(()=>$.forEach(_.Ui,C=>h.persistence.referenceDelegate.removeReference(d,_.targetId,C)))))}catch(d){if(!qa(d))throw d;Q("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const _=d.targetId;if(!d.fromCache){const C=h.os.get(_),b=C.snapshotVersion,A=C.withLastLimboFreeSnapshotVersion(b);h.os=h.os.insert(_,A)}}}(r.localStore,s))}async function PF(t,e){const n=ue(t);if(!n.currentUser.isEqual(e)){Q("SyncEngine","User change. New user:",e.toKey());const r=await Jx(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(l=>{l.reject(new H(U.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await cC(n,r.hs)}}function NF(t,e){const n=ue(t),r=n.Na.get(e);if(r&&r.va)return ce().add(r.key);{let i=ce();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function hC(t){const e=ue(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=lC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=NF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=RF.bind(null,e),e.Ca.d_=vF.bind(null,e.eventManager),e.Ca.$a=yF.bind(null,e.eventManager),e}class lc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=rh(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return X4(this.persistence,new G4,e.initialUser,this.serializer)}Ga(e){return new q4(um.Zr,this.serializer)}Wa(e){return new tF}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}lc.provider={build:()=>new lc};class Tp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>x0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=PF.bind(null,this.syncEngine),await _F(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new gF}()}createDatastore(e){const n=rh(e.databaseInfo.databaseId),r=function(s){return new sF(s)}(e.databaseInfo);return function(s,o,a,l){return new lF(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new cF(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>x0(this.syncEngine,n,0),function(){return v0.D()?new v0:new nF}())}createSyncEngine(e,n){return function(i,s,o,a,l,c,h){const d=new SF(i,s,o,a,l,c);return h&&(d.Qa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=ue(i);Q("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await Ga(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Tp.provider={build:()=>new Tp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):qn("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OF{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=lt.UNAUTHENTICATED,this.clientId=Tx.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{Q("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Q("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Nr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=iC(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Rd(t,e){t.asyncQueue.verifyOperationInProgress(),Q("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Jx(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function I0(t,e){t.asyncQueue.verifyOperationInProgress();const n=await DF(t);Q("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>w0(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>w0(e.remoteStore,i)),t._onlineComponents=e}async function DF(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Q("FirestoreClient","Using user provided OfflineComponentProvider");try{await Rd(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===U.FAILED_PRECONDITION||i.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Ds("Error using user provided cache. Falling back to memory cache: "+n),await Rd(t,new lc)}}else Q("FirestoreClient","Using default OfflineComponentProvider"),await Rd(t,new lc);return t._offlineComponents}async function LF(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Q("FirestoreClient","Using user provided OnlineComponentProvider"),await I0(t,t._uninitializedComponentsProvider._online)):(Q("FirestoreClient","Using default OnlineComponentProvider"),await I0(t,new Tp))),t._onlineComponents}async function uc(t){const e=await LF(t),n=e.eventManager;return n.onListen=xF.bind(null,e.syncEngine),n.onUnlisten=AF.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=CF.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=bF.bind(null,e.syncEngine),n}function MF(t,e,n={}){const r=new Nr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const h=new Em({next:_=>{h.Za(),o.enqueueAndForget(()=>gm(s,d));const C=_.docs.has(a);!C&&_.fromCache?c.reject(new H(U.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&_.fromCache&&l&&l.source==="server"?c.reject(new H(U.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(_)},error:_=>c.reject(_)}),d=new ym(Yc(a.path),h,{includeMetadataChanges:!0,_a:!0});return mm(s,d)}(await uc(t),t.asyncQueue,e,n,r)),r.promise}function FF(t,e,n={}){const r=new Nr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const h=new Em({next:_=>{h.Za(),o.enqueueAndForget(()=>gm(s,d)),_.fromCache&&l.source==="server"?c.reject(new H(U.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(_)},error:_=>c.reject(_)}),d=new ym(a,h,{includeMetadataChanges:!0,_a:!0});return mm(s,d)}(await uc(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fC(t,e,n){if(!n)throw new H(U.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function VF(t,e,n,r){if(e===!0&&r===!0)throw new H(U.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function b0(t){if(!X.isDocumentKey(t))throw new H(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function R0(t){if(X.isDocumentKey(t))throw new H(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function sh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":re()}function Or(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new H(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=sh(t);throw new H(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function jF(t,e){if(e<=0)throw new H(U.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new H(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new H(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}VF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=dC((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new H(U.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new H(U.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new H(U.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class oh{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new k0({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new H(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new H(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new k0(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new wM;switch(r.type){case"firstParty":return new xM(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new H(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=A0.get(n);r&&(Q("ComponentProvider","Removing Datastore"),A0.delete(n),r.terminate())}(this),Promise.resolve()}}function UF(t,e,n,r={}){var i;const s=(t=Or(t,oh))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Ds("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=lt.MOCK_USER;else{a=XD(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new H(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new lt(c)}t._authCredentials=new EM(new Ex(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new In(this.firestore,e,this._query)}}class bt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Dr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new bt(this.firestore,e,this._key)}}class Dr extends In{constructor(e,n,r){super(e,n,Yc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new bt(this.firestore,null,new X(e))}withConverter(e){return new Dr(this.firestore,e,this._path)}}function $F(t,e,...n){if(t=Vt(t),fC("collection","path",e),t instanceof oh){const r=ge.fromString(e,...n);return R0(r),new Dr(t,null,r)}{if(!(t instanceof bt||t instanceof Dr))throw new H(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ge.fromString(e,...n));return R0(r),new Dr(t.firestore,null,r)}}function pC(t,e,...n){if(t=Vt(t),arguments.length===1&&(e=Tx.newId()),fC("doc","path",e),t instanceof oh){const r=ge.fromString(e,...n);return b0(r),new bt(t,null,new X(r))}{if(!(t instanceof bt||t instanceof Dr))throw new H(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ge.fromString(e,...n));return b0(r),new bt(t.firestore,t instanceof Dr?t.converter:null,new X(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new eC(this,"async_queue_retry"),this.Vu=()=>{const r=bd();r&&Q("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=bd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=bd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Nr;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!qa(e))throw e;Q("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw qn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=_m.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&re()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function N0(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class ba extends oh{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new P0,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new P0(e),this._firestoreClient=void 0,await e}}}function BF(t,e){const n=typeof t=="object"?t:dx(),r=typeof t=="string"?t:"(default)",i=Q_(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=GD("firestore");s&&UF(i,...s)}return i}function Tm(t){if(t._terminated)throw new H(U.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||zF(t),t._firestoreClient}function zF(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,c,h){return new FM(a,l,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,dC(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new OF(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $s(tt.fromBase64String(e))}catch(n){throw new H(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new $s(tt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new H(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ht(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new H(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new H(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return fe(this._lat,e._lat)||fe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WF=/^__.*__$/;function gC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw re()}}class Cm{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Cm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Sp(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(gC(this.Cu)&&WF.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class qF{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||rh(e)}Qu(e,n,r,i=!1){return new Cm({Cu:e,methodName:n,qu:r,path:ht.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function vC(t){const e=t._freezeSettings(),n=rh(t._databaseId);return new qF(t._databaseId,!!e.ignoreUndefinedProperties,n)}function yC(t,e,n,r=!1){return Im(n,t.Qu(r?4:3,e))}function Im(t,e){if(wC(t=Vt(t)))return KF("Unsupported field value:",e,t),HF(t,e);if(t instanceof mC)return function(r,i){if(!gC(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=Im(a,i.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Vt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return s4(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=He.fromDate(r);return{timestampValue:gp(i.serializer,s)}}if(r instanceof He){const s=new He(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:gp(i.serializer,s)}}if(r instanceof Sm)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof $s)return{bytesValue:Wx(i.serializer,r._byteString)};if(r instanceof bt){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:qx(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof xm)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return im(a.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${sh(r)}`)}(t,e)}function HF(t,e){const n={};return Sx(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ha(t,(r,i)=>{const s=Im(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function wC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof He||t instanceof Sm||t instanceof $s||t instanceof bt||t instanceof mC||t instanceof xm)}function KF(t,e,n){if(!wC(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=sh(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}const GF=new RegExp("[~\\*/\\[\\]]");function QF(t,e,n){if(e.search(GF)>=0)throw Sp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new _C(...e.split("."))._internalPath}catch{throw Sp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Sp(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new H(U.INVALID_ARGUMENT,a+t+l)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new bt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new XF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ah("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class XF extends Am{data(){return super.data()}}function ah(t,e){return typeof e=="string"?QF(t,e):e instanceof _C?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EC(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new H(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class bm{}class lh extends bm{}function Wl(t,e,...n){let r=[];e instanceof bm&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof Rm).length,a=s.filter(l=>l instanceof uh).length;if(o>1||o>0&&a>0)throw new H(U.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class uh extends lh{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new uh(e,n,r)}_apply(e){const n=this._parse(e);return TC(e._query,n),new In(e.firestore,e.converter,fp(e._query,n))}_parse(e){const n=vC(e.firestore);return function(s,o,a,l,c,h,d){let _;if(c.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new H(U.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){D0(d,h);const C=[];for(const b of d)C.push(O0(l,s,b));_={arrayValue:{values:C}}}else _=O0(l,s,d)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||D0(d,h),_=yC(a,o,d,h==="in"||h==="not-in");return Ve.create(c,h,_)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function YF(t,e,n){const r=e,i=ah("where",t);return uh._create(i,r,n)}class Rm extends bm{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Rm(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:ln.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)TC(o,l),o=fp(o,l)}(e._query,n),new In(e.firestore,e.converter,fp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class km extends lh{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new km(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new H(U.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new H(U.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Aa(s,o)}(e._query,this._field,this._direction);return new In(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new ki(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function JF(t,e="asc"){const n=e,r=ah("orderBy",t);return km._create(r,n)}class Pm extends lh{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Pm(e,n,r)}_apply(e){return new In(e.firestore,e.converter,sc(e._query,this._limit,this._limitType))}}function ZF(t){return jF("limit",t),Pm._create("limit",t,"F")}class Nm extends lh{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Nm(e,n,r)}_apply(e){const n=tV(e,this.type,this._docOrFields,this._inclusive);return new In(e.firestore,e.converter,function(i,s){return new ki(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(e._query,n))}}function eV(...t){return Nm._create("startAfter",t,!1)}function tV(t,e,n,r){if(n[0]=Vt(n[0]),n[0]instanceof Am)return function(s,o,a,l,c){if(!l)throw new H(U.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const h=[];for(const d of gs(s))if(d.field.isKeyField())h.push(ic(o,l.key));else{const _=l.data.field(d.field);if(Xc(_))throw new H(U.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+d.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(_===null){const C=d.field.canonicalString();throw new H(U.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${C}' (used as the orderBy) does not exist.`)}h.push(_)}return new Vs(h,c)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=vC(t.firestore);return function(o,a,l,c,h,d){const _=o.explicitOrderBy;if(h.length>_.length)throw new H(U.INVALID_ARGUMENT,`Too many arguments provided to ${c}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const C=[];for(let b=0;b<h.length;b++){const A=h[b];if(_[b].field.isKeyField()){if(typeof A!="string")throw new H(U.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${c}(), but got a ${typeof A}`);if(!rm(o)&&A.indexOf("/")!==-1)throw new H(U.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${c}() must be a plain document ID, but '${A}' contains a slash.`);const y=o.path.child(ge.fromString(A));if(!X.isDocumentKey(y))throw new H(U.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${c}() must result in a valid document path, but '${y}' is not because it contains an odd number of segments.`);const p=new X(y);C.push(ic(a,p))}else{const y=yC(l,c,A);C.push(y)}}return new Vs(C,d)}(t._query,t.firestore._databaseId,i,e,n,r)}}function O0(t,e,n){if(typeof(n=Vt(n))=="string"){if(n==="")throw new H(U.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!rm(e)&&n.indexOf("/")!==-1)throw new H(U.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ge.fromString(n));if(!X.isDocumentKey(r))throw new H(U.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ic(t,new X(r))}if(n instanceof bt)return ic(t,n._key);throw new H(U.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${sh(n)}.`)}function D0(t,e){if(!Array.isArray(t)||t.length===0)throw new H(U.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function TC(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new H(U.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new H(U.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class nV{convertValue(e,n="none"){switch(yi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ne(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(vi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw re()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ha(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Ne(o.doubleValue));return new xm(s)}convertGeoPoint(e){return new Sm(Ne(e.latitude),Ne(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Z_(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(xa(e));default:return null}}convertTimestamp(e){const n=Ur(e);return new He(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ge.fromString(e);Pe(Yx(r));const i=new Ca(r.get(1),r.get(3)),s=new X(r.popFirst(5));return i.isEqual(n)||qn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class SC extends Am{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new gu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(ah("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class gu extends SC{data(e={}){return super.data(e)}}class xC{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Vo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new gu(this._firestore,this._userDataWriter,r.key,r,new Vo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new H(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new gu(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Vo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new gu(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Vo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,h=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:rV(a.type),doc:l,oldIndex:c,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function rV(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return re()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iV(t){t=Or(t,bt);const e=Or(t.firestore,ba);return MF(Tm(e),t._key).then(n=>CC(e,t,n))}class Om extends nV{constructor(e){super(),this.firestore=e}convertBytes(e){return new $s(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new bt(this.firestore,null,n)}}function sV(t){t=Or(t,In);const e=Or(t.firestore,ba),n=Tm(e),r=new Om(e);return EC(t._query),FF(n,t._query).then(i=>new xC(e,r,t,i))}function oV(t,...e){var n,r,i;t=Vt(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||N0(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(N0(e[o])){const d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[o+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let l,c,h;if(t instanceof bt)c=Or(t.firestore,ba),h=Yc(t._key.path),l={next:d=>{e[o]&&e[o](CC(c,t,d))},error:e[o+1],complete:e[o+2]};else{const d=Or(t,In);c=Or(d.firestore,ba),h=d._query;const _=new Om(c);l={next:C=>{e[o]&&e[o](new xC(c,_,d,C))},error:e[o+1],complete:e[o+2]},EC(t._query)}return function(_,C,b,A){const y=new Em(A),p=new ym(C,y,b);return _.asyncQueue.enqueueAndForget(async()=>mm(await uc(_),p)),()=>{y.Za(),_.asyncQueue.enqueueAndForget(async()=>gm(await uc(_),p))}}(Tm(c),h,a,l)}function CC(t,e,n){const r=n.docs.get(e._key),i=new Om(t);return new SC(t,i,e._key,r,new Vo(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Js=i})(Ys),Os(new mi("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new ba(new TM(r.getProvider("auth-internal")),new IM(r.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new H(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ca(c.options.projectId,h)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Pr(Qy,"4.7.3",e),Pr(Qy,"4.7.3","esm2017")})();var aV="firebase",lV="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pr(aV,lV,"app");function IC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const uV=IC,AC=new za("auth","Firebase",IC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cc=new K_("@firebase/auth");function cV(t,...e){cc.logLevel<=ae.WARN&&cc.warn(`Auth (${Ys}): ${t}`,...e)}function vu(t,...e){cc.logLevel<=ae.ERROR&&cc.error(`Auth (${Ys}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hn(t,...e){throw Dm(t,...e)}function wn(t,...e){return Dm(t,...e)}function bC(t,e,n){const r=Object.assign(Object.assign({},uV()),{[e]:n});return new za("auth","Firebase",r).create(e,{appName:t.name})}function ui(t){return bC(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Dm(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return AC.create(t,...e)}function te(t,e,...n){if(!t)throw Dm(e,...n)}function On(t){const e="INTERNAL ASSERTION FAILED: "+t;throw vu(e),new Error(e)}function Kn(t,e){t||On(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function hV(){return L0()==="http:"||L0()==="https:"}function L0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(hV()||eL()||"connection"in navigator)?navigator.onLine:!0}function fV(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(e,n){this.shortDelay=e,this.longDelay=n,Kn(n>e,"Short delay should be less than long delay!"),this.isMobile=YD()||tL()}get(){return dV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lm(t,e){Kn(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;On("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;On("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;On("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _V=new Xa(3e4,6e4);function Mm(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function to(t,e,n,r,i={}){return kC(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Wa(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},s);return ZD()||(c.referrerPolicy="no-referrer"),RC.fetch()(PC(t,t.config.apiHost,n,a),c)})}async function kC(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},pV),e);try{const i=new gV(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw ql(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw ql(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw ql(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw ql(t,"user-disabled",o);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw bC(t,h,c);Hn(t,h)}}catch(i){if(i instanceof Yn)throw i;Hn(t,"network-request-failed",{message:String(i)})}}async function mV(t,e,n,r,i={}){const s=await to(t,e,n,r,i);return"mfaPendingCredential"in s&&Hn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function PC(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Lm(t.config,i):`${t.config.apiScheme}://${i}`}class gV{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(wn(this.auth,"network-request-failed")),_V.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ql(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=wn(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vV(t,e){return to(t,"POST","/v1/accounts:delete",e)}async function NC(t,e){return to(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yo(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function yV(t,e=!1){const n=Vt(t),r=await n.getIdToken(e),i=Fm(r);te(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Yo(kd(i.auth_time)),issuedAtTime:Yo(kd(i.iat)),expirationTime:Yo(kd(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function kd(t){return Number(t)*1e3}function Fm(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return vu("JWT malformed, contained fewer than 3 sections"),null;try{const i=sx(n);return i?JSON.parse(i):(vu("Failed to decode base64 JWT payload"),null)}catch(i){return vu("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function M0(t){const e=Fm(t);return te(e,"internal-error"),te(typeof e.exp<"u","internal-error"),te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ra(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Yn&&wV(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function wV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EV{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Yo(this.lastLoginAt),this.creationTime=Yo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hc(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Ra(t,NC(n,{idToken:r}));te(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?OC(s.providerUserInfo):[],a=SV(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),h=l?c:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Cp(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(t,d)}async function TV(t){const e=Vt(t);await hc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function SV(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function OC(t){return t.map(e=>{var{providerId:n}=e,r=ja(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xV(t,e){const n=await kC(t,{},async()=>{const r=Wa({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=PC(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",RC.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function CV(t,e){return to(t,"POST","/v2/accounts:revokeToken",Mm(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){te(e.idToken,"internal-error"),te(typeof e.idToken<"u","internal-error"),te(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):M0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){te(e.length!==0,"internal-error");const n=M0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await xV(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new ws;return r&&(te(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(te(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(te(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ws,this.toJSON())}_performRefresh(){return On("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rr(t,e){te(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Dn{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=ja(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new EV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Cp(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Ra(this,this.stsTokenManager.getToken(this.auth,e));return te(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return yV(this,e)}reload(){return TV(this)}_assign(e){this!==e&&(te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Dn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await hc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(mr(this.auth.app))return Promise.reject(ui(this.auth));const e=await this.getIdToken();return await Ra(this,vV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,h;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,_=(i=n.email)!==null&&i!==void 0?i:void 0,C=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,b=(o=n.photoURL)!==null&&o!==void 0?o:void 0,A=(a=n.tenantId)!==null&&a!==void 0?a:void 0,y=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,p=(c=n.createdAt)!==null&&c!==void 0?c:void 0,g=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:w,emailVerified:R,isAnonymous:L,providerData:P,stsTokenManager:E}=n;te(w&&E,e,"internal-error");const v=ws.fromJSON(this.name,E);te(typeof w=="string",e,"internal-error"),rr(d,e.name),rr(_,e.name),te(typeof R=="boolean",e,"internal-error"),te(typeof L=="boolean",e,"internal-error"),rr(C,e.name),rr(b,e.name),rr(A,e.name),rr(y,e.name),rr(p,e.name),rr(g,e.name);const I=new Dn({uid:w,auth:e,email:_,emailVerified:R,displayName:d,isAnonymous:L,photoURL:b,phoneNumber:C,tenantId:A,stsTokenManager:v,createdAt:p,lastLoginAt:g});return P&&Array.isArray(P)&&(I.providerData=P.map(f=>Object.assign({},f))),y&&(I._redirectEventId=y),I}static async _fromIdTokenResponse(e,n,r=!1){const i=new ws;i.updateFromServerResponse(n);const s=new Dn({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await hc(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];te(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?OC(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new ws;a.updateFromIdToken(r);const l=new Dn({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Cp(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0=new Map;function Ln(t){Kn(t instanceof Function,"Expected a class definition");let e=F0.get(t);return e?(Kn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,F0.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}DC.type="NONE";const V0=DC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yu(t,e,n){return`firebase:${t}:${e}:${n}`}class Es{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=yu(this.userKey,i.apiKey,s),this.fullPersistenceKey=yu("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Dn._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Es(Ln(V0),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||Ln(V0);const o=yu(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const h=await c._get(o);if(h){const d=Dn._fromJSON(e,h);c!==s&&(a=d),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Es(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new Es(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j0(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(VC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(LC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(UC(e))return"Blackberry";if($C(e))return"Webos";if(MC(e))return"Safari";if((e.includes("chrome/")||FC(e))&&!e.includes("edge/"))return"Chrome";if(jC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function LC(t=pt()){return/firefox\//i.test(t)}function MC(t=pt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function FC(t=pt()){return/crios\//i.test(t)}function VC(t=pt()){return/iemobile/i.test(t)}function jC(t=pt()){return/android/i.test(t)}function UC(t=pt()){return/blackberry/i.test(t)}function $C(t=pt()){return/webos/i.test(t)}function Vm(t=pt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function IV(t=pt()){var e;return Vm(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function AV(){return nL()&&document.documentMode===10}function BC(t=pt()){return Vm(t)||jC(t)||$C(t)||UC(t)||/windows phone/i.test(t)||VC(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zC(t,e=[]){let n;switch(t){case"Browser":n=j0(pt());break;case"Worker":n=`${j0(pt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ys}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bV{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RV(t,e={}){return to(t,"GET","/v2/passwordPolicy",Mm(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kV=6;class PV{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:kV,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NV{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new U0(this),this.idTokenSubscription=new U0(this),this.beforeStateQueue=new bV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=AC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ln(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Es.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await NC(this,{idToken:e}),r=await Dn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(mr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await hc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=fV()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(mr(this.app))return Promise.reject(ui(this));const n=e?Vt(e):null;return n&&te(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return mr(this.app)?Promise.reject(ui(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return mr(this.app)?Promise.reject(ui(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ln(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await RV(this),n=new PV(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new za("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await CV(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ln(e)||this._popupRedirectResolver;te(n,this,"argument-error"),this.redirectPersistenceManager=await Es.create(this,[Ln(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(te(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=zC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&cV(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function jm(t){return Vt(t)}class U0{constructor(e){this.auth=e,this.observer=null,this.addObserver=cL(n=>this.observer=n)}get next(){return te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Um={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function OV(t){Um=t}function DV(t){return Um.loadJS(t)}function LV(){return Um.gapiScript}function MV(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FV(t,e){const n=Q_(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(tc(s,e??{}))return i;Hn(i,"already-initialized")}return n.initialize({options:e})}function VV(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ln);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function jV(t,e,n){const r=jm(t);te(r._canInitEmulator,r,"emulator-config-failed"),te(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=WC(e),{host:o,port:a}=UV(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),$V()}function WC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function UV(t){const e=WC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:$0(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:$0(o)}}}function $0(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function $V(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return On("not implemented")}_getIdTokenResponse(e){return On("not implemented")}_linkToIdToken(e,n){return On("not implemented")}_getReauthenticationResolver(e){return On("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ts(t,e){return mV(t,"POST","/v1/accounts:signInWithIdp",Mm(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BV="http://localhost";class wi extends qC{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new wi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Hn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=ja(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new wi(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Ts(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ts(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ts(e,n)}buildRequest(){const e={requestUri:BV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Wa(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya extends HC{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur extends Ya{constructor(){super("facebook.com")}static credential(e){return wi._fromParams({providerId:ur.PROVIDER_ID,signInMethod:ur.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ur.credentialFromTaggedObject(e)}static credentialFromError(e){return ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ur.credential(e.oauthAccessToken)}catch{return null}}}ur.FACEBOOK_SIGN_IN_METHOD="facebook.com";ur.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr extends Ya{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return wi._fromParams({providerId:cr.PROVIDER_ID,signInMethod:cr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return cr.credentialFromTaggedObject(e)}static credentialFromError(e){return cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return cr.credential(n,r)}catch{return null}}}cr.GOOGLE_SIGN_IN_METHOD="google.com";cr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr extends Ya{constructor(){super("github.com")}static credential(e){return wi._fromParams({providerId:hr.PROVIDER_ID,signInMethod:hr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hr.credentialFromTaggedObject(e)}static credentialFromError(e){return hr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return hr.credential(e.oauthAccessToken)}catch{return null}}}hr.GITHUB_SIGN_IN_METHOD="github.com";hr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr extends Ya{constructor(){super("twitter.com")}static credential(e,n){return wi._fromParams({providerId:dr.PROVIDER_ID,signInMethod:dr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return dr.credentialFromTaggedObject(e)}static credentialFromError(e){return dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return dr.credential(n,r)}catch{return null}}}dr.TWITTER_SIGN_IN_METHOD="twitter.com";dr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Dn._fromIdTokenResponse(e,r,i),o=B0(r);return new Bs({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=B0(r);return new Bs({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function B0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc extends Yn{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,dc.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new dc(e,n,r,i)}}function KC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?dc._fromErrorAndOperation(t,s,e,r):s})}async function zV(t,e,n=!1){const r=await Ra(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Bs._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WV(t,e,n=!1){const{auth:r}=t;if(mr(r.app))return Promise.reject(ui(r));const i="reauthenticate";try{const s=await Ra(t,KC(r,i,e,t),n);te(s.idToken,r,"internal-error");const o=Fm(s.idToken);te(o,r,"internal-error");const{sub:a}=o;return te(t.uid===a,r,"user-mismatch"),Bs._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Hn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qV(t,e,n=!1){if(mr(t.app))return Promise.reject(ui(t));const r="signIn",i=await KC(t,r,e),s=await Bs._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}function HV(t,e,n,r){return Vt(t).onIdTokenChanged(e,n,r)}function KV(t,e,n){return Vt(t).beforeAuthStateChanged(e,n)}const fc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(fc,"1"),this.storage.removeItem(fc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GV=1e3,QV=10;class QC extends GC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=BC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);AV()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,QV):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},GV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}QC.type="LOCAL";const XV=QC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC extends GC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}XC.type="SESSION";const YC=XC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YV(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new ch(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await YV(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ch.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $m(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=$m("",20);i.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const _=d;if(_.data.eventId===c)switch(_.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(_.data.response);break;default:clearTimeout(h),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(){return window}function ZV(t){En().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JC(){return typeof En().WorkerGlobalScope<"u"&&typeof En().importScripts=="function"}async function e9(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function t9(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function n9(){return JC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC="firebaseLocalStorageDb",r9=1,pc="firebaseLocalStorage",eI="fbase_key";class Ja{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function hh(t,e){return t.transaction([pc],e?"readwrite":"readonly").objectStore(pc)}function i9(){const t=indexedDB.deleteDatabase(ZC);return new Ja(t).toPromise()}function Ip(){const t=indexedDB.open(ZC,r9);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(pc,{keyPath:eI})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(pc)?e(r):(r.close(),await i9(),e(await Ip()))})})}async function z0(t,e,n){const r=hh(t,!0).put({[eI]:e,value:n});return new Ja(r).toPromise()}async function s9(t,e){const n=hh(t,!1).get(e),r=await new Ja(n).toPromise();return r===void 0?null:r.value}function W0(t,e){const n=hh(t,!0).delete(e);return new Ja(n).toPromise()}const o9=800,a9=3;class tI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ip(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>a9)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return JC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ch._getInstance(n9()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await e9(),!this.activeServiceWorker)return;this.sender=new JV(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||t9()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ip();return await z0(e,fc,"1"),await W0(e,fc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>z0(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>s9(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>W0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=hh(i,!1).getAll();return new Ja(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),o9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}tI.type="LOCAL";const l9=tI;new Xa(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u9(t,e){return e?Ln(e):(te(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm extends qC{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ts(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ts(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ts(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function c9(t){return qV(t.auth,new Bm(t),t.bypassAuthState)}function h9(t){const{auth:e,user:n}=t;return te(n,e,"internal-error"),WV(n,new Bm(t),t.bypassAuthState)}async function d9(t){const{auth:e,user:n}=t;return te(n,e,"internal-error"),zV(n,new Bm(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return c9;case"linkViaPopup":case"linkViaRedirect":return d9;case"reauthViaPopup":case"reauthViaRedirect":return h9;default:Hn(this.auth,"internal-error")}}resolve(e){Kn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Kn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f9=new Xa(2e3,1e4);class as extends nI{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,as.currentPopupAction&&as.currentPopupAction.cancel(),as.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return te(e,this.auth,"internal-error"),e}async onExecution(){Kn(this.filter.length===1,"Popup operations only handle one event");const e=$m();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(wn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(wn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,as.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(wn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,f9.get())};e()}}as.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p9="pendingRedirect",wu=new Map;class _9 extends nI{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=wu.get(this.auth._key());if(!e){try{const r=await m9(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}wu.set(this.auth._key(),e)}return this.bypassAuthState||wu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function m9(t,e){const n=y9(e),r=v9(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function g9(t,e){wu.set(t._key(),e)}function v9(t){return Ln(t._redirectPersistence)}function y9(t){return yu(p9,t.config.apiKey,t.name)}async function w9(t,e,n=!1){if(mr(t.app))return Promise.reject(ui(t));const r=jm(t),i=u9(r,e),o=await new _9(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E9=10*60*1e3;class T9{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!S9(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!rI(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(wn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=E9&&this.cachedEventUids.clear(),this.cachedEventUids.has(q0(e))}saveEventToCache(e){this.cachedEventUids.add(q0(e)),this.lastProcessedEventTime=Date.now()}}function q0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function rI({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function S9(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return rI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x9(t,e={}){return to(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C9=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,I9=/^https?/;async function A9(t){if(t.config.emulator)return;const{authorizedDomains:e}=await x9(t);for(const n of e)try{if(b9(n))return}catch{}Hn(t,"unauthorized-domain")}function b9(t){const e=xp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!I9.test(n))return!1;if(C9.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R9=new Xa(3e4,6e4);function H0(){const t=En().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function k9(t){return new Promise((e,n)=>{var r,i,s;function o(){H0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{H0(),n(wn(t,"network-request-failed"))},timeout:R9.get()})}if(!((i=(r=En().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=En().gapi)===null||s===void 0)&&s.load)o();else{const a=MV("iframefcb");return En()[a]=()=>{gapi.load?o():n(wn(t,"network-request-failed"))},DV(`${LV()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Eu=null,e})}let Eu=null;function P9(t){return Eu=Eu||k9(t),Eu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N9=new Xa(5e3,15e3),O9="__/auth/iframe",D9="emulator/auth/iframe",L9={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},M9=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function F9(t){const e=t.config;te(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Lm(e,D9):`https://${t.config.authDomain}/${O9}`,r={apiKey:e.apiKey,appName:t.name,v:Ys},i=M9.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Wa(r).slice(1)}`}async function V9(t){const e=await P9(t),n=En().gapi;return te(n,t,"internal-error"),e.open({where:document.body,url:F9(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:L9,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=wn(t,"network-request-failed"),a=En().setTimeout(()=>{s(o)},N9.get());function l(){En().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j9={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},U9=500,$9=600,B9="_blank",z9="http://localhost";class K0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function W9(t,e,n,r=U9,i=$9){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},j9),{width:r.toString(),height:i.toString(),top:s,left:o}),c=pt().toLowerCase();n&&(a=FC(c)?B9:n),LC(c)&&(e=e||z9,l.scrollbars="yes");const h=Object.entries(l).reduce((_,[C,b])=>`${_}${C}=${b},`,"");if(IV(c)&&a!=="_self")return q9(e||"",a),new K0(null);const d=window.open(e||"",a,h);te(d,t,"popup-blocked");try{d.focus()}catch{}return new K0(d)}function q9(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H9="__/auth/handler",K9="emulator/auth/handler",G9=encodeURIComponent("fac");async function G0(t,e,n,r,i,s){te(t.config.authDomain,t,"auth-domain-config-required"),te(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ys,eventId:i};if(e instanceof HC){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",uL(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,d]of Object.entries({}))o[h]=d}if(e instanceof Ya){const h=e.getScopes().filter(d=>d!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const l=await t._getAppCheckToken(),c=l?`#${G9}=${encodeURIComponent(l)}`:"";return`${Q9(t)}?${Wa(a).slice(1)}${c}`}function Q9({config:t}){return t.emulator?Lm(t,K9):`https://${t.authDomain}/${H9}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pd="webStorageSupport";class X9{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=YC,this._completeRedirectFn=w9,this._overrideRedirectResult=g9}async _openPopup(e,n,r,i){var s;Kn((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await G0(e,n,r,xp(),i);return W9(e,o,$m())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await G0(e,n,r,xp(),i);return ZV(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Kn(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await V9(e),r=new T9(e);return n.register("authEvent",i=>(te(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Pd,{type:Pd},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Pd];o!==void 0&&n(!!o),Hn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=A9(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return BC()||MC()||Vm()}}const Y9=X9;var Q0="@firebase/auth",X0="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J9{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z9(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ej(t){Os(new mi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;te(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:zC(t)},c=new NV(r,i,s,l);return VV(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Os(new mi("auth-internal",e=>{const n=jm(e.getProvider("auth").getImmediate());return(r=>new J9(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Pr(Q0,X0,Z9(t)),Pr(Q0,X0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tj=5*60,nj=lx("authIdTokenMaxAge")||tj;let Y0=null;const rj=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>nj)return;const i=n==null?void 0:n.token;Y0!==i&&(Y0=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function ij(t=dx()){const e=Q_(t,"auth");if(e.isInitialized())return e.getImmediate();const n=FV(t,{popupRedirectResolver:Y9,persistence:[l9,XV,YC]}),r=lx("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=rj(s.toString());KV(n,o,()=>o(n.currentUser)),HV(n,a=>o(a))}}const i=ox("auth");return i&&jV(n,`http://${i}`),n}function sj(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}OV({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=wn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",sj().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ej("Browser");const ls={apiKey:"AIzaSyDg8GoWAqFRRMvRdEC3U2gxadVkJx5QSy0",authDomain:"do-snippets-app.firebaseapp.com",projectId:"do-snippets-app",storageBucket:"do-snippets-app.firebasestorage.app",messagingSenderId:"826096392259",appId:"1:826096392259:web:6c30991b6dbe4cdcf51cf6",measurementId:"G-5V64B8531R"},oj=["apiKey","authDomain","projectId"],J0=oj.filter(t=>!ls[t]);if(J0.length>0)throw new Error(`Missing required Firebase configuration: ${J0.join(", ")}`);const iI=hx(ls);console.log("Firebase Config:",{projectId:ls.projectId,authDomain:ls.authDomain,apiKey:ls.apiKey?`${ls.apiKey.substring(0,10)}...`:"MISSING",isDev:!1});console.log("Raw env vars:",{VITE_FIREBASE_API_KEY:"SET",VITE_FIREBASE_PROJECT_ID:"do-snippets-app"});ij(iI);const zm=BF(iI);class Za{constructor({id:e,title:n,htmlContent:r,authorId:i,authorEmail:s,createdAt:o=null,updatedAt:a=null,voteCount:l=0,tags:c=[],approved:h=!1}){this.id=e,this.title=n,this.htmlContent=r,this.authorId=i,this.authorEmail=s,this.createdAt=o,this.updatedAt=a,this.voteCount=l,this.tags=c,this.approved=h}static fromFirestore(e,n){return new Za({id:e,title:n.title,htmlContent:n.htmlContent,authorId:n.authorId,authorEmail:n.authorEmail,createdAt:n.createdAt,updatedAt:n.updatedAt,voteCount:n.voteCount||0,tags:n.tags||[],approved:n.approved||!1})}toFirestore(){return{title:this.title,htmlContent:this.htmlContent,authorId:this.authorId,authorEmail:this.authorEmail,createdAt:this.createdAt,updatedAt:this.updatedAt,voteCount:this.voteCount,tags:this.tags,approved:this.approved}}validate(){const e=[];return!this.title||typeof this.title!="string"?e.push("Title is required and must be a string"):this.title.trim().length===0?e.push("Title cannot be empty"):this.title.length>200&&e.push("Title must be 200 characters or less"),!this.htmlContent||typeof this.htmlContent!="string"?e.push("HTML content is required and must be a string"):this.htmlContent.trim().length===0&&e.push("HTML content cannot be empty"),(!this.authorId||typeof this.authorId!="string")&&e.push("Author ID is required and must be a string"),!this.authorEmail||typeof this.authorEmail!="string"?e.push("Author email is required and must be a string"):this.isValidEmail(this.authorEmail)||e.push("Author email must be a valid email address"),typeof this.voteCount!="number"&&e.push("Vote count must be a number"),Array.isArray(this.tags)?this.tags.some(n=>typeof n!="string")&&e.push("All tags must be strings"):e.push("Tags must be an array"),{isValid:e.length===0,errors:e}}isValidEmail(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}getSanitizedHtml(){return this.htmlContent.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"").replace(/\s*on\w+\s*=\s*"[^"]*"/gi,"").replace(/\s*on\w+\s*=\s*'[^']*'/gi,"").replace(/javascript:/gi,"").replace(/\s+/g," ").replace(/\s+>/g,">")}}class Wm{constructor({id:e,snippetId:n,userId:r,createdAt:i=null}){this.id=e,this.snippetId=n,this.userId=r,this.createdAt=i}static fromFirestore(e,n){return new Wm({id:e,snippetId:n.snippetId,userId:n.userId,createdAt:n.createdAt})}toFirestore(){return{snippetId:this.snippetId,userId:this.userId,createdAt:this.createdAt}}validate(){const e=[];return(!this.snippetId||typeof this.snippetId!="string")&&e.push("Snippet ID is required and must be a string"),(!this.userId||typeof this.userId!="string")&&e.push("User ID is required and must be a string"),{isValid:e.length===0,errors:e}}getCompositeId(){return`${this.userId}_${this.snippetId}`}}const dh={SNIPPETS:"snippets",VOTES:"votes"},sI=async(t,e)=>{const n=pC(zm,t,e),r=await iV(n);return r.exists()?{id:r.id,...r.data()}:null},aj=async(t,e={})=>{const{whereConditions:n=[],orderByField:r=null,orderDirection:i="asc",limitCount:s=null,startAfterDoc:o=null}=e;let a=$F(zm,t);return n.forEach(c=>{a=Wl(a,YF(c.field,c.operator,c.value))}),r&&(a=Wl(a,JF(r,i))),o&&(a=Wl(a,eV(o))),s&&(a=Wl(a,ZF(s))),(await sV(a)).docs.map(c=>({id:c.id,...c.data()}))},lj=async t=>{const e=await sI(dh.SNIPPETS,t);return e?Za.fromFirestore(e.id,e):null},_c=async(t={})=>(await aj(dh.SNIPPETS,t)).map(n=>Za.fromFirestore(n.id,n)),uj=async(t=10)=>await _c({orderByField:"voteCount",orderDirection:"desc",limitCount:t}),cj=async()=>(await _c()).reduce((n,r)=>(r.tags&&Array.isArray(r.tags)&&r.tags.forEach(i=>{if(i){const s=UD([i])[0];s&&!n.includes(s)&&n.push(s)}}),n),[]).sort(),hj=async(t,e)=>{const n=`${t}_${e}`,r=await sI(dh.VOTES,n);return r?Wm.fromFirestore(r.id,r):null},dj=(t,e)=>{const n=pC(zm,dh.SNIPPETS,t);return oV(n,r=>{if(r.exists()){const i=Za.fromFirestore(r.id,r.data());e(i)}else e(null)})},oI=({snippetId:t,initialVoteCount:e=0,onVoteChange:n,className:r=""})=>{const{user:i,isAuthenticated:s}=Ri(),[o,a]=S.useState(e),[l,c]=S.useState(!1),[h,d]=S.useState(!1),[_,C]=S.useState(null);S.useEffect(()=>{(async()=>{if(!s||!(i!=null&&i.id)){c(!1);return}try{const p=await hj(i.id,t);c(!!p)}catch(p){console.error("Error checking user vote:",p)}})()},[s,i==null?void 0:i.id,t]),S.useEffect(()=>{const y=dj(t,p=>{if(p){const g=p.voteCount||0;a(g),n&&n(g)}});return()=>y()},[t,n]);const b=async()=>{d(!0),C(null);try{await new Promise(g=>setTimeout(g,500));const y=!l;c(y);const p=y?o+1:o-1;a(p),n&&n(p),C(null)}catch(y){console.error("Error toggling vote:",y),C("Failed to update vote. Please try again.")}finally{d(!1)}},A=()=>{C(null)};return x.jsxs("div",{className:`vote-button ${r}`,children:[x.jsxs("button",{onClick:b,disabled:h||!s,className:`vote-btn ${l?"voted":""} ${h?"loading":""}`,title:s?l?"Remove vote":"Upvote this snippet":"Please log in to vote","aria-label":l?`Remove vote (current count: ${o})`:`Upvote snippet (current count: ${o})`,children:[x.jsx("svg",{className:"vote-icon",viewBox:"0 0 15 15",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",width:"15",height:"15",children:x.jsx("path",{d:"M7.22303 0.665992C7.32551 0.419604 7.67454 0.419604 7.77702 0.665992L9.41343 4.60039C9.45663 4.70426 9.55432 4.77523 9.66645 4.78422L13.914 5.12475C14.18 5.14607 14.2878 5.47802 14.0852 5.65162L10.849 8.42374C10.7636 8.49692 10.7263 8.61176 10.7524 8.72118L11.7411 12.866C11.803 13.1256 11.5206 13.3308 11.2929 13.1917L7.6564 10.9705C7.5604 10.9119 7.43965 10.9119 7.34365 10.9705L3.70718 13.1917C3.47945 13.3308 3.19708 13.1256 3.25899 12.866L4.24769 8.72118C4.2738 8.61176 4.23648 8.49692 4.15105 8.42374L0.914889 5.65162C0.712228 5.47802 0.820086 5.14607 1.08608 5.12475L5.3336 4.78422C5.44573 4.77523 5.54342 4.70426 5.58662 4.60039L7.22303 0.665992Z",fill:"currentColor"})}),x.jsx("span",{className:"vote-count",children:o})]}),_&&x.jsxs("div",{className:"vote-error",role:"alert",children:[x.jsx("span",{className:"error-message",children:_}),x.jsx("button",{onClick:A,className:"error-dismiss","aria-label":"Dismiss error",children:"×"})]})]})},fj=["jessenwells@gmail.com"],aI=({snippetId:t,initialApproved:e=!1,className:n=""})=>{const{user:r}=Ri(),[i,s]=S.useState(e),[o,a]=S.useState(!1),l=r&&fj.includes(r.email);if(!l&&!i)return null;const c=async h=>{if(h.stopPropagation(),!(!l||o))try{a(!0),await new Promise(_=>setTimeout(_,500)),s(!i),console.log("Approval toggled successfully (portfolio mode)")}catch(d){console.error("Failed to toggle approval:",d)}finally{a(!1)}};return x.jsx("div",{className:`approved-button ${n}`,children:x.jsxs("button",{className:`approved-btn ${i?"approved-btn-approved":"approved-btn-pending"} ${o?"approved-btn-loading":""}`,onClick:c,disabled:!l||o,title:l?i?"Approved - Click to unapprove":"Click to approve":"Approved by admin",children:[i?x.jsx("svg",{width:"18",height:"18",viewBox:"0 0 15 15",fill:"none",children:x.jsx("path",{d:"M7.49991 0.877045C3.84222 0.877045 0.877075 3.84219 0.877075 7.49988C0.877075 11.1575 3.84222 14.1227 7.49991 14.1227C11.1576 14.1227 14.1227 11.1575 14.1227 7.49988C14.1227 3.84219 11.1576 0.877045 7.49991 0.877045ZM1.82708 7.49988C1.82708 4.36686 4.36689 1.82704 7.49991 1.82704C10.6329 1.82704 13.1727 4.36686 13.1727 7.49988C13.1727 10.6329 10.6329 13.1727 7.49991 13.1727C4.36689 13.1727 1.82708 10.6329 1.82708 7.49988ZM10.1589 5.53774C10.3178 5.31191 10.2636 5.00001 10.0378 4.84109C9.81194 4.68217 9.50004 4.73642 9.34112 4.96225L6.51977 8.97154L5.35681 7.78706C5.16334 7.59002 4.84677 7.58711 4.64973 7.78058C4.45268 7.97404 4.44978 8.29061 4.64325 8.48765L6.22658 10.1003C6.33054 10.2062 6.47617 10.2604 6.62407 10.2483C6.77197 10.2363 6.90686 10.1591 6.99226 10.0377L10.1589 5.53774Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})}):x.jsx("svg",{width:"18",height:"18",viewBox:"0 0 15 15",fill:"none",children:x.jsx("path",{d:"M0.877075 7.49991C0.877075 3.84222 3.84222 0.877075 7.49991 0.877075C11.1576 0.877075 14.1227 3.84222 14.1227 7.49991C14.1227 11.1576 11.1576 14.1227 7.49991 14.1227C3.84222 14.1227 0.877075 11.1576 0.877075 7.49991ZM7.49991 1.82708C4.36689 1.82708 1.82708 4.36689 1.82708 7.49991C1.82708 10.6329 4.36689 13.1727 7.49991 13.1727C10.6329 13.1727 13.1727 10.6329 13.1727 7.49991C13.1727 4.36689 10.6329 1.82708 7.49991 1.82708Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})}),x.jsx("span",{className:"approved-text",children:i?"Approved":"Approve"})]})})},pj=`
<script src="https://code.jquery.com/jquery-3.7.1.min.js"><\/script>
<link rel="preload" href="/preview/fontawesome-webfont.woff2" as="font" type="font/woff2" crossorigin />
<link rel="stylesheet" href="/preview/bootstrap.min.css" />
<link rel="stylesheet" href="/preview/main.css" />
<link rel="stylesheet" href="/preview/extend.css" />
<link rel="stylesheet" href="/preview/common.css" />
<link rel="stylesheet" href="/preview/menu.css" />
<link rel="stylesheet" href="/preview/header.css" />
<link rel="stylesheet" href="/preview/font-awesome.min.css" />
<link rel="stylesheet" href="/preview/fonts.css" />
<style>
body {  margin: 0; padding: 16px; font-family: system-ui, -apple-system, sans-serif; background: #f2eef5; } }
* { box-sizing: border-box; }
:root {
    --cta-background-color: #888;
    --cta-font-color: #fff;
    --cta-hover-color: #999;
    --main-color: #555;
}
.btn-primary {
  background-color: var(--cta-background-color);
  border-color: var(--cta-background-color);
}
.btn-primary:hover {
  background-color:  var(--cta-hover-color);
  border-color:  var(--cta-hover-color);
}
</style>
`,_j=`
<script src="https://code.jquery.com/jquery-3.7.1.min.js"><\/script>
<script src="/preview/bootstrap.min.js"><\/script>
<script src="/preview/modernizr.min.js"><\/script>
<script src="/preview/jquery.validate.min.js"><\/script>
<script>
// Prevent links and submit
document.addEventListener('DOMContentLoaded', function() {
  document.addEventListener('click', function(e) {
    if (e.target.tagName === 'A' || e.target.closest('a')) {
      e.preventDefault();
      return false;
    }
  }, true);
  document.addEventListener('submit', function(e) {
    e.preventDefault();
    return false;
  }, true);
});
<\/script>
`,lI=({htmlContent:t,className:e="",height:n=300})=>{const r=S.useRef(null),[i,s]=S.useState(!0),[o,a]=S.useState(!1);S.useEffect(()=>{if(!(!r.current||!t)){s(!0),a(!1);try{const h=r.current,d=h.contentDocument||h.contentWindow.document,_=`<!DOCTYPE html>
        <html lang="en">
        <head>
          <meta charset="UTF-8">
          <meta name="viewport" content="width=device-width, initial-scale=1.0">
          <title>Snippet Preview</title>
          ${pj}
        </head>
        <body>
          ${t}
          ${_j}
        </body>
        </html>
      `;d.open(),d.write(_),d.close(),s(!1)}catch(h){console.error("Error rendering snippet preview:",h),a(!0),s(!1)}}},[t]);const l=()=>{s(!1)},c=()=>{a(!0),s(!1)};return t?x.jsxs("div",{className:`snippet-preview ${e}`,children:[x.jsxs("div",{className:"preview-header",children:[x.jsx("span",{className:"preview-label",children:"Live Preview"}),i&&x.jsx("span",{className:"preview-status loading",children:"Loading..."}),o&&x.jsx("span",{className:"preview-status error",children:"Error loading preview"})]}),x.jsx("div",{className:"preview-container",style:{height:n},children:x.jsx("iframe",{ref:r,className:"preview-iframe",title:"HTML Snippet Preview",sandbox:"allow-scripts allow-same-origin allow-forms allow-modals allow-pointer-lock",onLoad:l,onError:c})})]}):x.jsx("div",{className:`snippet-preview empty ${e}`,style:{height:n},children:x.jsx("div",{className:"preview-placeholder",children:x.jsx("p",{children:"No HTML content to preview"})})})},uI=({snippet:t,onClick:e,onCopy:n,className:r="",livePreview:i=!1,showVoteCount:s=!0})=>{if(!t)return null;const o=b=>{b.target.closest(".copy-button")||b.target.closest(".vote-button")||e&&e(t)},a=b=>{(b.key==="Enter"||b.key===" ")&&(b.preventDefault(),o(b))},l=b=>{n&&n(b)},c=b=>{console.error("Copy failed:",b)},h=tx(t.authorEmail),d=jD(t.createdAt),_=Fy(t.title,60),C=Fy(t.htmlContent.replace(/<[^>]*>/g,""),120);return x.jsxs("div",{className:`snippet-card ${r}`,onClick:o,onKeyDown:a,tabIndex:0,role:"button","aria-label":`View snippet: ${t.title}`,children:[x.jsxs("div",{className:"snippet-card-header",children:[x.jsx("h3",{className:"snippet-card-title",title:t.title,children:_}),x.jsxs("div",{className:"snippet-card-actions",children:[x.jsx(aI,{snippetId:t.id,initialApproved:t.approved||!1,className:"snippet-card-approved"}),x.jsx(oI,{snippetId:t.id,initialVoteCount:t.voteCount||0,className:"snippet-card-vote-button"}),x.jsx(nx,{text:t.htmlContent,size:"small",onCopySuccess:l,onCopyError:c,className:"snippet-card-copy-button"})]})]}),x.jsx("div",{className:"snippet-card-content",children:i?x.jsx(lI,{htmlContent:t.htmlContent,height:180,className:"snippet-card-preview-component"}):x.jsx("p",{className:"snippet-card-preview",title:t.htmlContent,children:C})}),x.jsxs("div",{className:"snippet-card-footer",children:[x.jsxs("div",{className:"snippet-card-author",children:[x.jsx("span",{className:"author-label",children:"by"}),x.jsx("span",{className:"author-name",children:h})]}),t.tags&&t.tags.length>0&&x.jsx("div",{className:"snippet-card-tags",children:t.tags.join(" ")}),x.jsx("div",{className:"snippet-card-date",children:d})]})]})};var cI={exports:{}};(function(t){var e=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{};/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 *
 * @license MIT <https://opensource.org/licenses/MIT>
 * @author Lea Verou <https://lea.verou.me>
 * @namespace
 * @public
 */var n=function(r){var i=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,s=0,o={},a={manual:r.Prism&&r.Prism.manual,disableWorkerMessageHandler:r.Prism&&r.Prism.disableWorkerMessageHandler,util:{encode:function g(w){return w instanceof l?new l(w.type,g(w.content),w.alias):Array.isArray(w)?w.map(g):w.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(g){return Object.prototype.toString.call(g).slice(8,-1)},objId:function(g){return g.__id||Object.defineProperty(g,"__id",{value:++s}),g.__id},clone:function g(w,R){R=R||{};var L,P;switch(a.util.type(w)){case"Object":if(P=a.util.objId(w),R[P])return R[P];L={},R[P]=L;for(var E in w)w.hasOwnProperty(E)&&(L[E]=g(w[E],R));return L;case"Array":return P=a.util.objId(w),R[P]?R[P]:(L=[],R[P]=L,w.forEach(function(v,I){L[I]=g(v,R)}),L);default:return w}},getLanguage:function(g){for(;g;){var w=i.exec(g.className);if(w)return w[1].toLowerCase();g=g.parentElement}return"none"},setLanguage:function(g,w){g.className=g.className.replace(RegExp(i,"gi"),""),g.classList.add("language-"+w)},currentScript:function(){if(typeof document>"u")return null;if(document.currentScript&&document.currentScript.tagName==="SCRIPT")return document.currentScript;try{throw new Error}catch(L){var g=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(L.stack)||[])[1];if(g){var w=document.getElementsByTagName("script");for(var R in w)if(w[R].src==g)return w[R]}return null}},isActive:function(g,w,R){for(var L="no-"+w;g;){var P=g.classList;if(P.contains(w))return!0;if(P.contains(L))return!1;g=g.parentElement}return!!R}},languages:{plain:o,plaintext:o,text:o,txt:o,extend:function(g,w){var R=a.util.clone(a.languages[g]);for(var L in w)R[L]=w[L];return R},insertBefore:function(g,w,R,L){L=L||a.languages;var P=L[g],E={};for(var v in P)if(P.hasOwnProperty(v)){if(v==w)for(var I in R)R.hasOwnProperty(I)&&(E[I]=R[I]);R.hasOwnProperty(v)||(E[v]=P[v])}var f=L[g];return L[g]=E,a.languages.DFS(a.languages,function(k,N){N===f&&k!=g&&(this[k]=E)}),E},DFS:function g(w,R,L,P){P=P||{};var E=a.util.objId;for(var v in w)if(w.hasOwnProperty(v)){R.call(w,v,w[v],L||v);var I=w[v],f=a.util.type(I);f==="Object"&&!P[E(I)]?(P[E(I)]=!0,g(I,R,null,P)):f==="Array"&&!P[E(I)]&&(P[E(I)]=!0,g(I,R,v,P))}}},plugins:{},highlightAll:function(g,w){a.highlightAllUnder(document,g,w)},highlightAllUnder:function(g,w,R){var L={callback:R,container:g,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};a.hooks.run("before-highlightall",L),L.elements=Array.prototype.slice.apply(L.container.querySelectorAll(L.selector)),a.hooks.run("before-all-elements-highlight",L);for(var P=0,E;E=L.elements[P++];)a.highlightElement(E,w===!0,L.callback)},highlightElement:function(g,w,R){var L=a.util.getLanguage(g),P=a.languages[L];a.util.setLanguage(g,L);var E=g.parentElement;E&&E.nodeName.toLowerCase()==="pre"&&a.util.setLanguage(E,L);var v=g.textContent,I={element:g,language:L,grammar:P,code:v};function f(N){I.highlightedCode=N,a.hooks.run("before-insert",I),I.element.innerHTML=I.highlightedCode,a.hooks.run("after-highlight",I),a.hooks.run("complete",I),R&&R.call(I.element)}if(a.hooks.run("before-sanity-check",I),E=I.element.parentElement,E&&E.nodeName.toLowerCase()==="pre"&&!E.hasAttribute("tabindex")&&E.setAttribute("tabindex","0"),!I.code){a.hooks.run("complete",I),R&&R.call(I.element);return}if(a.hooks.run("before-highlight",I),!I.grammar){f(a.util.encode(I.code));return}if(w&&r.Worker){var k=new Worker(a.filename);k.onmessage=function(N){f(N.data)},k.postMessage(JSON.stringify({language:I.language,code:I.code,immediateClose:!0}))}else f(a.highlight(I.code,I.grammar,I.language))},highlight:function(g,w,R){var L={code:g,grammar:w,language:R};if(a.hooks.run("before-tokenize",L),!L.grammar)throw new Error('The language "'+L.language+'" has no grammar.');return L.tokens=a.tokenize(L.code,L.grammar),a.hooks.run("after-tokenize",L),l.stringify(a.util.encode(L.tokens),L.language)},tokenize:function(g,w){var R=w.rest;if(R){for(var L in R)w[L]=R[L];delete w.rest}var P=new d;return _(P,P.head,g),h(g,P,w,P.head,0),b(P)},hooks:{all:{},add:function(g,w){var R=a.hooks.all;R[g]=R[g]||[],R[g].push(w)},run:function(g,w){var R=a.hooks.all[g];if(!(!R||!R.length))for(var L=0,P;P=R[L++];)P(w)}},Token:l};r.Prism=a;function l(g,w,R,L){this.type=g,this.content=w,this.alias=R,this.length=(L||"").length|0}l.stringify=function g(w,R){if(typeof w=="string")return w;if(Array.isArray(w)){var L="";return w.forEach(function(f){L+=g(f,R)}),L}var P={type:w.type,content:g(w.content,R),tag:"span",classes:["token",w.type],attributes:{},language:R},E=w.alias;E&&(Array.isArray(E)?Array.prototype.push.apply(P.classes,E):P.classes.push(E)),a.hooks.run("wrap",P);var v="";for(var I in P.attributes)v+=" "+I+'="'+(P.attributes[I]||"").replace(/"/g,"&quot;")+'"';return"<"+P.tag+' class="'+P.classes.join(" ")+'"'+v+">"+P.content+"</"+P.tag+">"};function c(g,w,R,L){g.lastIndex=w;var P=g.exec(R);if(P&&L&&P[1]){var E=P[1].length;P.index+=E,P[0]=P[0].slice(E)}return P}function h(g,w,R,L,P,E){for(var v in R)if(!(!R.hasOwnProperty(v)||!R[v])){var I=R[v];I=Array.isArray(I)?I:[I];for(var f=0;f<I.length;++f){if(E&&E.cause==v+","+f)return;var k=I[f],N=k.inside,D=!!k.lookbehind,z=!!k.greedy,Y=k.alias;if(z&&!k.pattern.global){var G=k.pattern.toString().match(/[imsuy]*$/)[0];k.pattern=RegExp(k.pattern.source,G+"g")}for(var Z=k.pattern||k,M=L.next,j=P;M!==w.tail&&!(E&&j>=E.reach);j+=M.value.length,M=M.next){var q=M.value;if(w.length>g.length)return;if(!(q instanceof l)){var ee=1,J;if(z){if(J=c(Z,j,g,D),!J||J.index>=g.length)break;var be=J.index,pe=J.index+J[0].length,Te=j;for(Te+=M.value.length;be>=Te;)M=M.next,Te+=M.value.length;if(Te-=M.value.length,j=Te,M.value instanceof l)continue;for(var Le=M;Le!==w.tail&&(Te<pe||typeof Le.value=="string");Le=Le.next)ee++,Te+=Le.value.length;ee--,q=g.slice(j,Te),J.index-=j}else if(J=c(Z,0,q,D),!J)continue;var be=J.index,Se=J[0],Qt=q.slice(0,be),Ke=q.slice(be+Se.length),Tt=j+q.length;E&&Tt>E.reach&&(E.reach=Tt);var $t=M.prev;Qt&&($t=_(w,$t,Qt),j+=Qt.length),C(w,$t,ee);var Jn=new l(v,N?a.tokenize(Se,N):Se,Y,Se);if(M=_(w,$t,Jn),Ke&&_(w,M,Ke),ee>1){var Rt={cause:v+","+f,reach:Tt};h(g,w,R,M.prev,j,Rt),E&&Rt.reach>E.reach&&(E.reach=Rt.reach)}}}}}}function d(){var g={value:null,prev:null,next:null},w={value:null,prev:g,next:null};g.next=w,this.head=g,this.tail=w,this.length=0}function _(g,w,R){var L=w.next,P={value:R,prev:w,next:L};return w.next=P,L.prev=P,g.length++,P}function C(g,w,R){for(var L=w.next,P=0;P<R&&L!==g.tail;P++)L=L.next;w.next=L,L.prev=w,g.length-=P}function b(g){for(var w=[],R=g.head.next;R!==g.tail;)w.push(R.value),R=R.next;return w}if(!r.document)return r.addEventListener&&(a.disableWorkerMessageHandler||r.addEventListener("message",function(g){var w=JSON.parse(g.data),R=w.language,L=w.code,P=w.immediateClose;r.postMessage(a.highlight(L,a.languages[R],R)),P&&r.close()},!1)),a;var A=a.util.currentScript();A&&(a.filename=A.src,A.hasAttribute("data-manual")&&(a.manual=!0));function y(){a.manual||a.highlightAll()}if(!a.manual){var p=document.readyState;p==="loading"||p==="interactive"&&A&&A.defer?document.addEventListener("DOMContentLoaded",y):window.requestAnimationFrame?window.requestAnimationFrame(y):window.setTimeout(y,16)}return a}(e);t.exports&&(t.exports=n),typeof Hg<"u"&&(Hg.Prism=n),n.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},n.languages.markup.tag.inside["attr-value"].inside.entity=n.languages.markup.entity,n.languages.markup.doctype.inside["internal-subset"].inside=n.languages.markup,n.hooks.add("wrap",function(r){r.type==="entity"&&(r.attributes.title=r.content.replace(/&amp;/,"&"))}),Object.defineProperty(n.languages.markup.tag,"addInlined",{value:function(i,s){var o={};o["language-"+s]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:n.languages[s]},o.cdata=/^<!\[CDATA\[|\]\]>$/i;var a={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:o}};a["language-"+s]={pattern:/[\s\S]+/,inside:n.languages[s]};var l={};l[i]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return i}),"i"),lookbehind:!0,greedy:!0,inside:a},n.languages.insertBefore("markup","cdata",l)}}),Object.defineProperty(n.languages.markup.tag,"addAttribute",{value:function(r,i){n.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+r+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[i,"language-"+i],inside:n.languages[i]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),n.languages.html=n.languages.markup,n.languages.mathml=n.languages.markup,n.languages.svg=n.languages.markup,n.languages.xml=n.languages.extend("markup",{}),n.languages.ssml=n.languages.xml,n.languages.atom=n.languages.xml,n.languages.rss=n.languages.xml,function(r){var i=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;r.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+i.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+i.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+i.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+i.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:i,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},r.languages.css.atrule.inside.rest=r.languages.css;var s=r.languages.markup;s&&(s.tag.addInlined("style","css"),s.tag.addAttribute("style","css"))}(n),n.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},n.languages.javascript=n.languages.extend("clike",{"class-name":[n.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),n.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,n.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:n.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:n.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:n.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:n.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:n.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),n.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:n.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),n.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),n.languages.markup&&(n.languages.markup.tag.addInlined("script","javascript"),n.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),n.languages.js=n.languages.javascript,function(){if(typeof n>"u"||typeof document>"u")return;Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var r="Loading…",i=function(A,y){return"✖ Error "+A+" while fetching file: "+y},s="✖ Error: File does not exist or is empty",o={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},a="data-src-status",l="loading",c="loaded",h="failed",d="pre[data-src]:not(["+a+'="'+c+'"]):not(['+a+'="'+l+'"])';function _(A,y,p){var g=new XMLHttpRequest;g.open("GET",A,!0),g.onreadystatechange=function(){g.readyState==4&&(g.status<400&&g.responseText?y(g.responseText):g.status>=400?p(i(g.status,g.statusText)):p(s))},g.send(null)}function C(A){var y=/^\s*(\d+)\s*(?:(,)\s*(?:(\d+)\s*)?)?$/.exec(A||"");if(y){var p=Number(y[1]),g=y[2],w=y[3];return g?w?[p,Number(w)]:[p,void 0]:[p,p]}}n.hooks.add("before-highlightall",function(A){A.selector+=", "+d}),n.hooks.add("before-sanity-check",function(A){var y=A.element;if(y.matches(d)){A.code="",y.setAttribute(a,l);var p=y.appendChild(document.createElement("CODE"));p.textContent=r;var g=y.getAttribute("data-src"),w=A.language;if(w==="none"){var R=(/\.(\w+)$/.exec(g)||[,"none"])[1];w=o[R]||R}n.util.setLanguage(p,w),n.util.setLanguage(y,w);var L=n.plugins.autoloader;L&&L.loadLanguages(w),_(g,function(P){y.setAttribute(a,c);var E=C(y.getAttribute("data-range"));if(E){var v=P.split(/\r\n?|\n/g),I=E[0],f=E[1]==null?v.length:E[1];I<0&&(I+=v.length),I=Math.max(0,Math.min(I-1,v.length)),f<0&&(f+=v.length),f=Math.max(0,Math.min(f,v.length)),P=v.slice(I,f).join(`
`),y.hasAttribute("data-start")||y.setAttribute("data-start",String(I+1))}p.textContent=P,n.highlightElement(p)},function(P){y.setAttribute(a,h),p.textContent=P})}}),n.plugins.fileHighlight={highlight:function(y){for(var p=(y||document).querySelectorAll(d),g=0,w;w=p[g++];)n.highlightElement(w)}};var b=!1;n.fileHighlight=function(){b||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),b=!0),n.plugins.fileHighlight.highlight.apply(this,arguments)}}()})(cI);var mj=cI.exports;const gj=vc(mj);var hI={exports:{}},Ao={},Hl={exports:{}},Nd={},Od={},Z0;function qm(){if(Z0)return Od;Z0=1;function t(r){this.__parent=r,this.__character_count=0,this.__indent_count=-1,this.__alignment_count=0,this.__wrap_point_index=0,this.__wrap_point_character_count=0,this.__wrap_point_indent_count=-1,this.__wrap_point_alignment_count=0,this.__items=[]}t.prototype.clone_empty=function(){var r=new t(this.__parent);return r.set_indent(this.__indent_count,this.__alignment_count),r},t.prototype.item=function(r){return r<0?this.__items[this.__items.length+r]:this.__items[r]},t.prototype.has_match=function(r){for(var i=this.__items.length-1;i>=0;i--)if(this.__items[i].match(r))return!0;return!1},t.prototype.set_indent=function(r,i){this.is_empty()&&(this.__indent_count=r||0,this.__alignment_count=i||0,this.__character_count=this.__parent.get_indent_size(this.__indent_count,this.__alignment_count))},t.prototype._set_wrap_point=function(){this.__parent.wrap_line_length&&(this.__wrap_point_index=this.__items.length,this.__wrap_point_character_count=this.__character_count,this.__wrap_point_indent_count=this.__parent.next_line.__indent_count,this.__wrap_point_alignment_count=this.__parent.next_line.__alignment_count)},t.prototype._should_wrap=function(){return this.__wrap_point_index&&this.__character_count>this.__parent.wrap_line_length&&this.__wrap_point_character_count>this.__parent.next_line.__character_count},t.prototype._allow_wrap=function(){if(this._should_wrap()){this.__parent.add_new_line();var r=this.__parent.current_line;return r.set_indent(this.__wrap_point_indent_count,this.__wrap_point_alignment_count),r.__items=this.__items.slice(this.__wrap_point_index),this.__items=this.__items.slice(0,this.__wrap_point_index),r.__character_count+=this.__character_count-this.__wrap_point_character_count,this.__character_count=this.__wrap_point_character_count,r.__items[0]===" "&&(r.__items.splice(0,1),r.__character_count-=1),!0}return!1},t.prototype.is_empty=function(){return this.__items.length===0},t.prototype.last=function(){return this.is_empty()?null:this.__items[this.__items.length-1]},t.prototype.push=function(r){this.__items.push(r);var i=r.lastIndexOf(`
`);i!==-1?this.__character_count=r.length-i:this.__character_count+=r.length},t.prototype.pop=function(){var r=null;return this.is_empty()||(r=this.__items.pop(),this.__character_count-=r.length),r},t.prototype._remove_indent=function(){this.__indent_count>0&&(this.__indent_count-=1,this.__character_count-=this.__parent.indent_size)},t.prototype._remove_wrap_indent=function(){this.__wrap_point_indent_count>0&&(this.__wrap_point_indent_count-=1)},t.prototype.trim=function(){for(;this.last()===" ";)this.__items.pop(),this.__character_count-=1},t.prototype.toString=function(){var r="";return this.is_empty()?this.__parent.indent_empty_lines&&(r=this.__parent.get_indent_string(this.__indent_count)):(r=this.__parent.get_indent_string(this.__indent_count,this.__alignment_count),r+=this.__items.join("")),r};function e(r,i){this.__cache=[""],this.__indent_size=r.indent_size,this.__indent_string=r.indent_char,r.indent_with_tabs||(this.__indent_string=new Array(r.indent_size+1).join(r.indent_char)),i=i||"",r.indent_level>0&&(i=new Array(r.indent_level+1).join(this.__indent_string)),this.__base_string=i,this.__base_string_length=i.length}e.prototype.get_indent_size=function(r,i){var s=this.__base_string_length;return i=i||0,r<0&&(s=0),s+=r*this.__indent_size,s+=i,s},e.prototype.get_indent_string=function(r,i){var s=this.__base_string;return i=i||0,r<0&&(r=0,s=""),i+=r*this.__indent_size,this.__ensure_cache(i),s+=this.__cache[i],s},e.prototype.__ensure_cache=function(r){for(;r>=this.__cache.length;)this.__add_column()},e.prototype.__add_column=function(){var r=this.__cache.length,i=0,s="";this.__indent_size&&r>=this.__indent_size&&(i=Math.floor(r/this.__indent_size),r-=i*this.__indent_size,s=new Array(i+1).join(this.__indent_string)),r&&(s+=new Array(r+1).join(" ")),this.__cache.push(s)};function n(r,i){this.__indent_cache=new e(r,i),this.raw=!1,this._end_with_newline=r.end_with_newline,this.indent_size=r.indent_size,this.wrap_line_length=r.wrap_line_length,this.indent_empty_lines=r.indent_empty_lines,this.__lines=[],this.previous_line=null,this.current_line=null,this.next_line=new t(this),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1,this.__add_outputline()}return n.prototype.__add_outputline=function(){this.previous_line=this.current_line,this.current_line=this.next_line.clone_empty(),this.__lines.push(this.current_line)},n.prototype.get_line_number=function(){return this.__lines.length},n.prototype.get_indent_string=function(r,i){return this.__indent_cache.get_indent_string(r,i)},n.prototype.get_indent_size=function(r,i){return this.__indent_cache.get_indent_size(r,i)},n.prototype.is_empty=function(){return!this.previous_line&&this.current_line.is_empty()},n.prototype.add_new_line=function(r){return this.is_empty()||!r&&this.just_added_newline()?!1:(this.raw||this.__add_outputline(),!0)},n.prototype.get_code=function(r){this.trim(!0);var i=this.current_line.pop();i&&(i[i.length-1]===`
`&&(i=i.replace(/\n+$/g,"")),this.current_line.push(i)),this._end_with_newline&&this.__add_outputline();var s=this.__lines.join(`
`);return r!==`
`&&(s=s.replace(/[\n]/g,r)),s},n.prototype.set_wrap_point=function(){this.current_line._set_wrap_point()},n.prototype.set_indent=function(r,i){return r=r||0,i=i||0,this.next_line.set_indent(r,i),this.__lines.length>1?(this.current_line.set_indent(r,i),!0):(this.current_line.set_indent(),!1)},n.prototype.add_raw_token=function(r){for(var i=0;i<r.newlines;i++)this.__add_outputline();this.current_line.set_indent(-1),this.current_line.push(r.whitespace_before),this.current_line.push(r.text),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1},n.prototype.add_token=function(r){this.__add_space_before_token(),this.current_line.push(r),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=this.current_line._allow_wrap()},n.prototype.__add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&(this.non_breaking_space||this.set_wrap_point(),this.current_line.push(" "))},n.prototype.remove_indent=function(r){for(var i=this.__lines.length;r<i;)this.__lines[r]._remove_indent(),r++;this.current_line._remove_wrap_indent()},n.prototype.trim=function(r){for(r=r===void 0?!1:r,this.current_line.trim();r&&this.__lines.length>1&&this.current_line.is_empty();)this.__lines.pop(),this.current_line=this.__lines[this.__lines.length-1],this.current_line.trim();this.previous_line=this.__lines.length>1?this.__lines[this.__lines.length-2]:null},n.prototype.just_added_newline=function(){return this.current_line.is_empty()},n.prototype.just_added_blankline=function(){return this.is_empty()||this.current_line.is_empty()&&this.previous_line.is_empty()},n.prototype.ensure_empty_line_above=function(r,i){for(var s=this.__lines.length-2;s>=0;){var o=this.__lines[s];if(o.is_empty())break;if(o.item(0).indexOf(r)!==0&&o.item(-1)!==i){this.__lines.splice(s+1,0,new t(this)),this.previous_line=this.__lines[this.__lines.length-2];break}s--}},Od.Output=n,Od}var Dd={},ew;function dI(){if(ew)return Dd;ew=1;function t(e,n,r,i){this.type=e,this.text=n,this.comments_before=null,this.newlines=r||0,this.whitespace_before=i||"",this.parent=null,this.next=null,this.previous=null,this.opened=null,this.closed=null,this.directives=null}return Dd.Token=t,Dd}var Ld={},tw;function fI(){return tw||(tw=1,function(t){var e="\\x23\\x24\\x40\\x41-\\x5a\\x5f\\x61-\\x7a",n="\\x24\\x30-\\x39\\x41-\\x5a\\x5f\\x61-\\x7a",r="\\xaa\\xb5\\xba\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02c1\\u02c6-\\u02d1\\u02e0-\\u02e4\\u02ec\\u02ee\\u0370-\\u0374\\u0376\\u0377\\u037a-\\u037d\\u0386\\u0388-\\u038a\\u038c\\u038e-\\u03a1\\u03a3-\\u03f5\\u03f7-\\u0481\\u048a-\\u0527\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05d0-\\u05ea\\u05f0-\\u05f2\\u0620-\\u064a\\u066e\\u066f\\u0671-\\u06d3\\u06d5\\u06e5\\u06e6\\u06ee\\u06ef\\u06fa-\\u06fc\\u06ff\\u0710\\u0712-\\u072f\\u074d-\\u07a5\\u07b1\\u07ca-\\u07ea\\u07f4\\u07f5\\u07fa\\u0800-\\u0815\\u081a\\u0824\\u0828\\u0840-\\u0858\\u08a0\\u08a2-\\u08ac\\u0904-\\u0939\\u093d\\u0950\\u0958-\\u0961\\u0971-\\u0977\\u0979-\\u097f\\u0985-\\u098c\\u098f\\u0990\\u0993-\\u09a8\\u09aa-\\u09b0\\u09b2\\u09b6-\\u09b9\\u09bd\\u09ce\\u09dc\\u09dd\\u09df-\\u09e1\\u09f0\\u09f1\\u0a05-\\u0a0a\\u0a0f\\u0a10\\u0a13-\\u0a28\\u0a2a-\\u0a30\\u0a32\\u0a33\\u0a35\\u0a36\\u0a38\\u0a39\\u0a59-\\u0a5c\\u0a5e\\u0a72-\\u0a74\\u0a85-\\u0a8d\\u0a8f-\\u0a91\\u0a93-\\u0aa8\\u0aaa-\\u0ab0\\u0ab2\\u0ab3\\u0ab5-\\u0ab9\\u0abd\\u0ad0\\u0ae0\\u0ae1\\u0b05-\\u0b0c\\u0b0f\\u0b10\\u0b13-\\u0b28\\u0b2a-\\u0b30\\u0b32\\u0b33\\u0b35-\\u0b39\\u0b3d\\u0b5c\\u0b5d\\u0b5f-\\u0b61\\u0b71\\u0b83\\u0b85-\\u0b8a\\u0b8e-\\u0b90\\u0b92-\\u0b95\\u0b99\\u0b9a\\u0b9c\\u0b9e\\u0b9f\\u0ba3\\u0ba4\\u0ba8-\\u0baa\\u0bae-\\u0bb9\\u0bd0\\u0c05-\\u0c0c\\u0c0e-\\u0c10\\u0c12-\\u0c28\\u0c2a-\\u0c33\\u0c35-\\u0c39\\u0c3d\\u0c58\\u0c59\\u0c60\\u0c61\\u0c85-\\u0c8c\\u0c8e-\\u0c90\\u0c92-\\u0ca8\\u0caa-\\u0cb3\\u0cb5-\\u0cb9\\u0cbd\\u0cde\\u0ce0\\u0ce1\\u0cf1\\u0cf2\\u0d05-\\u0d0c\\u0d0e-\\u0d10\\u0d12-\\u0d3a\\u0d3d\\u0d4e\\u0d60\\u0d61\\u0d7a-\\u0d7f\\u0d85-\\u0d96\\u0d9a-\\u0db1\\u0db3-\\u0dbb\\u0dbd\\u0dc0-\\u0dc6\\u0e01-\\u0e30\\u0e32\\u0e33\\u0e40-\\u0e46\\u0e81\\u0e82\\u0e84\\u0e87\\u0e88\\u0e8a\\u0e8d\\u0e94-\\u0e97\\u0e99-\\u0e9f\\u0ea1-\\u0ea3\\u0ea5\\u0ea7\\u0eaa\\u0eab\\u0ead-\\u0eb0\\u0eb2\\u0eb3\\u0ebd\\u0ec0-\\u0ec4\\u0ec6\\u0edc-\\u0edf\\u0f00\\u0f40-\\u0f47\\u0f49-\\u0f6c\\u0f88-\\u0f8c\\u1000-\\u102a\\u103f\\u1050-\\u1055\\u105a-\\u105d\\u1061\\u1065\\u1066\\u106e-\\u1070\\u1075-\\u1081\\u108e\\u10a0-\\u10c5\\u10c7\\u10cd\\u10d0-\\u10fa\\u10fc-\\u1248\\u124a-\\u124d\\u1250-\\u1256\\u1258\\u125a-\\u125d\\u1260-\\u1288\\u128a-\\u128d\\u1290-\\u12b0\\u12b2-\\u12b5\\u12b8-\\u12be\\u12c0\\u12c2-\\u12c5\\u12c8-\\u12d6\\u12d8-\\u1310\\u1312-\\u1315\\u1318-\\u135a\\u1380-\\u138f\\u13a0-\\u13f4\\u1401-\\u166c\\u166f-\\u167f\\u1681-\\u169a\\u16a0-\\u16ea\\u16ee-\\u16f0\\u1700-\\u170c\\u170e-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176c\\u176e-\\u1770\\u1780-\\u17b3\\u17d7\\u17dc\\u1820-\\u1877\\u1880-\\u18a8\\u18aa\\u18b0-\\u18f5\\u1900-\\u191c\\u1950-\\u196d\\u1970-\\u1974\\u1980-\\u19ab\\u19c1-\\u19c7\\u1a00-\\u1a16\\u1a20-\\u1a54\\u1aa7\\u1b05-\\u1b33\\u1b45-\\u1b4b\\u1b83-\\u1ba0\\u1bae\\u1baf\\u1bba-\\u1be5\\u1c00-\\u1c23\\u1c4d-\\u1c4f\\u1c5a-\\u1c7d\\u1ce9-\\u1cec\\u1cee-\\u1cf1\\u1cf5\\u1cf6\\u1d00-\\u1dbf\\u1e00-\\u1f15\\u1f18-\\u1f1d\\u1f20-\\u1f45\\u1f48-\\u1f4d\\u1f50-\\u1f57\\u1f59\\u1f5b\\u1f5d\\u1f5f-\\u1f7d\\u1f80-\\u1fb4\\u1fb6-\\u1fbc\\u1fbe\\u1fc2-\\u1fc4\\u1fc6-\\u1fcc\\u1fd0-\\u1fd3\\u1fd6-\\u1fdb\\u1fe0-\\u1fec\\u1ff2-\\u1ff4\\u1ff6-\\u1ffc\\u2071\\u207f\\u2090-\\u209c\\u2102\\u2107\\u210a-\\u2113\\u2115\\u2119-\\u211d\\u2124\\u2126\\u2128\\u212a-\\u212d\\u212f-\\u2139\\u213c-\\u213f\\u2145-\\u2149\\u214e\\u2160-\\u2188\\u2c00-\\u2c2e\\u2c30-\\u2c5e\\u2c60-\\u2ce4\\u2ceb-\\u2cee\\u2cf2\\u2cf3\\u2d00-\\u2d25\\u2d27\\u2d2d\\u2d30-\\u2d67\\u2d6f\\u2d80-\\u2d96\\u2da0-\\u2da6\\u2da8-\\u2dae\\u2db0-\\u2db6\\u2db8-\\u2dbe\\u2dc0-\\u2dc6\\u2dc8-\\u2dce\\u2dd0-\\u2dd6\\u2dd8-\\u2dde\\u2e2f\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303c\\u3041-\\u3096\\u309d-\\u309f\\u30a1-\\u30fa\\u30fc-\\u30ff\\u3105-\\u312d\\u3131-\\u318e\\u31a0-\\u31ba\\u31f0-\\u31ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\ua000-\\ua48c\\ua4d0-\\ua4fd\\ua500-\\ua60c\\ua610-\\ua61f\\ua62a\\ua62b\\ua640-\\ua66e\\ua67f-\\ua697\\ua6a0-\\ua6ef\\ua717-\\ua71f\\ua722-\\ua788\\ua78b-\\ua78e\\ua790-\\ua793\\ua7a0-\\ua7aa\\ua7f8-\\ua801\\ua803-\\ua805\\ua807-\\ua80a\\ua80c-\\ua822\\ua840-\\ua873\\ua882-\\ua8b3\\ua8f2-\\ua8f7\\ua8fb\\ua90a-\\ua925\\ua930-\\ua946\\ua960-\\ua97c\\ua984-\\ua9b2\\ua9cf\\uaa00-\\uaa28\\uaa40-\\uaa42\\uaa44-\\uaa4b\\uaa60-\\uaa76\\uaa7a\\uaa80-\\uaaaf\\uaab1\\uaab5\\uaab6\\uaab9-\\uaabd\\uaac0\\uaac2\\uaadb-\\uaadd\\uaae0-\\uaaea\\uaaf2-\\uaaf4\\uab01-\\uab06\\uab09-\\uab0e\\uab11-\\uab16\\uab20-\\uab26\\uab28-\\uab2e\\uabc0-\\uabe2\\uac00-\\ud7a3\\ud7b0-\\ud7c6\\ud7cb-\\ud7fb\\uf900-\\ufa6d\\ufa70-\\ufad9\\ufb00-\\ufb06\\ufb13-\\ufb17\\ufb1d\\ufb1f-\\ufb28\\ufb2a-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40\\ufb41\\ufb43\\ufb44\\ufb46-\\ufbb1\\ufbd3-\\ufd3d\\ufd50-\\ufd8f\\ufd92-\\ufdc7\\ufdf0-\\ufdfb\\ufe70-\\ufe74\\ufe76-\\ufefc\\uff21-\\uff3a\\uff41-\\uff5a\\uff66-\\uffbe\\uffc2-\\uffc7\\uffca-\\uffcf\\uffd2-\\uffd7\\uffda-\\uffdc",i="\\u0300-\\u036f\\u0483-\\u0487\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u0620-\\u0649\\u0672-\\u06d3\\u06e7-\\u06e8\\u06fb-\\u06fc\\u0730-\\u074a\\u0800-\\u0814\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0840-\\u0857\\u08e4-\\u08fe\\u0900-\\u0903\\u093a-\\u093c\\u093e-\\u094f\\u0951-\\u0957\\u0962-\\u0963\\u0966-\\u096f\\u0981-\\u0983\\u09bc\\u09be-\\u09c4\\u09c7\\u09c8\\u09d7\\u09df-\\u09e0\\u0a01-\\u0a03\\u0a3c\\u0a3e-\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a66-\\u0a71\\u0a75\\u0a81-\\u0a83\\u0abc\\u0abe-\\u0ac5\\u0ac7-\\u0ac9\\u0acb-\\u0acd\\u0ae2-\\u0ae3\\u0ae6-\\u0aef\\u0b01-\\u0b03\\u0b3c\\u0b3e-\\u0b44\\u0b47\\u0b48\\u0b4b-\\u0b4d\\u0b56\\u0b57\\u0b5f-\\u0b60\\u0b66-\\u0b6f\\u0b82\\u0bbe-\\u0bc2\\u0bc6-\\u0bc8\\u0bca-\\u0bcd\\u0bd7\\u0be6-\\u0bef\\u0c01-\\u0c03\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62-\\u0c63\\u0c66-\\u0c6f\\u0c82\\u0c83\\u0cbc\\u0cbe-\\u0cc4\\u0cc6-\\u0cc8\\u0cca-\\u0ccd\\u0cd5\\u0cd6\\u0ce2-\\u0ce3\\u0ce6-\\u0cef\\u0d02\\u0d03\\u0d46-\\u0d48\\u0d57\\u0d62-\\u0d63\\u0d66-\\u0d6f\\u0d82\\u0d83\\u0dca\\u0dcf-\\u0dd4\\u0dd6\\u0dd8-\\u0ddf\\u0df2\\u0df3\\u0e34-\\u0e3a\\u0e40-\\u0e45\\u0e50-\\u0e59\\u0eb4-\\u0eb9\\u0ec8-\\u0ecd\\u0ed0-\\u0ed9\\u0f18\\u0f19\\u0f20-\\u0f29\\u0f35\\u0f37\\u0f39\\u0f41-\\u0f47\\u0f71-\\u0f84\\u0f86-\\u0f87\\u0f8d-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u1000-\\u1029\\u1040-\\u1049\\u1067-\\u106d\\u1071-\\u1074\\u1082-\\u108d\\u108f-\\u109d\\u135d-\\u135f\\u170e-\\u1710\\u1720-\\u1730\\u1740-\\u1750\\u1772\\u1773\\u1780-\\u17b2\\u17dd\\u17e0-\\u17e9\\u180b-\\u180d\\u1810-\\u1819\\u1920-\\u192b\\u1930-\\u193b\\u1951-\\u196d\\u19b0-\\u19c0\\u19c8-\\u19c9\\u19d0-\\u19d9\\u1a00-\\u1a15\\u1a20-\\u1a53\\u1a60-\\u1a7c\\u1a7f-\\u1a89\\u1a90-\\u1a99\\u1b46-\\u1b4b\\u1b50-\\u1b59\\u1b6b-\\u1b73\\u1bb0-\\u1bb9\\u1be6-\\u1bf3\\u1c00-\\u1c22\\u1c40-\\u1c49\\u1c5b-\\u1c7d\\u1cd0-\\u1cd2\\u1d00-\\u1dbe\\u1e01-\\u1f15\\u200c\\u200d\\u203f\\u2040\\u2054\\u20d0-\\u20dc\\u20e1\\u20e5-\\u20f0\\u2d81-\\u2d96\\u2de0-\\u2dff\\u3021-\\u3028\\u3099\\u309a\\ua640-\\ua66d\\ua674-\\ua67d\\ua69f\\ua6f0-\\ua6f1\\ua7f8-\\ua800\\ua806\\ua80b\\ua823-\\ua827\\ua880-\\ua881\\ua8b4-\\ua8c4\\ua8d0-\\ua8d9\\ua8f3-\\ua8f7\\ua900-\\ua909\\ua926-\\ua92d\\ua930-\\ua945\\ua980-\\ua983\\ua9b3-\\ua9c0\\uaa00-\\uaa27\\uaa40-\\uaa41\\uaa4c-\\uaa4d\\uaa50-\\uaa59\\uaa7b\\uaae0-\\uaae9\\uaaf2-\\uaaf3\\uabc0-\\uabe1\\uabec\\uabed\\uabf0-\\uabf9\\ufb20-\\ufb28\\ufe00-\\ufe0f\\ufe20-\\ufe26\\ufe33\\ufe34\\ufe4d-\\ufe4f\\uff10-\\uff19\\uff3f",s="\\\\u[0-9a-fA-F]{4}|\\\\u\\{[0-9a-fA-F]+\\}",o="(?:"+s+"|["+e+r+"])",a="(?:"+s+"|["+n+r+i+"])*";t.identifier=new RegExp(o+a,"g"),t.identifierStart=new RegExp(o),t.identifierMatch=new RegExp("(?:"+s+"|["+n+r+i+"])+"),t.newline=/[\n\r\u2028\u2029]/,t.lineBreak=new RegExp(`\r
|`+t.newline.source),t.allLineBreaks=new RegExp(t.lineBreak.source,"g")}(Ld)),Ld}var Md={},bo={},nw;function Hm(){if(nw)return bo;nw=1;function t(r,i){this.raw_options=e(r,i),this.disabled=this._get_boolean("disabled"),this.eol=this._get_characters("eol","auto"),this.end_with_newline=this._get_boolean("end_with_newline"),this.indent_size=this._get_number("indent_size",4),this.indent_char=this._get_characters("indent_char"," "),this.indent_level=this._get_number("indent_level"),this.preserve_newlines=this._get_boolean("preserve_newlines",!0),this.max_preserve_newlines=this._get_number("max_preserve_newlines",32786),this.preserve_newlines||(this.max_preserve_newlines=0),this.indent_with_tabs=this._get_boolean("indent_with_tabs",this.indent_char==="	"),this.indent_with_tabs&&(this.indent_char="	",this.indent_size===1&&(this.indent_size=4)),this.wrap_line_length=this._get_number("wrap_line_length",this._get_number("max_char")),this.indent_empty_lines=this._get_boolean("indent_empty_lines"),this.templating=this._get_selection_list("templating",["auto","none","angular","django","erb","handlebars","php","smarty"],["auto"])}t.prototype._get_array=function(r,i){var s=this.raw_options[r],o=i||[];return typeof s=="object"?s!==null&&typeof s.concat=="function"&&(o=s.concat()):typeof s=="string"&&(o=s.split(/[^a-zA-Z0-9_\/\-]+/)),o},t.prototype._get_boolean=function(r,i){var s=this.raw_options[r],o=s===void 0?!!i:!!s;return o},t.prototype._get_characters=function(r,i){var s=this.raw_options[r],o=i||"";return typeof s=="string"&&(o=s.replace(/\\r/,"\r").replace(/\\n/,`
`).replace(/\\t/,"	")),o},t.prototype._get_number=function(r,i){var s=this.raw_options[r];i=parseInt(i,10),isNaN(i)&&(i=0);var o=parseInt(s,10);return isNaN(o)&&(o=i),o},t.prototype._get_selection=function(r,i,s){var o=this._get_selection_list(r,i,s);if(o.length!==1)throw new Error("Invalid Option Value: The option '"+r+`' can only be one of the following values:
`+i+`
You passed in: '`+this.raw_options[r]+"'");return o[0]},t.prototype._get_selection_list=function(r,i,s){if(!i||i.length===0)throw new Error("Selection list cannot be empty.");if(s=s||[i[0]],!this._is_valid_selection(s,i))throw new Error("Invalid Default Value!");var o=this._get_array(r,s);if(!this._is_valid_selection(o,i))throw new Error("Invalid Option Value: The option '"+r+`' can contain only the following values:
`+i+`
You passed in: '`+this.raw_options[r]+"'");return o},t.prototype._is_valid_selection=function(r,i){return r.length&&i.length&&!r.some(function(s){return i.indexOf(s)===-1})};function e(r,i){var s={};r=n(r);var o;for(o in r)o!==i&&(s[o]=r[o]);if(i&&r[i])for(o in r[i])s[o]=r[i][o];return s}function n(r){var i={},s;for(s in r){var o=s.replace(/-/g,"_");i[o]=r[s]}return i}return bo.Options=t,bo.normalizeOpts=n,bo.mergeOpts=e,bo}var rw;function pI(){if(rw)return Md;rw=1;var t=Hm().Options,e=["before-newline","after-newline","preserve-newline"];function n(r){t.call(this,r,"js");var i=this.raw_options.brace_style||null;i==="expand-strict"?this.raw_options.brace_style="expand":i==="collapse-preserve-inline"?this.raw_options.brace_style="collapse,preserve-inline":this.raw_options.braces_on_own_line!==void 0&&(this.raw_options.brace_style=this.raw_options.braces_on_own_line?"expand":"collapse");var s=this._get_selection_list("brace_style",["collapse","expand","end-expand","none","preserve-inline"]);this.brace_preserve_inline=!1,this.brace_style="collapse";for(var o=0;o<s.length;o++)s[o]==="preserve-inline"?this.brace_preserve_inline=!0:this.brace_style=s[o];this.unindent_chained_methods=this._get_boolean("unindent_chained_methods"),this.break_chained_methods=this._get_boolean("break_chained_methods"),this.space_in_paren=this._get_boolean("space_in_paren"),this.space_in_empty_paren=this._get_boolean("space_in_empty_paren"),this.jslint_happy=this._get_boolean("jslint_happy"),this.space_after_anon_function=this._get_boolean("space_after_anon_function"),this.space_after_named_function=this._get_boolean("space_after_named_function"),this.keep_array_indentation=this._get_boolean("keep_array_indentation"),this.space_before_conditional=this._get_boolean("space_before_conditional",!0),this.unescape_strings=this._get_boolean("unescape_strings"),this.e4x=this._get_boolean("e4x"),this.comma_first=this._get_boolean("comma_first"),this.operator_position=this._get_selection("operator_position",e),this.test_output_raw=this._get_boolean("test_output_raw"),this.jslint_happy&&(this.space_after_anon_function=!0)}return n.prototype=new t,Md.Options=n,Md}var Wi={},Fd={},iw;function Km(){if(iw)return Fd;iw=1;var t=RegExp.prototype.hasOwnProperty("sticky");function e(n){this.__input=n||"",this.__input_length=this.__input.length,this.__position=0}return e.prototype.restart=function(){this.__position=0},e.prototype.back=function(){this.__position>0&&(this.__position-=1)},e.prototype.hasNext=function(){return this.__position<this.__input_length},e.prototype.next=function(){var n=null;return this.hasNext()&&(n=this.__input.charAt(this.__position),this.__position+=1),n},e.prototype.peek=function(n){var r=null;return n=n||0,n+=this.__position,n>=0&&n<this.__input_length&&(r=this.__input.charAt(n)),r},e.prototype.__match=function(n,r){n.lastIndex=r;var i=n.exec(this.__input);return i&&!(t&&n.sticky)&&i.index!==r&&(i=null),i},e.prototype.test=function(n,r){return r=r||0,r+=this.__position,r>=0&&r<this.__input_length?!!this.__match(n,r):!1},e.prototype.testChar=function(n,r){var i=this.peek(r);return n.lastIndex=0,i!==null&&n.test(i)},e.prototype.match=function(n){var r=this.__match(n,this.__position);return r?this.__position+=r[0].length:r=null,r},e.prototype.read=function(n,r,i){var s="",o;return n&&(o=this.match(n),o&&(s+=o[0])),r&&(o||!n)&&(s+=this.readUntil(r,i)),s},e.prototype.readUntil=function(n,r){var i="",s=this.__position;n.lastIndex=this.__position;var o=n.exec(this.__input);return o?(s=o.index,r&&(s+=o[0].length)):s=this.__input_length,i=this.__input.substring(this.__position,s),this.__position=s,i},e.prototype.readUntilAfter=function(n){return this.readUntil(n,!0)},e.prototype.get_regexp=function(n,r){var i=null,s="g";return r&&t&&(s="y"),typeof n=="string"&&n!==""?i=new RegExp(n,s):n&&(i=new RegExp(n.source,s)),i},e.prototype.get_literal_regexp=function(n){return RegExp(n.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"))},e.prototype.peekUntilAfter=function(n){var r=this.__position,i=this.readUntilAfter(n);return this.__position=r,i},e.prototype.lookBack=function(n){var r=this.__position-1;return r>=n.length&&this.__input.substring(r-n.length,r).toLowerCase()===n},Fd.InputScanner=e,Fd}var Kl={},Vd={},sw;function vj(){if(sw)return Vd;sw=1;function t(e){this.__tokens=[],this.__tokens_length=this.__tokens.length,this.__position=0,this.__parent_token=e}return t.prototype.restart=function(){this.__position=0},t.prototype.isEmpty=function(){return this.__tokens_length===0},t.prototype.hasNext=function(){return this.__position<this.__tokens_length},t.prototype.next=function(){var e=null;return this.hasNext()&&(e=this.__tokens[this.__position],this.__position+=1),e},t.prototype.peek=function(e){var n=null;return e=e||0,e+=this.__position,e>=0&&e<this.__tokens_length&&(n=this.__tokens[e]),n},t.prototype.add=function(e){this.__parent_token&&(e.parent=this.__parent_token),this.__tokens.push(e),this.__tokens_length+=1},Vd.TokenStream=t,Vd}var jd={},Ud={},ow;function fh(){if(ow)return Ud;ow=1;function t(e,n){this._input=e,this._starting_pattern=null,this._match_pattern=null,this._until_pattern=null,this._until_after=!1,n&&(this._starting_pattern=this._input.get_regexp(n._starting_pattern,!0),this._match_pattern=this._input.get_regexp(n._match_pattern,!0),this._until_pattern=this._input.get_regexp(n._until_pattern),this._until_after=n._until_after)}return t.prototype.read=function(){var e=this._input.read(this._starting_pattern);return(!this._starting_pattern||e)&&(e+=this._input.read(this._match_pattern,this._until_pattern,this._until_after)),e},t.prototype.read_match=function(){return this._input.match(this._match_pattern)},t.prototype.until_after=function(e){var n=this._create();return n._until_after=!0,n._until_pattern=this._input.get_regexp(e),n._update(),n},t.prototype.until=function(e){var n=this._create();return n._until_after=!1,n._until_pattern=this._input.get_regexp(e),n._update(),n},t.prototype.starting_with=function(e){var n=this._create();return n._starting_pattern=this._input.get_regexp(e,!0),n._update(),n},t.prototype.matching=function(e){var n=this._create();return n._match_pattern=this._input.get_regexp(e,!0),n._update(),n},t.prototype._create=function(){return new t(this._input,this)},t.prototype._update=function(){},Ud.Pattern=t,Ud}var aw;function yj(){if(aw)return jd;aw=1;var t=fh().Pattern;function e(n,r){t.call(this,n,r),r?this._line_regexp=this._input.get_regexp(r._line_regexp):this.__set_whitespace_patterns("",""),this.newline_count=0,this.whitespace_before_token=""}return e.prototype=new t,e.prototype.__set_whitespace_patterns=function(n,r){n+="\\t ",r+="\\n\\r",this._match_pattern=this._input.get_regexp("["+n+r+"]+",!0),this._newline_regexp=this._input.get_regexp("\\r\\n|["+r+"]")},e.prototype.read=function(){this.newline_count=0,this.whitespace_before_token="";var n=this._input.read(this._match_pattern);if(n===" ")this.whitespace_before_token=" ";else if(n){var r=this.__split(this._newline_regexp,n);this.newline_count=r.length-1,this.whitespace_before_token=r[this.newline_count]}return n},e.prototype.matching=function(n,r){var i=this._create();return i.__set_whitespace_patterns(n,r),i._update(),i},e.prototype._create=function(){return new e(this._input,this)},e.prototype.__split=function(n,r){n.lastIndex=0;for(var i=0,s=[],o=n.exec(r);o;)s.push(r.substring(i,o.index)),i=o.index+o[0].length,o=n.exec(r);return i<r.length?s.push(r.substring(i,r.length)):s.push(""),s},jd.WhitespacePattern=e,jd}var lw;function mc(){if(lw)return Kl;lw=1;var t=Km().InputScanner,e=dI().Token,n=vj().TokenStream,r=yj().WhitespacePattern,i={START:"TK_START",RAW:"TK_RAW",EOF:"TK_EOF"},s=function(o,a){this._input=new t(o),this._options=a||{},this.__tokens=null,this._patterns={},this._patterns.whitespace=new r(this._input)};return s.prototype.tokenize=function(){this._input.restart(),this.__tokens=new n,this._reset();for(var o,a=new e(i.START,""),l=null,c=[],h=new n;a.type!==i.EOF;){for(o=this._get_next_token(a,l);this._is_comment(o);)h.add(o),o=this._get_next_token(a,l);h.isEmpty()||(o.comments_before=h,h=new n),o.parent=l,this._is_opening(o)?(c.push(l),l=o):l&&this._is_closing(o,l)&&(o.opened=l,l.closed=o,l=c.pop(),o.parent=l),o.previous=a,a.next=o,this.__tokens.add(o),a=o}return this.__tokens},s.prototype._is_first_token=function(){return this.__tokens.isEmpty()},s.prototype._reset=function(){},s.prototype._get_next_token=function(o,a){this._readWhitespace();var l=this._input.read(/.+/g);return l?this._create_token(i.RAW,l):this._create_token(i.EOF,"")},s.prototype._is_comment=function(o){return!1},s.prototype._is_opening=function(o){return!1},s.prototype._is_closing=function(o,a){return!1},s.prototype._create_token=function(o,a){var l=new e(o,a,this._patterns.whitespace.newline_count,this._patterns.whitespace.whitespace_before_token);return l},s.prototype._readWhitespace=function(){return this._patterns.whitespace.read()},Kl.Tokenizer=s,Kl.TOKEN=i,Kl}var $d={},uw;function Gm(){if(uw)return $d;uw=1;function t(e,n){e=typeof e=="string"?e:e.source,n=typeof n=="string"?n:n.source,this.__directives_block_pattern=new RegExp(e+/ beautify( \w+[:]\w+)+ /.source+n,"g"),this.__directive_pattern=/ (\w+)[:](\w+)/g,this.__directives_end_ignore_pattern=new RegExp(e+/\sbeautify\signore:end\s/.source+n,"g")}return t.prototype.get_directives=function(e){if(!e.match(this.__directives_block_pattern))return null;var n={};this.__directive_pattern.lastIndex=0;for(var r=this.__directive_pattern.exec(e);r;)n[r[1]]=r[2],r=this.__directive_pattern.exec(e);return n},t.prototype.readIgnored=function(e){return e.readUntilAfter(this.__directives_end_ignore_pattern)},$d.Directives=t,$d}var Bd={},cw;function _I(){if(cw)return Bd;cw=1;var t=fh().Pattern,e={django:!1,erb:!1,handlebars:!1,php:!1,smarty:!1,angular:!1};function n(r,i){t.call(this,r,i),this.__template_pattern=null,this._disabled=Object.assign({},e),this._excluded=Object.assign({},e),i&&(this.__template_pattern=this._input.get_regexp(i.__template_pattern),this._excluded=Object.assign(this._excluded,i._excluded),this._disabled=Object.assign(this._disabled,i._disabled));var s=new t(r);this.__patterns={handlebars_comment:s.starting_with(/{{!--/).until_after(/--}}/),handlebars_unescaped:s.starting_with(/{{{/).until_after(/}}}/),handlebars:s.starting_with(/{{/).until_after(/}}/),php:s.starting_with(/<\?(?:[= ]|php)/).until_after(/\?>/),erb:s.starting_with(/<%[^%]/).until_after(/[^%]%>/),django:s.starting_with(/{%/).until_after(/%}/),django_value:s.starting_with(/{{/).until_after(/}}/),django_comment:s.starting_with(/{#/).until_after(/#}/),smarty:s.starting_with(/{(?=[^}{\s\n])/).until_after(/[^\s\n]}/),smarty_comment:s.starting_with(/{\*/).until_after(/\*}/),smarty_literal:s.starting_with(/{literal}/).until_after(/{\/literal}/)}}return n.prototype=new t,n.prototype._create=function(){return new n(this._input,this)},n.prototype._update=function(){this.__set_templated_pattern()},n.prototype.disable=function(r){var i=this._create();return i._disabled[r]=!0,i._update(),i},n.prototype.read_options=function(r){var i=this._create();for(var s in e)i._disabled[s]=r.templating.indexOf(s)===-1;return i._update(),i},n.prototype.exclude=function(r){var i=this._create();return i._excluded[r]=!0,i._update(),i},n.prototype.read=function(){var r="";this._match_pattern?r=this._input.read(this._starting_pattern):r=this._input.read(this._starting_pattern,this.__template_pattern);for(var i=this._read_template();i;)this._match_pattern?i+=this._input.read(this._match_pattern):i+=this._input.readUntil(this.__template_pattern),r+=i,i=this._read_template();return this._until_after&&(r+=this._input.readUntilAfter(this._until_pattern)),r},n.prototype.__set_templated_pattern=function(){var r=[];this._disabled.php||r.push(this.__patterns.php._starting_pattern.source),this._disabled.handlebars||r.push(this.__patterns.handlebars._starting_pattern.source),this._disabled.angular||r.push(this.__patterns.handlebars._starting_pattern.source),this._disabled.erb||r.push(this.__patterns.erb._starting_pattern.source),this._disabled.django||(r.push(this.__patterns.django._starting_pattern.source),r.push(this.__patterns.django_value._starting_pattern.source),r.push(this.__patterns.django_comment._starting_pattern.source)),this._disabled.smarty||r.push(this.__patterns.smarty._starting_pattern.source),this._until_pattern&&r.push(this._until_pattern.source),this.__template_pattern=this._input.get_regexp("(?:"+r.join("|")+")")},n.prototype._read_template=function(){var r="",i=this._input.peek();if(i==="<"){var s=this._input.peek(1);!this._disabled.php&&!this._excluded.php&&s==="?"&&(r=r||this.__patterns.php.read()),!this._disabled.erb&&!this._excluded.erb&&s==="%"&&(r=r||this.__patterns.erb.read())}else i==="{"&&(!this._disabled.handlebars&&!this._excluded.handlebars&&(r=r||this.__patterns.handlebars_comment.read(),r=r||this.__patterns.handlebars_unescaped.read(),r=r||this.__patterns.handlebars.read()),this._disabled.django||(!this._excluded.django&&!this._excluded.handlebars&&(r=r||this.__patterns.django_value.read()),this._excluded.django||(r=r||this.__patterns.django_comment.read(),r=r||this.__patterns.django.read())),this._disabled.smarty||this._disabled.django&&this._disabled.handlebars&&(r=r||this.__patterns.smarty_comment.read(),r=r||this.__patterns.smarty_literal.read(),r=r||this.__patterns.smarty.read()));return r},Bd.TemplatablePattern=n,Bd}var hw;function Gl(){if(hw)return Wi;hw=1;var t=Km().InputScanner,e=mc().Tokenizer,n=mc().TOKEN,r=Gm().Directives,i=fI(),s=fh().Pattern,o=_I().TemplatablePattern;function a(P,E){return E.indexOf(P)!==-1}var l={START_EXPR:"TK_START_EXPR",END_EXPR:"TK_END_EXPR",START_BLOCK:"TK_START_BLOCK",END_BLOCK:"TK_END_BLOCK",WORD:"TK_WORD",RESERVED:"TK_RESERVED",SEMICOLON:"TK_SEMICOLON",STRING:"TK_STRING",EQUALS:"TK_EQUALS",OPERATOR:"TK_OPERATOR",COMMA:"TK_COMMA",BLOCK_COMMENT:"TK_BLOCK_COMMENT",COMMENT:"TK_COMMENT",DOT:"TK_DOT",UNKNOWN:"TK_UNKNOWN",START:n.START,RAW:n.RAW,EOF:n.EOF},c=new r(/\/\*/,/\*\//),h=/0[xX][0123456789abcdefABCDEF_]*n?|0[oO][01234567_]*n?|0[bB][01_]*n?|\d[\d_]*n|(?:\.\d[\d_]*|\d[\d_]*\.?[\d_]*)(?:[eE][+-]?[\d_]+)?/,d=/[0-9]/,_=/[^\d\.]/,C=">>> === !== &&= ??= ||= << && >= ** != == <= >> || ?? |> < / - + > : & % ? ^ | *".split(" "),b=">>>= ... >>= <<= === >>> !== **= &&= ??= ||= => ^= :: /= << <= == && -= >= >> != -- += ** || ?? ++ %= &= *= |= |> = ! ? > < : / ^ - + * & % ~ |";b=b.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&"),b="\\?\\.(?!\\d) "+b,b=b.replace(/ /g,"|");var A=new RegExp(b),y="continue,try,throw,return,var,let,const,if,switch,case,default,for,while,break,function,import,export".split(","),p=y.concat(["do","in","of","else","get","set","new","catch","finally","typeof","yield","async","await","from","as","class","extends"]),g=new RegExp("^(?:"+p.join("|")+")$"),w,R=function(P,E){e.call(this,P,E),this._patterns.whitespace=this._patterns.whitespace.matching(/\u00A0\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff/.source,/\u2028\u2029/.source);var v=new s(this._input),I=new o(this._input).read_options(this._options);this.__patterns={template:I,identifier:I.starting_with(i.identifier).matching(i.identifierMatch),number:v.matching(h),punct:v.matching(A),comment:v.starting_with(/\/\//).until(/[\n\r\u2028\u2029]/),block_comment:v.starting_with(/\/\*/).until_after(/\*\//),html_comment_start:v.matching(/<!--/),html_comment_end:v.matching(/-->/),include:v.starting_with(/#include/).until_after(i.lineBreak),shebang:v.starting_with(/#!/).until_after(i.lineBreak),xml:v.matching(/[\s\S]*?<(\/?)([-a-zA-Z:0-9_.]+|{[^}]+?}|!\[CDATA\[[^\]]*?\]\]|)(\s*{[^}]+?}|\s+[-a-zA-Z:0-9_.]+|\s+[-a-zA-Z:0-9_.]+\s*=\s*('[^']*'|"[^"]*"|{([^{}]|{[^}]+?})+?}))*\s*(\/?)\s*>/),single_quote:I.until(/['\\\n\r\u2028\u2029]/),double_quote:I.until(/["\\\n\r\u2028\u2029]/),template_text:I.until(/[`\\$]/),template_expression:I.until(/[`}\\]/)}};R.prototype=new e,R.prototype._is_comment=function(P){return P.type===l.COMMENT||P.type===l.BLOCK_COMMENT||P.type===l.UNKNOWN},R.prototype._is_opening=function(P){return P.type===l.START_BLOCK||P.type===l.START_EXPR},R.prototype._is_closing=function(P,E){return(P.type===l.END_BLOCK||P.type===l.END_EXPR)&&E&&(P.text==="]"&&E.text==="["||P.text===")"&&E.text==="("||P.text==="}"&&E.text==="{")},R.prototype._reset=function(){w=!1},R.prototype._get_next_token=function(P,E){var v=null;this._readWhitespace();var I=this._input.peek();return I===null?this._create_token(l.EOF,""):(v=v||this._read_non_javascript(I),v=v||this._read_string(I),v=v||this._read_pair(I,this._input.peek(1)),v=v||this._read_word(P),v=v||this._read_singles(I),v=v||this._read_comment(I),v=v||this._read_regexp(I,P),v=v||this._read_xml(I,P),v=v||this._read_punctuation(),v=v||this._create_token(l.UNKNOWN,this._input.next()),v)},R.prototype._read_word=function(P){var E;if(E=this.__patterns.identifier.read(),E!=="")return E=E.replace(i.allLineBreaks,`
`),!(P.type===l.DOT||P.type===l.RESERVED&&(P.text==="set"||P.text==="get"))&&g.test(E)?(E==="in"||E==="of")&&(P.type===l.WORD||P.type===l.STRING)?this._create_token(l.OPERATOR,E):this._create_token(l.RESERVED,E):this._create_token(l.WORD,E);if(E=this.__patterns.number.read(),E!=="")return this._create_token(l.WORD,E)},R.prototype._read_singles=function(P){var E=null;return P==="("||P==="["?E=this._create_token(l.START_EXPR,P):P===")"||P==="]"?E=this._create_token(l.END_EXPR,P):P==="{"?E=this._create_token(l.START_BLOCK,P):P==="}"?E=this._create_token(l.END_BLOCK,P):P===";"?E=this._create_token(l.SEMICOLON,P):P==="."&&_.test(this._input.peek(1))?E=this._create_token(l.DOT,P):P===","&&(E=this._create_token(l.COMMA,P)),E&&this._input.next(),E},R.prototype._read_pair=function(P,E){var v=null;return P==="#"&&E==="{"&&(v=this._create_token(l.START_BLOCK,P+E)),v&&(this._input.next(),this._input.next()),v},R.prototype._read_punctuation=function(){var P=this.__patterns.punct.read();if(P!=="")return P==="="?this._create_token(l.EQUALS,P):P==="?."?this._create_token(l.DOT,P):this._create_token(l.OPERATOR,P)},R.prototype._read_non_javascript=function(P){var E="";if(P==="#"){if(this._is_first_token()&&(E=this.__patterns.shebang.read(),E))return this._create_token(l.UNKNOWN,E.trim()+`
`);if(E=this.__patterns.include.read(),E)return this._create_token(l.UNKNOWN,E.trim()+`
`);P=this._input.next();var v="#";if(this._input.hasNext()&&this._input.testChar(d)){do P=this._input.next(),v+=P;while(this._input.hasNext()&&P!=="#"&&P!=="=");return P==="#"||(this._input.peek()==="["&&this._input.peek(1)==="]"?(v+="[]",this._input.next(),this._input.next()):this._input.peek()==="{"&&this._input.peek(1)==="}"&&(v+="{}",this._input.next(),this._input.next())),this._create_token(l.WORD,v)}this._input.back()}else if(P==="<"&&this._is_first_token()){if(E=this.__patterns.html_comment_start.read(),E){for(;this._input.hasNext()&&!this._input.testChar(i.newline);)E+=this._input.next();return w=!0,this._create_token(l.COMMENT,E)}}else if(w&&P==="-"&&(E=this.__patterns.html_comment_end.read(),E))return w=!1,this._create_token(l.COMMENT,E);return null},R.prototype._read_comment=function(P){var E=null;if(P==="/"){var v="";if(this._input.peek(1)==="*"){v=this.__patterns.block_comment.read();var I=c.get_directives(v);I&&I.ignore==="start"&&(v+=c.readIgnored(this._input)),v=v.replace(i.allLineBreaks,`
`),E=this._create_token(l.BLOCK_COMMENT,v),E.directives=I}else this._input.peek(1)==="/"&&(v=this.__patterns.comment.read(),E=this._create_token(l.COMMENT,v))}return E},R.prototype._read_string=function(P){if(P==="`"||P==="'"||P==='"'){var E=this._input.next();return this.has_char_escapes=!1,P==="`"?E+=this._read_string_recursive("`",!0,"${"):E+=this._read_string_recursive(P),this.has_char_escapes&&this._options.unescape_strings&&(E=L(E)),this._input.peek()===P&&(E+=this._input.next()),E=E.replace(i.allLineBreaks,`
`),this._create_token(l.STRING,E)}return null},R.prototype._allow_regexp_or_xml=function(P){return P.type===l.RESERVED&&a(P.text,["return","case","throw","else","do","typeof","yield"])||P.type===l.END_EXPR&&P.text===")"&&P.opened.previous.type===l.RESERVED&&a(P.opened.previous.text,["if","while","for"])||a(P.type,[l.COMMENT,l.START_EXPR,l.START_BLOCK,l.START,l.END_BLOCK,l.OPERATOR,l.EQUALS,l.EOF,l.SEMICOLON,l.COMMA])},R.prototype._read_regexp=function(P,E){if(P==="/"&&this._allow_regexp_or_xml(E)){for(var v=this._input.next(),I=!1,f=!1;this._input.hasNext()&&(I||f||this._input.peek()!==P)&&!this._input.testChar(i.newline);)v+=this._input.peek(),I?I=!1:(I=this._input.peek()==="\\",this._input.peek()==="["?f=!0:this._input.peek()==="]"&&(f=!1)),this._input.next();return this._input.peek()===P&&(v+=this._input.next(),v+=this._input.read(i.identifier)),this._create_token(l.STRING,v)}return null},R.prototype._read_xml=function(P,E){if(this._options.e4x&&P==="<"&&this._allow_regexp_or_xml(E)){var v="",I=this.__patterns.xml.read_match();if(I){for(var f=I[2].replace(/^{\s+/,"{").replace(/\s+}$/,"}"),k=f.indexOf("{")===0,N=0;I;){var D=!!I[1],z=I[2],Y=!!I[I.length-1]||z.slice(0,8)==="![CDATA[";if(!Y&&(z===f||k&&z.replace(/^{\s+/,"{").replace(/\s+}$/,"}"))&&(D?--N:++N),v+=I[0],N<=0)break;I=this.__patterns.xml.read_match()}return I||(v+=this._input.match(/[\s\S]*/g)[0]),v=v.replace(i.allLineBreaks,`
`),this._create_token(l.STRING,v)}}return null};function L(P){for(var E="",v=0,I=new t(P),f=null;I.hasNext();)if(f=I.match(/([\s]|[^\\]|\\\\)+/g),f&&(E+=f[0]),I.peek()==="\\"){if(I.next(),I.peek()==="x")f=I.match(/x([0-9A-Fa-f]{2})/g);else if(I.peek()==="u")f=I.match(/u([0-9A-Fa-f]{4})/g),f||(f=I.match(/u\{([0-9A-Fa-f]+)\}/g));else{E+="\\",I.hasNext()&&(E+=I.next());continue}if(!f||(v=parseInt(f[1],16),v>126&&v<=255&&f[0].indexOf("x")===0))return P;v>=0&&v<32||v>1114111?E+="\\"+f[0]:v===34||v===39||v===92?E+="\\"+String.fromCharCode(v):E+=String.fromCharCode(v)}return E}return R.prototype._read_string_recursive=function(P,E,v){var I,f;P==="'"?f=this.__patterns.single_quote:P==='"'?f=this.__patterns.double_quote:P==="`"?f=this.__patterns.template_text:P==="}"&&(f=this.__patterns.template_expression);for(var k=f.read(),N="";this._input.hasNext();){if(N=this._input.next(),N===P||!E&&i.newline.test(N)){this._input.back();break}else N==="\\"&&this._input.hasNext()?(I=this._input.peek(),I==="x"||I==="u"?this.has_char_escapes=!0:I==="\r"&&this._input.peek(1)===`
`&&this._input.next(),N+=this._input.next()):v&&(v==="${"&&N==="$"&&this._input.peek()==="{"&&(N+=this._input.next()),v===N&&(P==="`"?N+=this._read_string_recursive("}",E,"`"):N+=this._read_string_recursive("`",E,"${"),this._input.hasNext()&&(N+=this._input.next())));N+=f.read(),k+=N}return k},Wi.Tokenizer=R,Wi.TOKEN=l,Wi.positionable_operators=C.slice(),Wi.line_starters=y.slice(),Wi}var dw;function wj(){if(dw)return Nd;dw=1;var t=qm().Output,e=dI().Token,n=fI(),r=pI().Options,i=Gl().Tokenizer,s=Gl().line_starters,o=Gl().positionable_operators,a=Gl().TOKEN;function l(f,k){return k.indexOf(f)!==-1}function c(f){return f.replace(/^\s+/g,"")}function h(f){for(var k={},N=0;N<f.length;N++)k[f[N].replace(/-/g,"_")]=f[N];return k}function d(f,k){return f&&f.type===a.RESERVED&&f.text===k}function _(f,k){return f&&f.type===a.RESERVED&&l(f.text,k)}var C=["case","return","do","if","throw","else","await","break","continue","async"],b=["before-newline","after-newline","preserve-newline"],A=h(b),y=[A.before_newline,A.preserve_newline],p={BlockStatement:"BlockStatement",Statement:"Statement",ObjectLiteral:"ObjectLiteral",ArrayLiteral:"ArrayLiteral",ForInitializer:"ForInitializer",Conditional:"Conditional",Expression:"Expression"};function g(f,k){k.multiline_frame||k.mode===p.ForInitializer||k.mode===p.Conditional||f.remove_indent(k.start_line_index)}function w(f){f=f.replace(n.allLineBreaks,`
`);for(var k=[],N=f.indexOf(`
`);N!==-1;)k.push(f.substring(0,N)),f=f.substring(N+1),N=f.indexOf(`
`);return f.length&&k.push(f),k}function R(f){return f===p.ArrayLiteral}function L(f){return l(f,[p.Expression,p.ForInitializer,p.Conditional])}function P(f,k){for(var N=0;N<f.length;N++){var D=f[N].trim();if(D.charAt(0)!==k)return!1}return!0}function E(f,k){for(var N=0,D=f.length,z;N<D;N++)if(z=f[N],z&&z.indexOf(k)!==0)return!1;return!0}function v(f,k){k=k||{},this._source_text=f||"",this._output=null,this._tokens=null,this._last_last_text=null,this._flags=null,this._previous_flags=null,this._flag_store=null,this._options=new r(k)}v.prototype.create_flags=function(f,k){var N=0;f&&(N=f.indentation_level,!this._output.just_added_newline()&&f.line_indent_level>N&&(N=f.line_indent_level));var D={mode:k,parent:f,last_token:f?f.last_token:new e(a.START_BLOCK,""),last_word:f?f.last_word:"",declaration_statement:!1,declaration_assignment:!1,multiline_frame:!1,inline_frame:!1,if_block:!1,else_block:!1,class_start_block:!1,do_block:!1,do_while:!1,import_block:!1,in_case_statement:!1,in_case:!1,case_body:!1,case_block:!1,indentation_level:N,alignment:0,line_indent_level:f?f.line_indent_level:N,start_line_index:this._output.get_line_number(),ternary_depth:0};return D},v.prototype._reset=function(f){var k=f.match(/^[\t ]*/)[0];this._last_last_text="",this._output=new t(this._options,k),this._output.raw=this._options.test_output_raw,this._flag_store=[],this.set_mode(p.BlockStatement);var N=new i(f,this._options);return this._tokens=N.tokenize(),f},v.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var f,k=this._reset(this._source_text),N=this._options.eol;this._options.eol==="auto"&&(N=`
`,k&&n.lineBreak.test(k||"")&&(N=k.match(n.lineBreak)[0]));for(var D=this._tokens.next();D;)this.handle_token(D),this._last_last_text=this._flags.last_token.text,this._flags.last_token=D,D=this._tokens.next();return f=this._output.get_code(N),f},v.prototype.handle_token=function(f,k){f.type===a.START_EXPR?this.handle_start_expr(f):f.type===a.END_EXPR?this.handle_end_expr(f):f.type===a.START_BLOCK?this.handle_start_block(f):f.type===a.END_BLOCK?this.handle_end_block(f):f.type===a.WORD?this.handle_word(f):f.type===a.RESERVED?this.handle_word(f):f.type===a.SEMICOLON?this.handle_semicolon(f):f.type===a.STRING?this.handle_string(f):f.type===a.EQUALS?this.handle_equals(f):f.type===a.OPERATOR?this.handle_operator(f):f.type===a.COMMA?this.handle_comma(f):f.type===a.BLOCK_COMMENT?this.handle_block_comment(f,k):f.type===a.COMMENT?this.handle_comment(f,k):f.type===a.DOT?this.handle_dot(f):f.type===a.EOF?this.handle_eof(f):f.type===a.UNKNOWN?this.handle_unknown(f,k):this.handle_unknown(f,k)},v.prototype.handle_whitespace_and_comments=function(f,k){var N=f.newlines,D=this._options.keep_array_indentation&&R(this._flags.mode);if(f.comments_before)for(var z=f.comments_before.next();z;)this.handle_whitespace_and_comments(z,k),this.handle_token(z,k),z=f.comments_before.next();if(D)for(var Y=0;Y<N;Y+=1)this.print_newline(Y>0,k);else if(this._options.max_preserve_newlines&&N>this._options.max_preserve_newlines&&(N=this._options.max_preserve_newlines),this._options.preserve_newlines&&N>1){this.print_newline(!1,k);for(var G=1;G<N;G+=1)this.print_newline(!0,k)}};var I=["async","break","continue","return","throw","yield"];return v.prototype.allow_wrap_or_preserved_newline=function(f,k){if(k=k===void 0?!1:k,!this._output.just_added_newline()){var N=this._options.preserve_newlines&&f.newlines||k,D=l(this._flags.last_token.text,o)||l(f.text,o);if(D){var z=l(this._flags.last_token.text,o)&&l(this._options.operator_position,y)||l(f.text,o);N=N&&z}if(N)this.print_newline(!1,!0);else if(this._options.wrap_line_length){if(_(this._flags.last_token,I))return;this._output.set_wrap_point()}}},v.prototype.print_newline=function(f,k){if(!k&&this._flags.last_token.text!==";"&&this._flags.last_token.text!==","&&this._flags.last_token.text!=="="&&(this._flags.last_token.type!==a.OPERATOR||this._flags.last_token.text==="--"||this._flags.last_token.text==="++"))for(var N=this._tokens.peek();this._flags.mode===p.Statement&&!(this._flags.if_block&&d(N,"else"))&&!this._flags.do_block;)this.restore_mode();this._output.add_new_line(f)&&(this._flags.multiline_frame=!0)},v.prototype.print_token_line_indentation=function(f){this._output.just_added_newline()&&(this._options.keep_array_indentation&&f.newlines&&(f.text==="["||R(this._flags.mode))?(this._output.current_line.set_indent(-1),this._output.current_line.push(f.whitespace_before),this._output.space_before_token=!1):this._output.set_indent(this._flags.indentation_level,this._flags.alignment)&&(this._flags.line_indent_level=this._flags.indentation_level))},v.prototype.print_token=function(f){if(this._output.raw){this._output.add_raw_token(f);return}if(this._options.comma_first&&f.previous&&f.previous.type===a.COMMA&&this._output.just_added_newline()&&this._output.previous_line.last()===","){var k=this._output.previous_line.pop();this._output.previous_line.is_empty()&&(this._output.previous_line.push(k),this._output.trim(!0),this._output.current_line.pop(),this._output.trim()),this.print_token_line_indentation(f),this._output.add_token(","),this._output.space_before_token=!0}this.print_token_line_indentation(f),this._output.non_breaking_space=!0,this._output.add_token(f.text),this._output.previous_token_wrapped&&(this._flags.multiline_frame=!0)},v.prototype.indent=function(){this._flags.indentation_level+=1,this._output.set_indent(this._flags.indentation_level,this._flags.alignment)},v.prototype.deindent=function(){this._flags.indentation_level>0&&(!this._flags.parent||this._flags.indentation_level>this._flags.parent.indentation_level)&&(this._flags.indentation_level-=1,this._output.set_indent(this._flags.indentation_level,this._flags.alignment))},v.prototype.set_mode=function(f){this._flags?(this._flag_store.push(this._flags),this._previous_flags=this._flags):this._previous_flags=this.create_flags(null,f),this._flags=this.create_flags(this._previous_flags,f),this._output.set_indent(this._flags.indentation_level,this._flags.alignment)},v.prototype.restore_mode=function(){this._flag_store.length>0&&(this._previous_flags=this._flags,this._flags=this._flag_store.pop(),this._previous_flags.mode===p.Statement&&g(this._output,this._previous_flags),this._output.set_indent(this._flags.indentation_level,this._flags.alignment))},v.prototype.start_of_object_property=function(){return this._flags.parent.mode===p.ObjectLiteral&&this._flags.mode===p.Statement&&(this._flags.last_token.text===":"&&this._flags.ternary_depth===0||_(this._flags.last_token,["get","set"]))},v.prototype.start_of_statement=function(f){var k=!1;return k=k||_(this._flags.last_token,["var","let","const"])&&f.type===a.WORD,k=k||d(this._flags.last_token,"do"),k=k||!(this._flags.parent.mode===p.ObjectLiteral&&this._flags.mode===p.Statement)&&_(this._flags.last_token,I)&&!f.newlines,k=k||d(this._flags.last_token,"else")&&!(d(f,"if")&&!f.comments_before),k=k||this._flags.last_token.type===a.END_EXPR&&(this._previous_flags.mode===p.ForInitializer||this._previous_flags.mode===p.Conditional),k=k||this._flags.last_token.type===a.WORD&&this._flags.mode===p.BlockStatement&&!this._flags.in_case&&!(f.text==="--"||f.text==="++")&&this._last_last_text!=="function"&&f.type!==a.WORD&&f.type!==a.RESERVED,k=k||this._flags.mode===p.ObjectLiteral&&(this._flags.last_token.text===":"&&this._flags.ternary_depth===0||_(this._flags.last_token,["get","set"])),k?(this.set_mode(p.Statement),this.indent(),this.handle_whitespace_and_comments(f,!0),this.start_of_object_property()||this.allow_wrap_or_preserved_newline(f,_(f,["do","for","if","while"])),!0):!1},v.prototype.handle_start_expr=function(f){this.start_of_statement(f)||this.handle_whitespace_and_comments(f);var k=p.Expression;if(f.text==="["){if(this._flags.last_token.type===a.WORD||this._flags.last_token.text===")"){_(this._flags.last_token,s)&&(this._output.space_before_token=!0),this.print_token(f),this.set_mode(k),this.indent(),this._options.space_in_paren&&(this._output.space_before_token=!0);return}k=p.ArrayLiteral,R(this._flags.mode)&&(this._flags.last_token.text==="["||this._flags.last_token.text===","&&(this._last_last_text==="]"||this._last_last_text==="}"))&&(this._options.keep_array_indentation||this.print_newline()),l(this._flags.last_token.type,[a.START_EXPR,a.END_EXPR,a.WORD,a.OPERATOR,a.DOT])||(this._output.space_before_token=!0)}else{if(this._flags.last_token.type===a.RESERVED)this._flags.last_token.text==="for"?(this._output.space_before_token=this._options.space_before_conditional,k=p.ForInitializer):l(this._flags.last_token.text,["if","while","switch"])?(this._output.space_before_token=this._options.space_before_conditional,k=p.Conditional):l(this._flags.last_word,["await","async"])?this._output.space_before_token=!0:this._flags.last_token.text==="import"&&f.whitespace_before===""?this._output.space_before_token=!1:(l(this._flags.last_token.text,s)||this._flags.last_token.text==="catch")&&(this._output.space_before_token=!0);else if(this._flags.last_token.type===a.EQUALS||this._flags.last_token.type===a.OPERATOR)this.start_of_object_property()||this.allow_wrap_or_preserved_newline(f);else if(this._flags.last_token.type===a.WORD){this._output.space_before_token=!1;var N=this._tokens.peek(-3);if(this._options.space_after_named_function&&N){var D=this._tokens.peek(-4);_(N,["async","function"])||N.text==="*"&&_(D,["async","function"])?this._output.space_before_token=!0:this._flags.mode===p.ObjectLiteral?(N.text==="{"||N.text===","||N.text==="*"&&(D.text==="{"||D.text===","))&&(this._output.space_before_token=!0):this._flags.parent&&this._flags.parent.class_start_block&&(this._output.space_before_token=!0)}}else this.allow_wrap_or_preserved_newline(f);(this._flags.last_token.type===a.RESERVED&&(this._flags.last_word==="function"||this._flags.last_word==="typeof")||this._flags.last_token.text==="*"&&(l(this._last_last_text,["function","yield"])||this._flags.mode===p.ObjectLiteral&&l(this._last_last_text,["{",","])))&&(this._output.space_before_token=this._options.space_after_anon_function)}this._flags.last_token.text===";"||this._flags.last_token.type===a.START_BLOCK?this.print_newline():(this._flags.last_token.type===a.END_EXPR||this._flags.last_token.type===a.START_EXPR||this._flags.last_token.type===a.END_BLOCK||this._flags.last_token.text==="."||this._flags.last_token.type===a.COMMA)&&this.allow_wrap_or_preserved_newline(f,f.newlines),this.print_token(f),this.set_mode(k),this._options.space_in_paren&&(this._output.space_before_token=!0),this.indent()},v.prototype.handle_end_expr=function(f){for(;this._flags.mode===p.Statement;)this.restore_mode();this.handle_whitespace_and_comments(f),this._flags.multiline_frame&&this.allow_wrap_or_preserved_newline(f,f.text==="]"&&R(this._flags.mode)&&!this._options.keep_array_indentation),this._options.space_in_paren&&(this._flags.last_token.type===a.START_EXPR&&!this._options.space_in_empty_paren?(this._output.trim(),this._output.space_before_token=!1):this._output.space_before_token=!0),this.deindent(),this.print_token(f),this.restore_mode(),g(this._output,this._previous_flags),this._flags.do_while&&this._previous_flags.mode===p.Conditional&&(this._previous_flags.mode=p.Expression,this._flags.do_block=!1,this._flags.do_while=!1)},v.prototype.handle_start_block=function(f){this.handle_whitespace_and_comments(f);var k=this._tokens.peek(),N=this._tokens.peek(1);this._flags.last_word==="switch"&&this._flags.last_token.type===a.END_EXPR?(this.set_mode(p.BlockStatement),this._flags.in_case_statement=!0):this._flags.case_body?this.set_mode(p.BlockStatement):N&&(l(N.text,[":",","])&&l(k.type,[a.STRING,a.WORD,a.RESERVED])||l(k.text,["get","set","..."])&&l(N.type,[a.WORD,a.RESERVED]))?l(this._last_last_text,["class","interface"])&&!l(N.text,[":",","])?this.set_mode(p.BlockStatement):this.set_mode(p.ObjectLiteral):this._flags.last_token.type===a.OPERATOR&&this._flags.last_token.text==="=>"?this.set_mode(p.BlockStatement):l(this._flags.last_token.type,[a.EQUALS,a.START_EXPR,a.COMMA,a.OPERATOR])||_(this._flags.last_token,["return","throw","import","default"])?this.set_mode(p.ObjectLiteral):this.set_mode(p.BlockStatement),this._flags.last_token&&_(this._flags.last_token.previous,["class","extends"])&&(this._flags.class_start_block=!0);var D=!k.comments_before&&k.text==="}",z=D&&this._flags.last_word==="function"&&this._flags.last_token.type===a.END_EXPR;if(this._options.brace_preserve_inline){var Y=0,G=null;this._flags.inline_frame=!0;do if(Y+=1,G=this._tokens.peek(Y-1),G.newlines){this._flags.inline_frame=!1;break}while(G.type!==a.EOF&&!(G.type===a.END_BLOCK&&G.opened===f))}(this._options.brace_style==="expand"||this._options.brace_style==="none"&&f.newlines)&&!this._flags.inline_frame?this._flags.last_token.type!==a.OPERATOR&&(z||this._flags.last_token.type===a.EQUALS||_(this._flags.last_token,C)&&this._flags.last_token.text!=="else")?this._output.space_before_token=!0:this.print_newline(!1,!0):(R(this._previous_flags.mode)&&(this._flags.last_token.type===a.START_EXPR||this._flags.last_token.type===a.COMMA)&&((this._flags.last_token.type===a.COMMA||this._options.space_in_paren)&&(this._output.space_before_token=!0),(this._flags.last_token.type===a.COMMA||this._flags.last_token.type===a.START_EXPR&&this._flags.inline_frame)&&(this.allow_wrap_or_preserved_newline(f),this._previous_flags.multiline_frame=this._previous_flags.multiline_frame||this._flags.multiline_frame,this._flags.multiline_frame=!1)),this._flags.last_token.type!==a.OPERATOR&&this._flags.last_token.type!==a.START_EXPR&&(l(this._flags.last_token.type,[a.START_BLOCK,a.SEMICOLON])&&!this._flags.inline_frame?this.print_newline():this._output.space_before_token=!0)),this.print_token(f),this.indent(),!D&&!(this._options.brace_preserve_inline&&this._flags.inline_frame)&&this.print_newline()},v.prototype.handle_end_block=function(f){for(this.handle_whitespace_and_comments(f);this._flags.mode===p.Statement;)this.restore_mode();var k=this._flags.last_token.type===a.START_BLOCK;this._flags.inline_frame&&!k?this._output.space_before_token=!0:this._options.brace_style==="expand"?k||this.print_newline():k||(R(this._flags.mode)&&this._options.keep_array_indentation?(this._options.keep_array_indentation=!1,this.print_newline(),this._options.keep_array_indentation=!0):this.print_newline()),this.restore_mode(),this.print_token(f)},v.prototype.handle_word=function(f){if(f.type===a.RESERVED){if(l(f.text,["set","get"])&&this._flags.mode!==p.ObjectLiteral)f.type=a.WORD;else if(f.text==="import"&&l(this._tokens.peek().text,["(","."]))f.type=a.WORD;else if(l(f.text,["as","from"])&&!this._flags.import_block)f.type=a.WORD;else if(this._flags.mode===p.ObjectLiteral){var k=this._tokens.peek();k.text===":"&&(f.type=a.WORD)}}if(this.start_of_statement(f)?_(this._flags.last_token,["var","let","const"])&&f.type===a.WORD&&(this._flags.declaration_statement=!0):f.newlines&&!L(this._flags.mode)&&(this._flags.last_token.type!==a.OPERATOR||this._flags.last_token.text==="--"||this._flags.last_token.text==="++")&&this._flags.last_token.type!==a.EQUALS&&(this._options.preserve_newlines||!_(this._flags.last_token,["var","let","const","set","get"]))?(this.handle_whitespace_and_comments(f),this.print_newline()):this.handle_whitespace_and_comments(f),this._flags.do_block&&!this._flags.do_while)if(d(f,"while")){this._output.space_before_token=!0,this.print_token(f),this._output.space_before_token=!0,this._flags.do_while=!0;return}else this.print_newline(),this._flags.do_block=!1;if(this._flags.if_block)if(!this._flags.else_block&&d(f,"else"))this._flags.else_block=!0;else{for(;this._flags.mode===p.Statement;)this.restore_mode();this._flags.if_block=!1,this._flags.else_block=!1}if(this._flags.in_case_statement&&_(f,["case","default"])){this.print_newline(),!this._flags.case_block&&(this._flags.case_body||this._options.jslint_happy)&&this.deindent(),this._flags.case_body=!1,this.print_token(f),this._flags.in_case=!0;return}if((this._flags.last_token.type===a.COMMA||this._flags.last_token.type===a.START_EXPR||this._flags.last_token.type===a.EQUALS||this._flags.last_token.type===a.OPERATOR)&&!this.start_of_object_property()&&!(l(this._flags.last_token.text,["+","-"])&&this._last_last_text===":"&&this._flags.parent.mode===p.ObjectLiteral)&&this.allow_wrap_or_preserved_newline(f),d(f,"function")){(l(this._flags.last_token.text,["}",";"])||this._output.just_added_newline()&&!(l(this._flags.last_token.text,["(","[","{",":","=",","])||this._flags.last_token.type===a.OPERATOR))&&!this._output.just_added_blankline()&&!f.comments_before&&(this.print_newline(),this.print_newline(!0)),this._flags.last_token.type===a.RESERVED||this._flags.last_token.type===a.WORD?_(this._flags.last_token,["get","set","new","export"])||_(this._flags.last_token,I)?this._output.space_before_token=!0:d(this._flags.last_token,"default")&&this._last_last_text==="export"?this._output.space_before_token=!0:this._flags.last_token.text==="declare"?this._output.space_before_token=!0:this.print_newline():this._flags.last_token.type===a.OPERATOR||this._flags.last_token.text==="="?this._output.space_before_token=!0:!this._flags.multiline_frame&&(L(this._flags.mode)||R(this._flags.mode))||this.print_newline(),this.print_token(f),this._flags.last_word=f.text;return}var N="NONE";if(this._flags.last_token.type===a.END_BLOCK?this._previous_flags.inline_frame?N="SPACE":_(f,["else","catch","finally","from"])?this._options.brace_style==="expand"||this._options.brace_style==="end-expand"||this._options.brace_style==="none"&&f.newlines?N="NEWLINE":(N="SPACE",this._output.space_before_token=!0):N="NEWLINE":this._flags.last_token.type===a.SEMICOLON&&this._flags.mode===p.BlockStatement?N="NEWLINE":this._flags.last_token.type===a.SEMICOLON&&L(this._flags.mode)?N="SPACE":this._flags.last_token.type===a.STRING?N="NEWLINE":this._flags.last_token.type===a.RESERVED||this._flags.last_token.type===a.WORD||this._flags.last_token.text==="*"&&(l(this._last_last_text,["function","yield"])||this._flags.mode===p.ObjectLiteral&&l(this._last_last_text,["{",","]))?N="SPACE":this._flags.last_token.type===a.START_BLOCK?this._flags.inline_frame?N="SPACE":N="NEWLINE":this._flags.last_token.type===a.END_EXPR&&(this._output.space_before_token=!0,N="NEWLINE"),_(f,s)&&this._flags.last_token.text!==")"&&(this._flags.inline_frame||this._flags.last_token.text==="else"||this._flags.last_token.text==="export"?N="SPACE":N="NEWLINE"),_(f,["else","catch","finally"]))if((!(this._flags.last_token.type===a.END_BLOCK&&this._previous_flags.mode===p.BlockStatement)||this._options.brace_style==="expand"||this._options.brace_style==="end-expand"||this._options.brace_style==="none"&&f.newlines)&&!this._flags.inline_frame)this.print_newline();else{this._output.trim(!0);var D=this._output.current_line;D.last()!=="}"&&this.print_newline(),this._output.space_before_token=!0}else N==="NEWLINE"?_(this._flags.last_token,C)?this._output.space_before_token=!0:this._flags.last_token.text==="declare"&&_(f,["var","let","const"])?this._output.space_before_token=!0:this._flags.last_token.type!==a.END_EXPR?(this._flags.last_token.type!==a.START_EXPR||!_(f,["var","let","const"]))&&this._flags.last_token.text!==":"&&(d(f,"if")&&d(f.previous,"else")?this._output.space_before_token=!0:this.print_newline()):_(f,s)&&this._flags.last_token.text!==")"&&this.print_newline():this._flags.multiline_frame&&R(this._flags.mode)&&this._flags.last_token.text===","&&this._last_last_text==="}"?this.print_newline():N==="SPACE"&&(this._output.space_before_token=!0);f.previous&&(f.previous.type===a.WORD||f.previous.type===a.RESERVED)&&(this._output.space_before_token=!0),this.print_token(f),this._flags.last_word=f.text,f.type===a.RESERVED&&(f.text==="do"?this._flags.do_block=!0:f.text==="if"?this._flags.if_block=!0:f.text==="import"?this._flags.import_block=!0:this._flags.import_block&&d(f,"from")&&(this._flags.import_block=!1))},v.prototype.handle_semicolon=function(f){this.start_of_statement(f)?this._output.space_before_token=!1:this.handle_whitespace_and_comments(f);for(var k=this._tokens.peek();this._flags.mode===p.Statement&&!(this._flags.if_block&&d(k,"else"))&&!this._flags.do_block;)this.restore_mode();this._flags.import_block&&(this._flags.import_block=!1),this.print_token(f)},v.prototype.handle_string=function(f){f.text.startsWith("`")&&f.newlines===0&&f.whitespace_before===""&&(f.previous.text===")"||this._flags.last_token.type===a.WORD)||(this.start_of_statement(f)?this._output.space_before_token=!0:(this.handle_whitespace_and_comments(f),this._flags.last_token.type===a.RESERVED||this._flags.last_token.type===a.WORD||this._flags.inline_frame?this._output.space_before_token=!0:this._flags.last_token.type===a.COMMA||this._flags.last_token.type===a.START_EXPR||this._flags.last_token.type===a.EQUALS||this._flags.last_token.type===a.OPERATOR?this.start_of_object_property()||this.allow_wrap_or_preserved_newline(f):f.text.startsWith("`")&&this._flags.last_token.type===a.END_EXPR&&(f.previous.text==="]"||f.previous.text===")")&&f.newlines===0?this._output.space_before_token=!0:this.print_newline())),this.print_token(f)},v.prototype.handle_equals=function(f){this.start_of_statement(f)||this.handle_whitespace_and_comments(f),this._flags.declaration_statement&&(this._flags.declaration_assignment=!0),this._output.space_before_token=!0,this.print_token(f),this._output.space_before_token=!0},v.prototype.handle_comma=function(f){this.handle_whitespace_and_comments(f,!0),this.print_token(f),this._output.space_before_token=!0,this._flags.declaration_statement?(L(this._flags.parent.mode)&&(this._flags.declaration_assignment=!1),this._flags.declaration_assignment?(this._flags.declaration_assignment=!1,this.print_newline(!1,!0)):this._options.comma_first&&this.allow_wrap_or_preserved_newline(f)):this._flags.mode===p.ObjectLiteral||this._flags.mode===p.Statement&&this._flags.parent.mode===p.ObjectLiteral?(this._flags.mode===p.Statement&&this.restore_mode(),this._flags.inline_frame||this.print_newline()):this._options.comma_first&&this.allow_wrap_or_preserved_newline(f)},v.prototype.handle_operator=function(f){var k=f.text==="*"&&(_(this._flags.last_token,["function","yield"])||l(this._flags.last_token.type,[a.START_BLOCK,a.COMMA,a.END_BLOCK,a.SEMICOLON])),N=l(f.text,["-","+"])&&(l(this._flags.last_token.type,[a.START_BLOCK,a.START_EXPR,a.EQUALS,a.OPERATOR])||l(this._flags.last_token.text,s)||this._flags.last_token.text===",");if(!this.start_of_statement(f)){var D=!k;this.handle_whitespace_and_comments(f,D)}if(f.text==="*"&&this._flags.last_token.type===a.DOT){this.print_token(f);return}if(f.text==="::"){this.print_token(f);return}if(l(f.text,["-","+"])&&this.start_of_object_property()){this.print_token(f);return}if(this._flags.last_token.type===a.OPERATOR&&l(this._options.operator_position,y)&&this.allow_wrap_or_preserved_newline(f),f.text===":"&&this._flags.in_case){this.print_token(f),this._flags.in_case=!1,this._flags.case_body=!0,this._tokens.peek().type!==a.START_BLOCK?(this.indent(),this.print_newline(),this._flags.case_block=!1):(this._flags.case_block=!0,this._output.space_before_token=!0);return}var z=!0,Y=!0,G=!1;if(f.text===":"?this._flags.ternary_depth===0?z=!1:(this._flags.ternary_depth-=1,G=!0):f.text==="?"&&(this._flags.ternary_depth+=1),!N&&!k&&this._options.preserve_newlines&&l(f.text,o)){var Z=f.text===":",M=Z&&G,j=Z&&!G;switch(this._options.operator_position){case A.before_newline:this._output.space_before_token=!j,this.print_token(f),(!Z||M)&&this.allow_wrap_or_preserved_newline(f),this._output.space_before_token=!0;return;case A.after_newline:this._output.space_before_token=!0,!Z||M?this._tokens.peek().newlines?this.print_newline(!1,!0):this.allow_wrap_or_preserved_newline(f):this._output.space_before_token=!1,this.print_token(f),this._output.space_before_token=!0;return;case A.preserve_newline:j||this.allow_wrap_or_preserved_newline(f),z=!(this._output.just_added_newline()||j),this._output.space_before_token=z,this.print_token(f),this._output.space_before_token=!0;return}}if(k){this.allow_wrap_or_preserved_newline(f),z=!1;var q=this._tokens.peek();Y=q&&l(q.type,[a.WORD,a.RESERVED])}else if(f.text==="...")this.allow_wrap_or_preserved_newline(f),z=this._flags.last_token.type===a.START_BLOCK,Y=!1;else if(l(f.text,["--","++","!","~"])||N){if((this._flags.last_token.type===a.COMMA||this._flags.last_token.type===a.START_EXPR)&&this.allow_wrap_or_preserved_newline(f),z=!1,Y=!1,f.newlines&&(f.text==="--"||f.text==="++"||f.text==="~")){var ee=_(this._flags.last_token,C)&&f.newlines;ee&&(this._previous_flags.if_block||this._previous_flags.else_block)&&this.restore_mode(),this.print_newline(ee,!0)}this._flags.last_token.text===";"&&L(this._flags.mode)&&(z=!0),this._flags.last_token.type===a.RESERVED?z=!0:this._flags.last_token.type===a.END_EXPR?z=!(this._flags.last_token.text==="]"&&(f.text==="--"||f.text==="++")):this._flags.last_token.type===a.OPERATOR&&(z=l(f.text,["--","-","++","+"])&&l(this._flags.last_token.text,["--","-","++","+"]),l(f.text,["+","-"])&&l(this._flags.last_token.text,["--","++"])&&(Y=!0)),(this._flags.mode===p.BlockStatement&&!this._flags.inline_frame||this._flags.mode===p.Statement)&&(this._flags.last_token.text==="{"||this._flags.last_token.text===";")&&this.print_newline()}this._output.space_before_token=this._output.space_before_token||z,this.print_token(f),this._output.space_before_token=Y},v.prototype.handle_block_comment=function(f,k){if(this._output.raw){this._output.add_raw_token(f),f.directives&&f.directives.preserve==="end"&&(this._output.raw=this._options.test_output_raw);return}if(f.directives){this.print_newline(!1,k),this.print_token(f),f.directives.preserve==="start"&&(this._output.raw=!0),this.print_newline(!1,!0);return}if(!n.newline.test(f.text)&&!f.newlines){this._output.space_before_token=!0,this.print_token(f),this._output.space_before_token=!0;return}else this.print_block_commment(f,k)},v.prototype.print_block_commment=function(f,k){var N=w(f.text),D,z=!1,Y=!1,G=f.whitespace_before,Z=G.length;if(this.print_newline(!1,k),this.print_token_line_indentation(f),this._output.add_token(N[0]),this.print_newline(!1,k),N.length>1){for(N=N.slice(1),z=P(N,"*"),Y=E(N,G),z&&(this._flags.alignment=1),D=0;D<N.length;D++)z?(this.print_token_line_indentation(f),this._output.add_token(c(N[D]))):Y&&N[D]?(this.print_token_line_indentation(f),this._output.add_token(N[D].substring(Z))):(this._output.current_line.set_indent(-1),this._output.add_token(N[D])),this.print_newline(!1,k);this._flags.alignment=0}},v.prototype.handle_comment=function(f,k){f.newlines?this.print_newline(!1,k):this._output.trim(!0),this._output.space_before_token=!0,this.print_token(f),this.print_newline(!1,k)},v.prototype.handle_dot=function(f){this.start_of_statement(f)||this.handle_whitespace_and_comments(f,!0),this._flags.last_token.text.match("^[0-9]+$")&&(this._output.space_before_token=!0),_(this._flags.last_token,C)?this._output.space_before_token=!1:this.allow_wrap_or_preserved_newline(f,this._flags.last_token.text===")"&&this._options.break_chained_methods),this._options.unindent_chained_methods&&this._output.just_added_newline()&&this.deindent(),this.print_token(f)},v.prototype.handle_unknown=function(f,k){this.print_token(f),f.text[f.text.length-1]===`
`&&this.print_newline(!1,k)},v.prototype.handle_eof=function(f){for(;this._flags.mode===p.Statement;)this.restore_mode();this.handle_whitespace_and_comments(f)},Nd.Beautifier=v,Nd}var fw;function Ej(){if(fw)return Hl.exports;fw=1;var t=wj().Beautifier,e=pI().Options;function n(r,i){var s=new t(r,i);return s.beautify()}return Hl.exports=n,Hl.exports.defaultOptions=function(){return new e},Hl.exports}var Ql={exports:{}},zd={},Wd={},pw;function mI(){if(pw)return Wd;pw=1;var t=Hm().Options;function e(n){t.call(this,n,"css"),this.selector_separator_newline=this._get_boolean("selector_separator_newline",!0),this.newline_between_rules=this._get_boolean("newline_between_rules",!0);var r=this._get_boolean("space_around_selector_separator");this.space_around_combinator=this._get_boolean("space_around_combinator")||r;var i=this._get_selection_list("brace_style",["collapse","expand","end-expand","none","preserve-inline"]);this.brace_style="collapse";for(var s=0;s<i.length;s++)i[s]!=="expand"?this.brace_style="collapse":this.brace_style=i[s]}return e.prototype=new t,Wd.Options=e,Wd}var _w;function Tj(){if(_w)return zd;_w=1;var t=mI().Options,e=qm().Output,n=Km().InputScanner,r=Gm().Directives,i=new r(/\/\*/,/\*\//),s=/\r\n|[\r\n]/,o=/\r\n|[\r\n]/g,a=/\s/,l=/(?:\s|\n)+/g,c=/\/\*(?:[\s\S]*?)((?:\*\/)|$)/g,h=/\/\/(?:[^\n\r\u2028\u2029]*)/g;function d(_,C){this._source_text=_||"",this._options=new t(C),this._ch=null,this._input=null,this.NESTED_AT_RULE={page:!0,"font-face":!0,keyframes:!0,media:!0,supports:!0,document:!0},this.CONDITIONAL_GROUP_RULE={media:!0,supports:!0,document:!0},this.NON_SEMICOLON_NEWLINE_PROPERTY=["grid-template-areas","grid-template"]}return d.prototype.eatString=function(_){var C="";for(this._ch=this._input.next();this._ch;){if(C+=this._ch,this._ch==="\\")C+=this._input.next();else if(_.indexOf(this._ch)!==-1||this._ch===`
`)break;this._ch=this._input.next()}return C},d.prototype.eatWhitespace=function(_){for(var C=a.test(this._input.peek()),b=0;a.test(this._input.peek());)this._ch=this._input.next(),_&&this._ch===`
`&&(b===0||b<this._options.max_preserve_newlines)&&(b++,this._output.add_new_line(!0));return C},d.prototype.foundNestedPseudoClass=function(){for(var _=0,C=1,b=this._input.peek(C);b;){if(b==="{")return!0;if(b==="(")_+=1;else if(b===")"){if(_===0)return!1;_-=1}else if(b===";"||b==="}")return!1;C++,b=this._input.peek(C)}return!1},d.prototype.print_string=function(_){this._output.set_indent(this._indentLevel),this._output.non_breaking_space=!0,this._output.add_token(_)},d.prototype.preserveSingleSpace=function(_){_&&(this._output.space_before_token=!0)},d.prototype.indent=function(){this._indentLevel++},d.prototype.outdent=function(){this._indentLevel>0&&this._indentLevel--},d.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var _=this._source_text,C=this._options.eol;C==="auto"&&(C=`
`,_&&s.test(_||"")&&(C=_.match(s)[0])),_=_.replace(o,`
`);var b=_.match(/^[\t ]*/)[0];this._output=new e(this._options,b),this._input=new n(_),this._indentLevel=0,this._nestedLevel=0,this._ch=null;for(var A=0,y=!1,p=!1,g=!1,w=!1,R=!1,L=this._ch,P=!1,E,v,I;E=this._input.read(l),v=E!=="",I=L,this._ch=this._input.next(),this._ch==="\\"&&this._input.hasNext()&&(this._ch+=this._input.next()),L=this._ch,this._ch;)if(this._ch==="/"&&this._input.peek()==="*"){this._output.add_new_line(),this._input.back();var f=this._input.read(c),k=i.get_directives(f);k&&k.ignore==="start"&&(f+=i.readIgnored(this._input)),this.print_string(f),this.eatWhitespace(!0),this._output.add_new_line()}else if(this._ch==="/"&&this._input.peek()==="/")this._output.space_before_token=!0,this._input.back(),this.print_string(this._input.read(h)),this.eatWhitespace(!0);else if(this._ch==="$"){this.preserveSingleSpace(v),this.print_string(this._ch);var N=this._input.peekUntilAfter(/[: ,;{}()[\]\/='"]/g);N.match(/[ :]$/)&&(N=this.eatString(": ").replace(/\s+$/,""),this.print_string(N),this._output.space_before_token=!0),A===0&&N.indexOf(":")!==-1&&(p=!0,this.indent())}else if(this._ch==="@")if(this.preserveSingleSpace(v),this._input.peek()==="{")this.print_string(this._ch+this.eatString("}"));else{this.print_string(this._ch);var D=this._input.peekUntilAfter(/[: ,;{}()[\]\/='"]/g);D.match(/[ :]$/)&&(D=this.eatString(": ").replace(/\s+$/,""),this.print_string(D),this._output.space_before_token=!0),A===0&&D.indexOf(":")!==-1?(p=!0,this.indent()):D in this.NESTED_AT_RULE?(this._nestedLevel+=1,D in this.CONDITIONAL_GROUP_RULE&&(g=!0)):A===0&&!p&&(w=!0)}else if(this._ch==="#"&&this._input.peek()==="{")this.preserveSingleSpace(v),this.print_string(this._ch+this.eatString("}"));else if(this._ch==="{")p&&(p=!1,this.outdent()),w=!1,g?(g=!1,y=this._indentLevel>=this._nestedLevel):y=this._indentLevel>=this._nestedLevel-1,this._options.newline_between_rules&&y&&this._output.previous_line&&this._output.previous_line.item(-1)!=="{"&&this._output.ensure_empty_line_above("/",","),this._output.space_before_token=!0,this._options.brace_style==="expand"?(this._output.add_new_line(),this.print_string(this._ch),this.indent(),this._output.set_indent(this._indentLevel)):(I==="("?this._output.space_before_token=!1:I!==","&&this.indent(),this.print_string(this._ch)),this.eatWhitespace(!0),this._output.add_new_line();else if(this._ch==="}")this.outdent(),this._output.add_new_line(),I==="{"&&this._output.trim(!0),p&&(this.outdent(),p=!1),this.print_string(this._ch),y=!1,this._nestedLevel&&this._nestedLevel--,this.eatWhitespace(!0),this._output.add_new_line(),this._options.newline_between_rules&&!this._output.just_added_blankline()&&this._input.peek()!=="}"&&this._output.add_new_line(!0),this._input.peek()===")"&&(this._output.trim(!0),this._options.brace_style==="expand"&&this._output.add_new_line(!0));else if(this._ch===":"){for(var z=0;z<this.NON_SEMICOLON_NEWLINE_PROPERTY.length;z++)if(this._input.lookBack(this.NON_SEMICOLON_NEWLINE_PROPERTY[z])){P=!0;break}(y||g)&&!(this._input.lookBack("&")||this.foundNestedPseudoClass())&&!this._input.lookBack("(")&&!w&&A===0?(this.print_string(":"),p||(p=!0,this._output.space_before_token=!0,this.eatWhitespace(!0),this.indent())):(this._input.lookBack(" ")&&(this._output.space_before_token=!0),this._input.peek()===":"?(this._ch=this._input.next(),this.print_string("::")):this.print_string(":"))}else if(this._ch==='"'||this._ch==="'"){var Y=I==='"'||I==="'";this.preserveSingleSpace(Y||v),this.print_string(this._ch+this.eatString(this._ch)),this.eatWhitespace(!0)}else if(this._ch===";")P=!1,A===0?(p&&(this.outdent(),p=!1),w=!1,this.print_string(this._ch),this.eatWhitespace(!0),this._input.peek()!=="/"&&this._output.add_new_line()):(this.print_string(this._ch),this.eatWhitespace(!0),this._output.space_before_token=!0);else if(this._ch==="(")if(this._input.lookBack("url"))this.print_string(this._ch),this.eatWhitespace(),A++,this.indent(),this._ch=this._input.next(),this._ch===")"||this._ch==='"'||this._ch==="'"?this._input.back():this._ch&&(this.print_string(this._ch+this.eatString(")")),A&&(A--,this.outdent()));else{var G=!1;this._input.lookBack("with")&&(G=!0),this.preserveSingleSpace(v||G),this.print_string(this._ch),p&&I==="$"&&this._options.selector_separator_newline?(this._output.add_new_line(),R=!0):(this.eatWhitespace(),A++,this.indent())}else if(this._ch===")")A&&(A--,this.outdent()),R&&this._input.peek()===";"&&this._options.selector_separator_newline&&(R=!1,this.outdent(),this._output.add_new_line()),this.print_string(this._ch);else if(this._ch===",")this.print_string(this._ch),this.eatWhitespace(!0),this._options.selector_separator_newline&&(!p||R)&&A===0&&!w?this._output.add_new_line():this._output.space_before_token=!0;else if((this._ch===">"||this._ch==="+"||this._ch==="~")&&!p&&A===0)this._options.space_around_combinator?(this._output.space_before_token=!0,this.print_string(this._ch),this._output.space_before_token=!0):(this.print_string(this._ch),this.eatWhitespace(),this._ch&&a.test(this._ch)&&(this._ch=""));else if(this._ch==="]")this.print_string(this._ch);else if(this._ch==="[")this.preserveSingleSpace(v),this.print_string(this._ch);else if(this._ch==="=")this.eatWhitespace(),this.print_string("="),a.test(this._ch)&&(this._ch="");else if(this._ch==="!"&&!this._input.lookBack("\\"))this._output.space_before_token=!0,this.print_string(this._ch);else{var Z=I==='"'||I==="'";this.preserveSingleSpace(Z||v),this.print_string(this._ch),!this._output.just_added_newline()&&this._input.peek()===`
`&&P&&this._output.add_new_line()}var M=this._output.get_code(C);return M},zd.Beautifier=d,zd}var mw;function Sj(){if(mw)return Ql.exports;mw=1;var t=Tj().Beautifier,e=mI().Options;function n(r,i){var s=new t(r,i);return s.beautify()}return Ql.exports=n,Ql.exports.defaultOptions=function(){return new e},Ql.exports}var Xl={exports:{}},qd={},Hd={},gw;function gI(){if(gw)return Hd;gw=1;var t=Hm().Options;function e(n){t.call(this,n,"html"),this.templating.length===1&&this.templating[0]==="auto"&&(this.templating=["django","erb","handlebars","php"]),this.indent_inner_html=this._get_boolean("indent_inner_html"),this.indent_body_inner_html=this._get_boolean("indent_body_inner_html",!0),this.indent_head_inner_html=this._get_boolean("indent_head_inner_html",!0),this.indent_handlebars=this._get_boolean("indent_handlebars",!0),this.wrap_attributes=this._get_selection("wrap_attributes",["auto","force","force-aligned","force-expand-multiline","aligned-multiple","preserve","preserve-aligned"]),this.wrap_attributes_min_attrs=this._get_number("wrap_attributes_min_attrs",2),this.wrap_attributes_indent_size=this._get_number("wrap_attributes_indent_size",this.indent_size),this.extra_liners=this._get_array("extra_liners",["head","body","/html"]),this.inline=this._get_array("inline",["a","abbr","area","audio","b","bdi","bdo","br","button","canvas","cite","code","data","datalist","del","dfn","em","embed","i","iframe","img","input","ins","kbd","keygen","label","map","mark","math","meter","noscript","object","output","progress","q","ruby","s","samp","select","small","span","strong","sub","sup","svg","template","textarea","time","u","var","video","wbr","text","acronym","big","strike","tt"]),this.inline_custom_elements=this._get_boolean("inline_custom_elements",!0),this.void_elements=this._get_array("void_elements",["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr","!doctype","?xml","basefont","isindex"]),this.unformatted=this._get_array("unformatted",[]),this.content_unformatted=this._get_array("content_unformatted",["pre","textarea"]),this.unformatted_content_delimiter=this._get_characters("unformatted_content_delimiter"),this.indent_scripts=this._get_selection("indent_scripts",["normal","keep","separate"])}return e.prototype=new t,Hd.Options=e,Hd}var Yl={},vw;function yw(){if(vw)return Yl;vw=1;var t=mc().Tokenizer,e=mc().TOKEN,n=Gm().Directives,r=_I().TemplatablePattern,i=fh().Pattern,s={TAG_OPEN:"TK_TAG_OPEN",TAG_CLOSE:"TK_TAG_CLOSE",CONTROL_FLOW_OPEN:"TK_CONTROL_FLOW_OPEN",CONTROL_FLOW_CLOSE:"TK_CONTROL_FLOW_CLOSE",ATTRIBUTE:"TK_ATTRIBUTE",EQUALS:"TK_EQUALS",VALUE:"TK_VALUE",COMMENT:"TK_COMMENT",TEXT:"TK_TEXT",UNKNOWN:"TK_UNKNOWN",START:e.START,RAW:e.RAW,EOF:e.EOF},o=new n(/<\!--/,/-->/),a=function(l,c){t.call(this,l,c),this._current_tag_name="";var h=new r(this._input).read_options(this._options),d=new i(this._input);if(this.__patterns={word:h.until(/[\n\r\t <]/),word_control_flow_close_excluded:h.until(/[\n\r\t <}]/),single_quote:h.until_after(/'/),double_quote:h.until_after(/"/),attribute:h.until(/[\n\r\t =>]|\/>/),element_name:h.until(/[\n\r\t >\/]/),angular_control_flow_start:d.matching(/\@[a-zA-Z]+[^({]*[({]/),handlebars_comment:d.starting_with(/{{!--/).until_after(/--}}/),handlebars:d.starting_with(/{{/).until_after(/}}/),handlebars_open:d.until(/[\n\r\t }]/),handlebars_raw_close:d.until(/}}/),comment:d.starting_with(/<!--/).until_after(/-->/),cdata:d.starting_with(/<!\[CDATA\[/).until_after(/]]>/),conditional_comment:d.starting_with(/<!\[/).until_after(/]>/),processing:d.starting_with(/<\?/).until_after(/\?>/)},this._options.indent_handlebars&&(this.__patterns.word=this.__patterns.word.exclude("handlebars"),this.__patterns.word_control_flow_close_excluded=this.__patterns.word_control_flow_close_excluded.exclude("handlebars")),this._unformatted_content_delimiter=null,this._options.unformatted_content_delimiter){var _=this._input.get_literal_regexp(this._options.unformatted_content_delimiter);this.__patterns.unformatted_content_delimiter=d.matching(_).until_after(_)}};return a.prototype=new t,a.prototype._is_comment=function(l){return!1},a.prototype._is_opening=function(l){return l.type===s.TAG_OPEN||l.type===s.CONTROL_FLOW_OPEN},a.prototype._is_closing=function(l,c){return l.type===s.TAG_CLOSE&&c&&((l.text===">"||l.text==="/>")&&c.text[0]==="<"||l.text==="}}"&&c.text[0]==="{"&&c.text[1]==="{")||l.type===s.CONTROL_FLOW_CLOSE&&l.text==="}"&&c.text.endsWith("{")},a.prototype._reset=function(){this._current_tag_name=""},a.prototype._get_next_token=function(l,c){var h=null;this._readWhitespace();var d=this._input.peek();return d===null?this._create_token(s.EOF,""):(h=h||this._read_open_handlebars(d,c),h=h||this._read_attribute(d,l,c),h=h||this._read_close(d,c),h=h||this._read_script_and_style(d,l),h=h||this._read_control_flows(d,c),h=h||this._read_raw_content(d,l,c),h=h||this._read_content_word(d,c),h=h||this._read_comment_or_cdata(d),h=h||this._read_processing(d),h=h||this._read_open(d,c),h=h||this._create_token(s.UNKNOWN,this._input.next()),h)},a.prototype._read_comment_or_cdata=function(l){var c=null,h=null,d=null;if(l==="<"){var _=this._input.peek(1);_==="!"&&(h=this.__patterns.comment.read(),h?(d=o.get_directives(h),d&&d.ignore==="start"&&(h+=o.readIgnored(this._input))):h=this.__patterns.cdata.read()),h&&(c=this._create_token(s.COMMENT,h),c.directives=d)}return c},a.prototype._read_processing=function(l){var c=null,h=null,d=null;if(l==="<"){var _=this._input.peek(1);(_==="!"||_==="?")&&(h=this.__patterns.conditional_comment.read(),h=h||this.__patterns.processing.read()),h&&(c=this._create_token(s.COMMENT,h),c.directives=d)}return c},a.prototype._read_open=function(l,c){var h=null,d=null;return(!c||c.type===s.CONTROL_FLOW_OPEN)&&l==="<"&&(h=this._input.next(),this._input.peek()==="/"&&(h+=this._input.next()),h+=this.__patterns.element_name.read(),d=this._create_token(s.TAG_OPEN,h)),d},a.prototype._read_open_handlebars=function(l,c){var h=null,d=null;return(!c||c.type===s.CONTROL_FLOW_OPEN)&&(this._options.templating.includes("angular")||this._options.indent_handlebars)&&l==="{"&&this._input.peek(1)==="{"&&(this._options.indent_handlebars&&this._input.peek(2)==="!"?(h=this.__patterns.handlebars_comment.read(),h=h||this.__patterns.handlebars.read(),d=this._create_token(s.COMMENT,h)):(h=this.__patterns.handlebars_open.read(),d=this._create_token(s.TAG_OPEN,h))),d},a.prototype._read_control_flows=function(l,c){var h="",d=null;if(!this._options.templating.includes("angular"))return d;if(l==="@"){if(h=this.__patterns.angular_control_flow_start.read(),h==="")return d;for(var _=h.endsWith("(")?1:0,C=0;!(h.endsWith("{")&&_===C);){var b=this._input.next();if(b===null)break;b==="("?_++:b===")"&&C++,h+=b}d=this._create_token(s.CONTROL_FLOW_OPEN,h)}else l==="}"&&c&&c.type===s.CONTROL_FLOW_OPEN&&(h=this._input.next(),d=this._create_token(s.CONTROL_FLOW_CLOSE,h));return d},a.prototype._read_close=function(l,c){var h=null,d=null;return c&&c.type===s.TAG_OPEN&&(c.text[0]==="<"&&(l===">"||l==="/"&&this._input.peek(1)===">")?(h=this._input.next(),l==="/"&&(h+=this._input.next()),d=this._create_token(s.TAG_CLOSE,h)):c.text[0]==="{"&&l==="}"&&this._input.peek(1)==="}"&&(this._input.next(),this._input.next(),d=this._create_token(s.TAG_CLOSE,"}}"))),d},a.prototype._read_attribute=function(l,c,h){var d=null,_="";if(h&&h.text[0]==="<")if(l==="=")d=this._create_token(s.EQUALS,this._input.next());else if(l==='"'||l==="'"){var C=this._input.next();l==='"'?C+=this.__patterns.double_quote.read():C+=this.__patterns.single_quote.read(),d=this._create_token(s.VALUE,C)}else _=this.__patterns.attribute.read(),_&&(c.type===s.EQUALS?d=this._create_token(s.VALUE,_):d=this._create_token(s.ATTRIBUTE,_));return d},a.prototype._is_content_unformatted=function(l){return this._options.void_elements.indexOf(l)===-1&&(this._options.content_unformatted.indexOf(l)!==-1||this._options.unformatted.indexOf(l)!==-1)},a.prototype._read_raw_content=function(l,c,h){var d="";if(h&&h.text[0]==="{")d=this.__patterns.handlebars_raw_close.read();else if(c.type===s.TAG_CLOSE&&c.opened.text[0]==="<"&&c.text[0]!=="/"){var _=c.opened.text.substr(1).toLowerCase();this._is_content_unformatted(_)&&(d=this._input.readUntil(new RegExp("</"+_+"[\\n\\r\\t ]*?>","ig")))}return d?this._create_token(s.TEXT,d):null},a.prototype._read_script_and_style=function(l,c){if(c.type===s.TAG_CLOSE&&c.opened.text[0]==="<"&&c.text[0]!=="/"){var h=c.opened.text.substr(1).toLowerCase();if(h==="script"||h==="style"){var d=this._read_comment_or_cdata(l);if(d)return d.type=s.TEXT,d;var _=this._input.readUntil(new RegExp("</"+h+"[\\n\\r\\t ]*?>","ig"));if(_)return this._create_token(s.TEXT,_)}}return null},a.prototype._read_content_word=function(l,c){var h="";return this._options.unformatted_content_delimiter&&l===this._options.unformatted_content_delimiter[0]&&(h=this.__patterns.unformatted_content_delimiter.read()),h||(h=c&&c.type===s.CONTROL_FLOW_OPEN?this.__patterns.word_control_flow_close_excluded.read():this.__patterns.word.read()),h?this._create_token(s.TEXT,h):null},Yl.Tokenizer=a,Yl.TOKEN=s,Yl}var ww;function xj(){if(ww)return qd;ww=1;var t=gI().Options,e=qm().Output,n=yw().Tokenizer,r=yw().TOKEN,i=/\r\n|[\r\n]/,s=/\r\n|[\r\n]/g,o=function(y,p){this.indent_level=0,this.alignment_size=0,this.max_preserve_newlines=y.max_preserve_newlines,this.preserve_newlines=y.preserve_newlines,this._output=new e(y,p)};o.prototype.current_line_has_match=function(y){return this._output.current_line.has_match(y)},o.prototype.set_space_before_token=function(y,p){this._output.space_before_token=y,this._output.non_breaking_space=p},o.prototype.set_wrap_point=function(){this._output.set_indent(this.indent_level,this.alignment_size),this._output.set_wrap_point()},o.prototype.add_raw_token=function(y){this._output.add_raw_token(y)},o.prototype.print_preserved_newlines=function(y){var p=0;y.type!==r.TEXT&&y.previous.type!==r.TEXT&&(p=y.newlines?1:0),this.preserve_newlines&&(p=y.newlines<this.max_preserve_newlines+1?y.newlines:this.max_preserve_newlines+1);for(var g=0;g<p;g++)this.print_newline(g>0);return p!==0},o.prototype.traverse_whitespace=function(y){return y.whitespace_before||y.newlines?(this.print_preserved_newlines(y)||(this._output.space_before_token=!0),!0):!1},o.prototype.previous_token_wrapped=function(){return this._output.previous_token_wrapped},o.prototype.print_newline=function(y){this._output.add_new_line(y)},o.prototype.print_token=function(y){y.text&&(this._output.set_indent(this.indent_level,this.alignment_size),this._output.add_token(y.text))},o.prototype.indent=function(){this.indent_level++},o.prototype.deindent=function(){this.indent_level>0&&(this.indent_level--,this._output.set_indent(this.indent_level,this.alignment_size))},o.prototype.get_full_indent=function(y){return y=this.indent_level+(y||0),y<1?"":this._output.get_indent_string(y)};var a=function(y){for(var p=null,g=y.next;g.type!==r.EOF&&y.closed!==g;){if(g.type===r.ATTRIBUTE&&g.text==="type"){g.next&&g.next.type===r.EQUALS&&g.next.next&&g.next.next.type===r.VALUE&&(p=g.next.next.text);break}g=g.next}return p},l=function(y,p){var g=null,w=null;return p.closed?(y==="script"?g="text/javascript":y==="style"&&(g="text/css"),g=a(p)||g,g.search("text/css")>-1?w="css":g.search(/module|((text|application|dojo)\/(x-)?(javascript|ecmascript|jscript|livescript|(ld\+)?json|method|aspect))/)>-1?w="javascript":g.search(/(text|application|dojo)\/(x-)?(html)/)>-1?w="html":g.search(/test\/null/)>-1&&(w="null"),w):null};function c(y,p){return p.indexOf(y)!==-1}function h(y,p,g){this.parent=y||null,this.tag=p?p.tag_name:"",this.indent_level=g||0,this.parser_token=p||null}function d(y){this._printer=y,this._current_frame=null}d.prototype.get_parser_token=function(){return this._current_frame?this._current_frame.parser_token:null},d.prototype.record_tag=function(y){var p=new h(this._current_frame,y,this._printer.indent_level);this._current_frame=p},d.prototype._try_pop_frame=function(y){var p=null;return y&&(p=y.parser_token,this._printer.indent_level=y.indent_level,this._current_frame=y.parent),p},d.prototype._get_frame=function(y,p){for(var g=this._current_frame;g&&y.indexOf(g.tag)===-1;){if(p&&p.indexOf(g.tag)!==-1){g=null;break}g=g.parent}return g},d.prototype.try_pop=function(y,p){var g=this._get_frame([y],p);return this._try_pop_frame(g)},d.prototype.indent_to_tag=function(y){var p=this._get_frame(y);p&&(this._printer.indent_level=p.indent_level)};function _(y,p,g,w){this._source_text=y||"",p=p||{},this._js_beautify=g,this._css_beautify=w,this._tag_stack=null;var R=new t(p,"html");this._options=R,this._is_wrap_attributes_force=this._options.wrap_attributes.substr(0,5)==="force",this._is_wrap_attributes_force_expand_multiline=this._options.wrap_attributes==="force-expand-multiline",this._is_wrap_attributes_force_aligned=this._options.wrap_attributes==="force-aligned",this._is_wrap_attributes_aligned_multiple=this._options.wrap_attributes==="aligned-multiple",this._is_wrap_attributes_preserve=this._options.wrap_attributes.substr(0,8)==="preserve",this._is_wrap_attributes_preserve_aligned=this._options.wrap_attributes==="preserve-aligned"}_.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var y=this._source_text,p=this._options.eol;this._options.eol==="auto"&&(p=`
`,y&&i.test(y)&&(p=y.match(i)[0])),y=y.replace(s,`
`);var g=y.match(/^[\t ]*/)[0],w={text:"",type:""},R=new C(this._options),L=new o(this._options,g),P=new n(y,this._options).tokenize();this._tag_stack=new d(L);for(var E=null,v=P.next();v.type!==r.EOF;)v.type===r.TAG_OPEN||v.type===r.COMMENT?(E=this._handle_tag_open(L,v,R,w,P),R=E):v.type===r.ATTRIBUTE||v.type===r.EQUALS||v.type===r.VALUE||v.type===r.TEXT&&!R.tag_complete?E=this._handle_inside_tag(L,v,R,w):v.type===r.TAG_CLOSE?E=this._handle_tag_close(L,v,R):v.type===r.TEXT?E=this._handle_text(L,v,R):v.type===r.CONTROL_FLOW_OPEN?E=this._handle_control_flow_open(L,v):v.type===r.CONTROL_FLOW_CLOSE?E=this._handle_control_flow_close(L,v):L.add_raw_token(v),w=E,v=P.next();var I=L._output.get_code(p);return I},_.prototype._handle_control_flow_open=function(y,p){var g={text:p.text,type:p.type};return y.set_space_before_token(p.newlines||p.whitespace_before!=="",!0),p.newlines?y.print_preserved_newlines(p):y.set_space_before_token(p.newlines||p.whitespace_before!=="",!0),y.print_token(p),y.indent(),g},_.prototype._handle_control_flow_close=function(y,p){var g={text:p.text,type:p.type};return y.deindent(),p.newlines?y.print_preserved_newlines(p):y.set_space_before_token(p.newlines||p.whitespace_before!=="",!0),y.print_token(p),g},_.prototype._handle_tag_close=function(y,p,g){var w={text:p.text,type:p.type};return y.alignment_size=0,g.tag_complete=!0,y.set_space_before_token(p.newlines||p.whitespace_before!=="",!0),g.is_unformatted?y.add_raw_token(p):(g.tag_start_char==="<"&&(y.set_space_before_token(p.text[0]==="/",!0),this._is_wrap_attributes_force_expand_multiline&&g.has_wrapped_attrs&&y.print_newline(!1)),y.print_token(p)),g.indent_content&&!(g.is_unformatted||g.is_content_unformatted)&&(y.indent(),g.indent_content=!1),!g.is_inline_element&&!(g.is_unformatted||g.is_content_unformatted)&&y.set_wrap_point(),w},_.prototype._handle_inside_tag=function(y,p,g,w){var R=g.has_wrapped_attrs,L={text:p.text,type:p.type};return y.set_space_before_token(p.newlines||p.whitespace_before!=="",!0),g.is_unformatted?y.add_raw_token(p):g.tag_start_char==="{"&&p.type===r.TEXT?y.print_preserved_newlines(p)?(p.newlines=0,y.add_raw_token(p)):y.print_token(p):(p.type===r.ATTRIBUTE?y.set_space_before_token(!0):(p.type===r.EQUALS||p.type===r.VALUE&&p.previous.type===r.EQUALS)&&y.set_space_before_token(!1),p.type===r.ATTRIBUTE&&g.tag_start_char==="<"&&((this._is_wrap_attributes_preserve||this._is_wrap_attributes_preserve_aligned)&&(y.traverse_whitespace(p),R=R||p.newlines!==0),this._is_wrap_attributes_force&&g.attr_count>=this._options.wrap_attributes_min_attrs&&(w.type!==r.TAG_OPEN||this._is_wrap_attributes_force_expand_multiline)&&(y.print_newline(!1),R=!0)),y.print_token(p),R=R||y.previous_token_wrapped(),g.has_wrapped_attrs=R),L},_.prototype._handle_text=function(y,p,g){var w={text:p.text,type:"TK_CONTENT"};return g.custom_beautifier_name?this._print_custom_beatifier_text(y,p,g):g.is_unformatted||g.is_content_unformatted?y.add_raw_token(p):(y.traverse_whitespace(p),y.print_token(p)),w},_.prototype._print_custom_beatifier_text=function(y,p,g){var w=this;if(p.text!==""){var R=p.text,L,P=1,E="",v="";g.custom_beautifier_name==="javascript"&&typeof this._js_beautify=="function"?L=this._js_beautify:g.custom_beautifier_name==="css"&&typeof this._css_beautify=="function"?L=this._css_beautify:g.custom_beautifier_name==="html"&&(L=function(z,Y){var G=new _(z,Y,w._js_beautify,w._css_beautify);return G.beautify()}),this._options.indent_scripts==="keep"?P=0:this._options.indent_scripts==="separate"&&(P=-y.indent_level);var I=y.get_full_indent(P);if(R=R.replace(/\n[ \t]*$/,""),g.custom_beautifier_name!=="html"&&R[0]==="<"&&R.match(/^(<!--|<!\[CDATA\[)/)){var f=/^(<!--[^\n]*|<!\[CDATA\[)(\n?)([ \t\n]*)([\s\S]*)(-->|]]>)$/.exec(R);if(!f){y.add_raw_token(p);return}E=I+f[1]+`
`,R=f[4],f[5]&&(v=I+f[5]),R=R.replace(/\n[ \t]*$/,""),(f[2]||f[3].indexOf(`
`)!==-1)&&(f=f[3].match(/[ \t]+$/),f&&(p.whitespace_before=f[0]))}if(R)if(L){var k=function(){this.eol=`
`};k.prototype=this._options.raw_options;var N=new k;R=L(I+R,N)}else{var D=p.whitespace_before;D&&(R=R.replace(new RegExp(`
(`+D+")?","g"),`
`)),R=I+R.replace(/\n/g,`
`+I)}E&&(R?R=E+R+`
`+v:R=E+v),y.print_newline(!1),R&&(p.text=R,p.whitespace_before="",p.newlines=0,y.add_raw_token(p),y.print_newline(!0))}},_.prototype._handle_tag_open=function(y,p,g,w,R){var L=this._get_tag_open_token(p);if((g.is_unformatted||g.is_content_unformatted)&&!g.is_empty_element&&p.type===r.TAG_OPEN&&!L.is_start_tag?(y.add_raw_token(p),L.start_tag_token=this._tag_stack.try_pop(L.tag_name)):(y.traverse_whitespace(p),this._set_tag_position(y,p,L,g,w),L.is_inline_element||y.set_wrap_point(),y.print_token(p)),L.is_start_tag&&this._is_wrap_attributes_force){var P=0,E;do E=R.peek(P),E.type===r.ATTRIBUTE&&(L.attr_count+=1),P+=1;while(E.type!==r.EOF&&E.type!==r.TAG_CLOSE)}return(this._is_wrap_attributes_force_aligned||this._is_wrap_attributes_aligned_multiple||this._is_wrap_attributes_preserve_aligned)&&(L.alignment_size=p.text.length+1),!L.tag_complete&&!L.is_unformatted&&(y.alignment_size=L.alignment_size),L};var C=function(y,p,g){if(this.parent=p||null,this.text="",this.type="TK_TAG_OPEN",this.tag_name="",this.is_inline_element=!1,this.is_unformatted=!1,this.is_content_unformatted=!1,this.is_empty_element=!1,this.is_start_tag=!1,this.is_end_tag=!1,this.indent_content=!1,this.multiline_content=!1,this.custom_beautifier_name=null,this.start_tag_token=null,this.attr_count=0,this.has_wrapped_attrs=!1,this.alignment_size=0,this.tag_complete=!1,this.tag_start_char="",this.tag_check="",!g)this.tag_complete=!0;else{var w;this.tag_start_char=g.text[0],this.text=g.text,this.tag_start_char==="<"?(w=g.text.match(/^<([^\s>]*)/),this.tag_check=w?w[1]:""):(w=g.text.match(/^{{~?(?:[\^]|#\*?)?([^\s}]+)/),this.tag_check=w?w[1]:"",(g.text.startsWith("{{#>")||g.text.startsWith("{{~#>"))&&this.tag_check[0]===">"&&(this.tag_check===">"&&g.next!==null?this.tag_check=g.next.text.split(" ")[0]:this.tag_check=g.text.split(">")[1])),this.tag_check=this.tag_check.toLowerCase(),g.type===r.COMMENT&&(this.tag_complete=!0),this.is_start_tag=this.tag_check.charAt(0)!=="/",this.tag_name=this.is_start_tag?this.tag_check:this.tag_check.substr(1),this.is_end_tag=!this.is_start_tag||g.closed&&g.closed.text==="/>";var R=2;this.tag_start_char==="{"&&this.text.length>=3&&this.text.charAt(2)==="~"&&(R=3),this.is_end_tag=this.is_end_tag||this.tag_start_char==="{"&&(!y.indent_handlebars||this.text.length<3||/[^#\^]/.test(this.text.charAt(R)))}};_.prototype._get_tag_open_token=function(y){var p=new C(this._options,this._tag_stack.get_parser_token(),y);return p.alignment_size=this._options.wrap_attributes_indent_size,p.is_end_tag=p.is_end_tag||c(p.tag_check,this._options.void_elements),p.is_empty_element=p.tag_complete||p.is_start_tag&&p.is_end_tag,p.is_unformatted=!p.tag_complete&&c(p.tag_check,this._options.unformatted),p.is_content_unformatted=!p.is_empty_element&&c(p.tag_check,this._options.content_unformatted),p.is_inline_element=c(p.tag_name,this._options.inline)||this._options.inline_custom_elements&&p.tag_name.includes("-")||p.tag_start_char==="{",p},_.prototype._set_tag_position=function(y,p,g,w,R){if(g.is_empty_element||(g.is_end_tag?g.start_tag_token=this._tag_stack.try_pop(g.tag_name):(this._do_optional_end_element(g)&&(g.is_inline_element||y.print_newline(!1)),this._tag_stack.record_tag(g),(g.tag_name==="script"||g.tag_name==="style")&&!(g.is_unformatted||g.is_content_unformatted)&&(g.custom_beautifier_name=l(g.tag_check,p)))),c(g.tag_check,this._options.extra_liners)&&(y.print_newline(!1),y._output.just_added_blankline()||y.print_newline(!0)),g.is_empty_element){if(g.tag_start_char==="{"&&g.tag_check==="else"){this._tag_stack.indent_to_tag(["if","unless","each"]),g.indent_content=!0;var L=y.current_line_has_match(/{{#if/);L||y.print_newline(!1)}g.tag_name==="!--"&&R.type===r.TAG_CLOSE&&w.is_end_tag&&g.text.indexOf(`
`)===-1||(g.is_inline_element||g.is_unformatted||y.print_newline(!1),this._calcluate_parent_multiline(y,g))}else if(g.is_end_tag){var P=!1;P=g.start_tag_token&&g.start_tag_token.multiline_content,P=P||!g.is_inline_element&&!(w.is_inline_element||w.is_unformatted)&&!(R.type===r.TAG_CLOSE&&g.start_tag_token===w)&&R.type!=="TK_CONTENT",(g.is_content_unformatted||g.is_unformatted)&&(P=!1),P&&y.print_newline(!1)}else g.indent_content=!g.custom_beautifier_name,g.tag_start_char==="<"&&(g.tag_name==="html"?g.indent_content=this._options.indent_inner_html:g.tag_name==="head"?g.indent_content=this._options.indent_head_inner_html:g.tag_name==="body"&&(g.indent_content=this._options.indent_body_inner_html)),!(g.is_inline_element||g.is_unformatted)&&(R.type!=="TK_CONTENT"||g.is_content_unformatted)&&y.print_newline(!1),this._calcluate_parent_multiline(y,g)},_.prototype._calcluate_parent_multiline=function(y,p){p.parent&&y._output.just_added_newline()&&!((p.is_inline_element||p.is_unformatted)&&p.parent.is_inline_element)&&(p.parent.multiline_content=!0)};var b=["address","article","aside","blockquote","details","div","dl","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hr","main","menu","nav","ol","p","pre","section","table","ul"],A=["a","audio","del","ins","map","noscript","video"];return _.prototype._do_optional_end_element=function(y){var p=null;if(!(y.is_empty_element||!y.is_start_tag||!y.parent)){if(y.tag_name==="body")p=p||this._tag_stack.try_pop("head");else if(y.tag_name==="li")p=p||this._tag_stack.try_pop("li",["ol","ul","menu"]);else if(y.tag_name==="dd"||y.tag_name==="dt")p=p||this._tag_stack.try_pop("dt",["dl"]),p=p||this._tag_stack.try_pop("dd",["dl"]);else if(y.parent.tag_name==="p"&&b.indexOf(y.tag_name)!==-1){var g=y.parent.parent;(!g||A.indexOf(g.tag_name)===-1)&&(p=p||this._tag_stack.try_pop("p"))}else y.tag_name==="rp"||y.tag_name==="rt"?(p=p||this._tag_stack.try_pop("rt",["ruby","rtc"]),p=p||this._tag_stack.try_pop("rp",["ruby","rtc"])):y.tag_name==="optgroup"?p=p||this._tag_stack.try_pop("optgroup",["select"]):y.tag_name==="option"?p=p||this._tag_stack.try_pop("option",["select","datalist","optgroup"]):y.tag_name==="colgroup"?p=p||this._tag_stack.try_pop("caption",["table"]):y.tag_name==="thead"?(p=p||this._tag_stack.try_pop("caption",["table"]),p=p||this._tag_stack.try_pop("colgroup",["table"])):y.tag_name==="tbody"||y.tag_name==="tfoot"?(p=p||this._tag_stack.try_pop("caption",["table"]),p=p||this._tag_stack.try_pop("colgroup",["table"]),p=p||this._tag_stack.try_pop("thead",["table"]),p=p||this._tag_stack.try_pop("tbody",["table"])):y.tag_name==="tr"?(p=p||this._tag_stack.try_pop("caption",["table"]),p=p||this._tag_stack.try_pop("colgroup",["table"]),p=p||this._tag_stack.try_pop("tr",["table","thead","tbody","tfoot"])):(y.tag_name==="th"||y.tag_name==="td")&&(p=p||this._tag_stack.try_pop("td",["table","thead","tbody","tfoot","tr"]),p=p||this._tag_stack.try_pop("th",["table","thead","tbody","tfoot","tr"]));return y.parent=this._tag_stack.get_parser_token(),p}},qd.Beautifier=_,qd}var Ew;function Cj(){if(Ew)return Xl.exports;Ew=1;var t=xj().Beautifier,e=gI().Options;function n(r,i,s,o){var a=new t(r,i,s,o);return a.beautify()}return Xl.exports=n,Xl.exports.defaultOptions=function(){return new e},Xl.exports}var Tw;function Ij(){if(Tw)return Ao;Tw=1;var t=Ej(),e=Sj(),n=Cj();function r(i,s,o,a){return o=o||t,a=a||e,n(i,s,o,a)}return r.defaultOptions=n.defaultOptions,Ao.js=t,Ao.css=e,Ao.html=r,Ao}(function(t){function e(n,r,i){var s=function(o,a){return n.js_beautify(o,a)};return s.js=n.js_beautify,s.css=r.css_beautify,s.html=i.html_beautify,s.js_beautify=n.js_beautify,s.css_beautify=r.css_beautify,s.html_beautify=i.html_beautify,s}(function(n){var r=Ij();r.js_beautify=r.js,r.css_beautify=r.css,r.html_beautify=r.html,n.exports=e(r,r,r)})(t)})(hI);var Aj=hI.exports;Prism.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]};Prism.languages.markup.tag.inside["attr-value"].inside.entity=Prism.languages.markup.entity;Prism.languages.markup.doctype.inside["internal-subset"].inside=Prism.languages.markup;Prism.hooks.add("wrap",function(t){t.type==="entity"&&(t.attributes.title=t.content.replace(/&amp;/,"&"))});Object.defineProperty(Prism.languages.markup.tag,"addInlined",{value:function(e,n){var r={};r["language-"+n]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:Prism.languages[n]},r.cdata=/^<!\[CDATA\[|\]\]>$/i;var i={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:r}};i["language-"+n]={pattern:/[\s\S]+/,inside:Prism.languages[n]};var s={};s[e]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return e}),"i"),lookbehind:!0,greedy:!0,inside:i},Prism.languages.insertBefore("markup","cdata",s)}});Object.defineProperty(Prism.languages.markup.tag,"addAttribute",{value:function(t,e){Prism.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+t+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[e,"language-"+e],inside:Prism.languages[e]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}});Prism.languages.html=Prism.languages.markup;Prism.languages.mathml=Prism.languages.markup;Prism.languages.svg=Prism.languages.markup;Prism.languages.xml=Prism.languages.extend("markup",{});Prism.languages.ssml=Prism.languages.xml;Prism.languages.atom=Prism.languages.xml;Prism.languages.rss=Prism.languages.xml;(function(t){var e=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;t.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+e.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+e.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+e.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+e.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:e,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},t.languages.css.atrule.inside.rest=t.languages.css;var n=t.languages.markup;n&&(n.tag.addInlined("style","css"),n.tag.addAttribute("style","css"))})(Prism);Prism.languages.javascript=Prism.languages.extend("clike",{"class-name":[Prism.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/});Prism.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/;Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:Prism.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:Prism.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/});Prism.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:Prism.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}});Prism.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}});Prism.languages.markup&&(Prism.languages.markup.tag.addInlined("script","javascript"),Prism.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript"));Prism.languages.js=Prism.languages.javascript;const bj=({code:t,language:e="markup",formatCode:n=!0,className:r=""})=>{const i=S.useRef(null),o=((a,l)=>{if(!n)return a;try{return l==="markup"||l==="html"?Aj.html(a,{indent_size:2,indent_char:" ",max_preserve_newlines:1,preserve_newlines:!0,keep_array_indentation:!1,break_chained_methods:!1,indent_scripts:"normal",brace_style:"collapse",space_before_conditional:!0,unescape_strings:!1,jslint_happy:!1,end_with_newline:!1,wrap_line_length:180,indent_inner_html:!1,comma_first:!1,e4x:!1,indent_empty_lines:!1}):a}catch(c){return console.warn("Failed to format code with js-beautify:",c),a}})(t,e);return S.useEffect(()=>{i.current&&gj.highlightElement(i.current)},[o,e]),x.jsx("div",{className:`syntax-highlighter ${r}`,children:x.jsx("pre",{className:`language-${e}`,children:x.jsx("code",{ref:i,className:`language-${e}`,children:o})})})},Rj=({snippet:t,onCopy:e,onUpdate:n,onDelete:r,className:i="",initialTab:s="preview"})=>{const{user:o}=Ri(),[a,l]=S.useState(s),[c,h]=S.useState(!1),[d,_]=S.useState((t==null?void 0:t.htmlContent)||""),[C,b]=S.useState((t==null?void 0:t.title)||""),[A,y]=S.useState((t==null?void 0:t.tags)||[]),[p,g]=S.useState(""),[w,R]=S.useState(!1),[L,P]=S.useState(!1);if(!t)return x.jsx("div",{className:`snippet-detail empty ${i}`,children:x.jsx("div",{className:"snippet-detail-placeholder",children:x.jsx("p",{children:"Snippet not found"})})});const E=M=>{e&&e(M)},v=M=>{console.error("Copy failed in SnippetDetail:",M)},I=()=>{_(t.htmlContent),b(t.title),y(t.tags||[]),h(!0),l("code")},f=()=>{_(t.htmlContent),b(t.title),y(t.tags||[]),g(""),h(!1)},k=async()=>{if(!d.trim()||!C.trim()){alert("Title and content cannot be empty");return}R(!0);try{await new Promise(j=>setTimeout(j,1e3));const M={...t,title:C.trim(),htmlContent:d.trim(),tags:A||[]};n&&await n(M),h(!1),console.log("Snippet saved successfully (portfolio mode)")}catch(M){console.error("Error saving snippet:",M),alert("Failed to save snippet. Please try again.")}finally{R(!1)}},N=async()=>{if(!L){P(!0),setTimeout(()=>P(!1),3e3);return}try{r&&await r(t.id)}catch(M){console.error("Error deleting snippet:",M),alert("Failed to delete snippet. Please try again.")}finally{P(!1)}},D=()=>{const M=p.trim();if(M){const j=H_(M);!A.includes(j)&&A.length<10&&(y(q=>[...q,j]),g(""))}},z=M=>{y(j=>j.filter(q=>q!==M))},Y=M=>{M.key==="Enter"&&(M.preventDefault(),D())},G=tx(t.authorEmail),Z=ex(t.createdAt);return x.jsxs("div",{className:`snippet-detail ${i}`,children:[x.jsxs("div",{className:"snippet-detail-header",children:[x.jsxs("div",{className:"snippet-detail-title-section",children:[c?x.jsxs(x.Fragment,{children:[x.jsx("input",{type:"text",value:C,onChange:M=>b(M.target.value),className:"snippet-detail-title-input",placeholder:"Enter snippet title..."}),x.jsxs("div",{className:"snippet-detail-tags-edit",children:[x.jsxs("div",{className:"tags-input-container",children:[x.jsx("input",{type:"text",value:p,onChange:M=>g(M.target.value),onKeyPress:Y,placeholder:"Add a tag and press Enter...",className:"snippet-detail-tag-input",maxLength:50}),x.jsx("button",{type:"button",onClick:D,className:"add-tag-button",disabled:!p.trim()||A.length>=10,children:"Add"})]}),A.length>0&&x.jsx("div",{className:"tags-display",children:A.map((M,j)=>x.jsxs("span",{className:"tag-chip",children:[M,x.jsx("button",{type:"button",onClick:()=>z(M),className:"tag-remove","aria-label":`Remove ${M} tag`,children:"×"})]},j))}),x.jsxs("div",{className:"tags-help",children:[A.length,"/10 tags"]})]})]}):x.jsx("h1",{className:"snippet-detail-title",children:t.title}),x.jsxs("div",{className:"snippet-detail-meta",children:[x.jsxs("span",{className:"snippet-detail-author",children:["by ",x.jsx("strong",{children:G})]}),t.tags&&t.tags.length>0&&x.jsxs(x.Fragment,{children:[x.jsx("span",{className:"snippet-detail-separator",children:"•"}),x.jsx("span",{className:"snippet-detail-tags-display",children:t.tags.join(" ")})]}),x.jsx("span",{className:"snippet-detail-separator",children:"•"}),x.jsx("span",{className:"snippet-detail-date",children:Z})]})]}),x.jsxs("div",{className:"snippet-detail-actions",children:[x.jsx(aI,{snippetId:t.id,initialApproved:t.approved||!1,className:"snippet-detail-approved-button"}),x.jsx(oI,{snippetId:t.id,initialVoteCount:t.voteCount||0,className:"snippet-detail-vote-button"}),x.jsx(nx,{text:c?d:t.htmlContent,size:"medium",onCopySuccess:E,onCopyError:v,className:"snippet-detail-copy-button"})]})]}),x.jsxs("div",{className:"snippet-detail-content",children:[x.jsxs("div",{className:"snippet-detail-tabs",children:[x.jsxs("div",{className:"tabs-left",children:[x.jsx("button",{className:`tab-button ${a==="preview"?"active":""}`,onClick:()=>l("preview"),children:"Live Preview"}),x.jsx("button",{className:`tab-button ${a==="code"?"active":""}`,onClick:()=>l("code"),children:"HTML Code"})]}),x.jsx("div",{className:"tabs-right",children:c?x.jsxs("div",{className:"edit-actions",children:[x.jsx("button",{onClick:k,disabled:w,className:"tab-button btn-save",children:w?"Saving...":"Save"}),x.jsx("button",{onClick:f,disabled:w,className:"tab-button btn-cancel",children:"Cancel"})]}):x.jsxs("div",{className:"author-actions",children:[x.jsx("button",{onClick:N,className:`tab-button btn-delete ${L?"confirming":""}`,title:L?"Click again to confirm deletion":"Delete this snippet",children:L?"Confirm Delete":"Delete"}),x.jsx("button",{onClick:I,className:"tab-button",title:"Edit this snippet",children:"Edit"})]})})]}),x.jsxs("div",{className:"snippet-detail-tab-content",children:[a==="preview"&&x.jsx("div",{className:"tab-panel",children:x.jsx(lI,{htmlContent:c?d:t.htmlContent,height:400,className:"snippet-detail-preview"})}),a==="code"&&x.jsx("div",{className:"tab-panel",children:x.jsx("div",{className:"snippet-detail-code",children:c?x.jsx("textarea",{value:d,onChange:M=>_(M.target.value),className:"snippet-detail-editor",placeholder:"Enter your HTML code here...",rows:Math.max(20,d.split(`
`).length+2)}):x.jsx(bj,{code:t.htmlContent,language:"markup",className:"snippet-detail-syntax"})})})]})]})]})},kj=(t,e={})=>{const{minLength:n=1,maxLength:r=1/0,required:i=!0}=e,s=[];if(i&&(!t||typeof t!="string"))return s.push("Field is required and must be a string"),{isValid:!1,errors:s};if(!i&&t==null)return{isValid:!0,errors:[]};if(typeof t!="string")return s.push("Field must be a string"),{isValid:!1,errors:s};const o=t.trim();return i&&o.length===0&&s.push("Field cannot be empty"),o.length<n&&s.push(`Field must be at least ${n} characters long`),o.length>r&&s.push(`Field must be ${r} characters or less`),{isValid:s.length===0,errors:s}},Pj=t=>{const e=[];if(!t||typeof t!="string")return e.push("HTML content is required and must be a string"),{isValid:!1,errors:e};t.trim().length===0&&e.push("HTML content cannot be empty");const r=[/javascript:/gi,/on\w+\s*=/gi];return[/document\s*\.\s*(write|createElement|appendChild|insertBefore|removeChild)/gi,/window\s*\.\s*(location|open|close|alert|confirm)/gi,/eval\s*\(/gi,/<script[^>]*src\s*=/gi,/fetch\s*\(/gi,/XMLHttpRequest/gi,/localStorage|sessionStorage/gi,/parent\s*\./gi,/top\s*\./gi].some(a=>a.test(t))&&e.push("Script content contains unsafe operations. Only DOM queries and manipulation within the snippet container are allowed."),r.some(a=>a.test(t))&&e.push("HTML content contains potentially unsafe elements"),{isValid:e.length===0,errors:e}},Nj=({onSubmit:t,loading:e=!1,initialData:n=null})=>{const[r,i]=S.useState({title:(n==null?void 0:n.title)||"",htmlContent:(n==null?void 0:n.htmlContent)||"",tags:(n==null?void 0:n.tags)||[]}),[s,o]=S.useState({}),[a,l]=S.useState({}),[c,h]=S.useState(!1),[d,_]=S.useState(""),C=Xn(),b=(v,I)=>{let f={isValid:!0,errors:[]};switch(v){case"title":f=kj(I,{minLength:1,maxLength:200,required:!0});break;case"htmlContent":f=Pj(I);break;case"tags":Array.isArray(I)?I.filter(N=>typeof N!="string"||N.length===0||N.length>50).length>0?f={isValid:!1,errors:["Tags must be 1-50 characters long"]}:I.length>10&&(f={isValid:!1,errors:["Maximum 10 tags allowed"]}):f={isValid:!1,errors:["Tags must be an array"]};break}return f},A=v=>{const{name:I,value:f}=v.target;i(k=>({...k,[I]:f})),s[I]&&o(k=>({...k,[I]:[]}))},y=v=>{const{name:I,value:f}=v.target;if(l(k=>({...k,[I]:!0})),c){const k=b(I,f);k.isValid?o(N=>({...N,[I]:[]})):o(N=>({...N,[I]:k.errors}))}},p=()=>{const v=d.trim();if(v){const I=H_(v);!r.tags.includes(I)&&r.tags.length<10&&(i(f=>({...f,tags:[...f.tags,I]})),_(""),s.tags&&o(f=>({...f,tags:[]})))}},g=v=>{i(I=>({...I,tags:I.tags.filter(f=>f!==v)}))},w=v=>{v.key==="Enter"&&(v.preventDefault(),p())},R=()=>{const v={};let I=!0;return Object.keys(r).forEach(f=>{const k=b(f,r[f]);k.isValid||(v[f]=k.errors,I=!1)}),o(v),l({title:!0,htmlContent:!0}),I},L=v=>{v.preventDefault(),h(!0),R()&&t(r)},P=()=>{C(-1)},E=v=>c&&a[v]&&s[v]&&s[v].length>0?s[v][0]:null;return x.jsxs("form",{onSubmit:L,className:"snippet-form",children:[x.jsxs("div",{className:"form-group",children:[x.jsx("label",{htmlFor:"title",className:"form-label",children:"Title *"}),x.jsx("input",{type:"text",id:"title",name:"title",value:r.title,onChange:A,onBlur:y,className:`form-input ${E("title")?"error":""}`,placeholder:"Enter a descriptive title for your snippet",disabled:e,maxLength:200}),E("title")&&x.jsx("span",{className:"error-message",children:E("title")}),x.jsxs("div",{className:"character-count",children:[r.title.length,"/200"]})]}),x.jsxs("div",{className:"form-group",children:[x.jsx("label",{htmlFor:"htmlContent",className:"form-label",children:"HTML Content *"}),x.jsx("textarea",{id:"htmlContent",name:"htmlContent",value:r.htmlContent,onChange:A,onBlur:y,className:`form-textarea ${E("htmlContent")?"error":""}`,placeholder:"Paste your HTML code here...",disabled:e,rows:12}),E("htmlContent")&&x.jsx("span",{className:"error-message",children:E("htmlContent")})]}),x.jsxs("div",{className:"form-group",children:[x.jsx("label",{htmlFor:"tags",className:"form-label",children:"Tags (Labels)"}),x.jsxs("div",{className:"tags-input-container",children:[x.jsx("input",{type:"text",id:"tags",value:d,onChange:v=>_(v.target.value),onKeyPress:w,placeholder:"Add a tag and press Enter...",className:"form-input",maxLength:50}),x.jsx("button",{type:"button",onClick:p,className:"add-tag-button",disabled:!d.trim()||r.tags.length>=10,children:"Add"})]}),r.tags.length>0&&x.jsx("div",{className:"tags-display",children:r.tags.map((v,I)=>x.jsxs("span",{className:"tag-chip",children:[v,x.jsx("button",{type:"button",onClick:()=>g(v),className:"tag-remove","aria-label":`Remove ${v} tag`,children:"×"})]},I))}),x.jsxs("div",{className:"tags-help",children:[r.tags.length,"/10 tags • Press Enter or click Add to add tags"]}),E("tags")&&x.jsx("span",{className:"error-message",children:E("tags")})]}),x.jsxs("div",{className:"form-actions",children:[x.jsx(yr,{type:"button",variant:"secondary",onClick:P,disabled:e,children:"Cancel"}),x.jsx(yr,{type:"submit",loading:e,loadingText:"Creating...",variant:"primary",size:"medium",children:"Create Snippet"})]})]})};/**
 * @license lucide-react v0.526.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oj=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Dj=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),Sw=t=>{const e=Dj(t);return e.charAt(0).toUpperCase()+e.slice(1)},vI=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),Lj=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.526.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Mj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.526.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fj=S.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},l)=>S.createElement("svg",{ref:l,...Mj,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:vI("lucide",i),...!s&&!Lj(a)&&{"aria-hidden":"true"},...a},[...o.map(([c,h])=>S.createElement(c,h)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.526.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yI=(t,e)=>{const n=S.forwardRef(({className:r,...i},s)=>S.createElement(Fj,{ref:s,iconNode:e,className:vI(`lucide-${Oj(Sw(t))}`,`lucide-${t}`,r),...i}));return n.displayName=Sw(t),n};/**
 * @license lucide-react v0.526.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vj=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],jj=yI("check",Vj);/**
 * @license lucide-react v0.526.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uj=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M7 12h10",key:"b7w52i"}],["path",{d:"M10 18h4",key:"1ulq68"}]],$j=yI("list-filter",Uj),xw=({selectedTags:t=[],onTagsChange:e,sortBy:n="popular",onSortChange:r,className:i=""})=>{const[s,o]=S.useState([]),[a,l]=S.useState(!0),[c,h]=S.useState(!1);S.useEffect(()=>{(async()=>{try{const A=await cj();o(A)}catch(A){console.error("Error loading tags:",A)}finally{l(!1)}})()},[]);const d=b=>{const A=t.includes(b)?t.filter(y=>y!==b):[...t,b];e==null||e(A)},_=()=>{e==null||e([])},C=t.length>0;return x.jsxs(AS,{open:c,onOpenChange:h,children:[x.jsx(bS,{asChild:!0,children:x.jsxs("button",{className:`tag-filter-button ${C?"active":""} ${i}`,"aria-label":"Filter by tags",children:[x.jsx($j,{size:16}),C&&x.jsx("span",{className:"tag-filter-badge",children:t.length})]})}),x.jsx(RS,{children:x.jsxs(kS,{className:"tag-filter-content",sideOffset:4,side:"left",align:"start",children:[x.jsx("div",{className:"tag-filter-header",children:x.jsx("span",{className:"tag-filter-title",children:"Sort By"})}),x.jsxs("div",{className:"tag-filter-sort-options",children:[x.jsx("button",{className:`tag-filter-sort-option ${n==="popular"?"active":""}`,onClick:()=>r==null?void 0:r("popular"),children:"Popular"}),x.jsx("button",{className:`tag-filter-sort-option ${n==="recent"?"active":""}`,onClick:()=>r==null?void 0:r("recent"),children:"Recent"})]}),x.jsxs("div",{className:"tag-filter-header",children:[x.jsx("span",{className:"tag-filter-title",children:"Filter by Tags"}),C&&x.jsx("button",{className:"tag-filter-clear",onClick:_,children:"Clear all"})]}),a?x.jsx("div",{className:"tag-filter-loading",children:"Loading tags..."}):!s||s.length===0?x.jsx("div",{className:"tag-filter-empty",children:"No tags available"}):x.jsx("div",{className:"tag-filter-list",children:s.map(b=>{const A=t.includes(b);return x.jsx(lO,{className:"tag-filter-item",checked:A,onCheckedChange:()=>d(b),onSelect:y=>y.preventDefault(),children:x.jsxs("div",{className:"tag-filter-item-content",children:[x.jsx("span",{className:"tag-filter-item-text",children:b}),x.jsx(uO,{className:"tag-filter-check",children:x.jsx(jj,{size:14})})]})},b)})}),x.jsx(cO,{className:"tag-filter-arrow"})]})})]})},Bj=({size:t="medium",color:e="primary",className:n="",text:r="",inline:i=!1})=>{const s=["loading-spinner",`loading-spinner--${t}`,`loading-spinner--${e}`,i?"loading-spinner--inline":"",n].filter(Boolean).join(" "),o=["loading-spinner-container",i?"loading-spinner-container--inline":""].filter(Boolean).join(" ");return x.jsxs("div",{className:o,"data-testid":"loading-spinner",children:[x.jsx("div",{className:s,"aria-label":"Loading",role:"status",children:x.jsx("span",{className:"sr-only",children:"Loading..."})}),r&&x.jsx("div",{className:"loading-spinner-text","data-testid":"loading-text",children:r})]})},yr=({loading:t=!1,loadingText:e="Loading...",children:n,disabled:r=!1,variant:i="primary",size:s="medium",className:o="",onClick:a,type:l="button",...c})=>{const h=["loading-button",`loading-button--${i}`,`loading-button--${s}`,t?"loading-button--loading":"",o].filter(Boolean).join(" "),d=r||t,_=()=>i==="secondary"?"secondary":"white";return x.jsx("button",{type:l,className:h,disabled:d,onClick:a,"aria-disabled":d,"data-testid":"loading-button",...c,children:t?x.jsxs("div",{className:"loading-button-content",children:[x.jsx(Bj,{size:"small",color:_(),inline:!0}),x.jsx("span",{children:e})]}):n})},gc=({count:t=1,variant:e="snippet",className:n=""})=>{const r=Array.from({length:t},(i,s)=>x.jsxs("div",{className:`loading-card loading-card--${e} ${n}`,children:[e==="snippet"&&x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"loading-card-header",children:[x.jsx("div",{className:"skeleton skeleton--title"}),x.jsx("div",{className:"skeleton skeleton--actions"})]}),x.jsx("div",{className:"loading-card-content",children:x.jsx("div",{className:"skeleton skeleton--preview-text"})}),x.jsxs("div",{className:"loading-card-footer",children:[x.jsx("div",{className:"skeleton skeleton--author"}),x.jsx("div",{className:"skeleton skeleton--date"})]})]}),e==="list"&&x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"skeleton skeleton--list-title"}),x.jsx("div",{className:"skeleton skeleton--list-content"}),x.jsx("div",{className:"skeleton skeleton--list-meta"})]}),e==="detail"&&x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"loading-card-detail-header",children:[x.jsx("div",{className:"skeleton skeleton--detail-title"}),x.jsx("div",{className:"skeleton skeleton--detail-meta"})]}),x.jsxs("div",{className:"loading-card-detail-content",children:[x.jsx("div",{className:"skeleton skeleton--detail-code"}),x.jsx("div",{className:"skeleton skeleton--detail-preview"})]}),x.jsxs("div",{className:"loading-card-detail-actions",children:[x.jsx("div",{className:"skeleton skeleton--button"}),x.jsx("div",{className:"skeleton skeleton--button"})]})]})]},s));return t===1?r[0]:x.jsx("div",{className:"loading-cards-container",children:r})};function wI(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var zj=["color"],Wj=S.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=wI(t,zj);return S.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:e}),S.createElement("path",{d:"M8.4449 0.608765C8.0183 -0.107015 6.9817 -0.107015 6.55509 0.608766L0.161178 11.3368C-0.275824 12.07 0.252503 13 1.10608 13H13.8939C14.7475 13 15.2758 12.07 14.8388 11.3368L8.4449 0.608765ZM7.4141 1.12073C7.45288 1.05566 7.54712 1.05566 7.5859 1.12073L13.9798 11.8488C14.0196 11.9154 13.9715 12 13.8939 12H1.10608C1.02849 12 0.980454 11.9154 1.02018 11.8488L7.4141 1.12073ZM6.8269 4.48611C6.81221 4.10423 7.11783 3.78663 7.5 3.78663C7.88217 3.78663 8.18778 4.10423 8.1731 4.48612L8.01921 8.48701C8.00848 8.766 7.7792 8.98664 7.5 8.98664C7.2208 8.98664 6.99151 8.766 6.98078 8.48701L6.8269 4.48611ZM8.24989 10.476C8.24989 10.8902 7.9141 11.226 7.49989 11.226C7.08567 11.226 6.74989 10.8902 6.74989 10.476C6.74989 10.0618 7.08567 9.72599 7.49989 9.72599C7.9141 9.72599 8.24989 10.0618 8.24989 10.476Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),qj=["color"],Hj=S.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=wI(t,qj);return S.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:e}),S.createElement("path",{d:"M1.84998 7.49998C1.84998 4.66458 4.05979 1.84998 7.49998 1.84998C10.2783 1.84998 11.6515 3.9064 12.2367 5H10.5C10.2239 5 10 5.22386 10 5.5C10 5.77614 10.2239 6 10.5 6H13.5C13.7761 6 14 5.77614 14 5.5V2.5C14 2.22386 13.7761 2 13.5 2C13.2239 2 13 2.22386 13 2.5V4.31318C12.2955 3.07126 10.6659 0.849976 7.49998 0.849976C3.43716 0.849976 0.849976 4.18537 0.849976 7.49998C0.849976 10.8146 3.43716 14.15 7.49998 14.15C9.44382 14.15 11.0622 13.3808 12.2145 12.2084C12.8315 11.5806 13.3133 10.839 13.6418 10.0407C13.7469 9.78536 13.6251 9.49315 13.3698 9.38806C13.1144 9.28296 12.8222 9.40478 12.7171 9.66014C12.4363 10.3425 12.0251 10.9745 11.5013 11.5074C10.5295 12.4963 9.16504 13.15 7.49998 13.15C4.05979 13.15 1.84998 10.3354 1.84998 7.49998Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))});class Kd extends hn.Component{constructor(n){super(n);Lh(this,"handleRetry",()=>{this.setState({hasError:!1,error:null,errorInfo:null}),this.props.onRetry&&this.props.onRetry()});Lh(this,"handleReload",()=>{window.location.reload()});this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(n){return{hasError:!0}}componentDidCatch(n,r){console.error("ErrorBoundary caught an error:",n,r),this.setState({error:n,errorInfo:r}),this.props.onError&&this.props.onError(n,r)}render(){return this.state.hasError?this.props.fallback?this.props.fallback(this.state.error,this.handleRetry):x.jsx("div",{className:"error-boundary",children:x.jsx(jS,{className:"error-boundary-card",children:x.jsxs(Qf,{direction:"column",align:"center",gap:"4",children:[x.jsx(Wj,{className:"error-boundary-icon",width:"48",height:"48"}),x.jsx(bT,{size:"6",className:"error-boundary-title",children:"Something went wrong"}),x.jsx(RT,{size:"3",color:"gray",align:"center",className:"error-boundary-message",children:this.props.message||"An unexpected error occurred. Please try refreshing the page or contact support if the problem persists."}),!1,x.jsxs(Qf,{gap:"3",className:"error-boundary-actions",children:[x.jsxs(Ju,{variant:"soft",onClick:this.handleRetry,className:"error-boundary-retry",children:[x.jsx(Hj,{width:"16",height:"16"}),"Try Again"]}),x.jsx(Ju,{variant:"outline",onClick:this.handleReload,className:"error-boundary-reload",children:"Reload Page"})]})]})})}):this.props.children}}function Kj(){const{user:t,isAuthenticated:e}=Ri(),n=bi(),r=i=>i==="/"?n.pathname==="/":n.pathname.startsWith(i);return x.jsx("nav",{className:"navigation",children:x.jsxs("div",{className:"navigation__container",children:[x.jsx("div",{className:"navigation__brand",children:x.jsx(Do,{to:"/",className:"navigation__brand-link",children:x.jsx("div",{className:"title",children:x.jsx("h3",{children:"Snippet Library"})})})}),x.jsxs("div",{className:"navigation__links",children:[x.jsx(Do,{to:"/snippets",className:`navigation__link ${r("/snippets")?"navigation__link--active":""}`,children:"Browse Snippets"}),e&&x.jsx(Do,{to:"/create",className:`navigation__link navigation__link--primary ${r("/create")?"navigation__link--active":""}`,children:"Create Snippet"})]}),x.jsx("div",{className:"navigation__auth",children:e?x.jsx(VD,{}):x.jsx(Do,{to:"/login",className:"navigation__login-btn",children:"Sign In"})})]})})}function Gj({children:t}){return x.jsxs("div",{className:"app-layout",children:[x.jsx(Kj,{}),x.jsx("main",{className:"app-layout__main",children:t||x.jsx(ED,{})})]})}function Fn({children:t,className:e="",maxWidth:n="default",padding:r="default"}){const i=["page-container",`page-container--max-width-${n}`,`page-container--padding-${r}`,e].filter(Boolean).join(" ");return x.jsx("div",{className:i,children:t})}const Qj=()=>{const[t,e]=S.useState([]),[n,r]=S.useState(!0),[i,s]=S.useState(null),{isAuthenticated:o}=Ri(),a=Xn();S.useEffect(()=>{(async()=>{try{r(!0),s(null);const d=await uj(6);e(d)}catch(d){console.error("Error fetching top snippets:",d),s("Failed to load top snippets")}finally{setTimeout(()=>r(!1),500)}})()},[]);const l=()=>{a(o?"/create":"/login")},c=h=>{a(`/snippets/${h.id}`)};return n?x.jsx(Fn,{children:x.jsxs("div",{className:"landing-page",children:[x.jsxs("div",{className:"welcome-section",children:[x.jsx("h3",{children:"Welcome."}),x.jsx("p",{className:"welcome-text",children:"Sign in with the magic link to Add, Edit, Vote, Approve and Share HTML Snippets."})]}),x.jsx("div",{className:"featured-snippets-section",children:x.jsx("div",{className:"snippets-grid",children:x.jsx(gc,{variant:"snippet",count:4})})})]})}):x.jsxs(Fn,{children:[x.jsxs("div",{className:"landing-page",children:[x.jsxs("div",{className:"welcome-section",children:[x.jsx("h3",{children:"Welcome."}),x.jsx("p",{className:"welcome-text",children:"Sign in with the magic link to Add, Edit, Vote, Approve and Share HTML Snippets."})]}),x.jsxs("div",{className:"featured-snippets-section",children:[i&&x.jsx("div",{className:"error-message","data-testid":"error-message",children:i}),t.length===0&&!i?x.jsx("div",{className:"empty-state","data-testid":"empty-state",children:x.jsx(yr,{variant:"secondary",size:"medium",onClick:l,children:"Create the First Snippet"})}):i?null:x.jsx("div",{className:"snippets-grid","data-testid":"snippets-grid",children:t.map(h=>x.jsx(uI,{snippet:h,onClick:c,showVoteCount:!0,livePreview:!0},h.id))})]})]}),t.length>0&&x.jsx("div",{className:"view-all-link",children:x.jsx(Do,{to:"/snippets",className:"link",children:"View All Snippets"})})]})},Jl=12,Xj=()=>{const[t,e]=S.useState([]),[n,r]=S.useState([]),[i,s]=S.useState(!0),[o,a]=S.useState(null),[l,c]=S.useState(1),[h,d]=S.useState(!1),[_,C]=S.useState(null),[b,A]=S.useState([]),[y,p]=S.useState("recent"),g=Xn(),w=async(k=1,N=null,D=y)=>{try{s(!0),a(null);const z=D==="recent"?"createdAt":"voteCount",Y={orderByField:z,orderDirection:"desc",limitCount:Jl+1};N!==null&&k>1&&(Y.whereConditions=[{field:z,operator:"<=",value:N}]);const G=await _c(Y);if(k===1){const j=await _c({orderByField:z,orderDirection:"desc"});r(j)}const Z=G.length>Jl,M=Z?G.slice(0,Jl):G;if(e(k===1?M:j=>[...j,...M]),d(Z),M.length>0){const j=M[M.length-1];C(j[z])}}catch(z){console.error("Error loading snippets:",z),a("Failed to load snippets. Please try again.")}finally{setTimeout(()=>s(!1),500)}};S.useEffect(()=>{w(1)},[]);const R=k=>{g(`/snippets/${k.id}`)},L=()=>{if(!i&&h&&_){const k=l+1;c(k),w(k,_,y)}},P=()=>{c(1),e([]),r([]),C(null),w(1)},E=k=>{A(k)},v=k=>{k!==y&&(p(k),c(1),e([]),r([]),C(null),w(1,null,k))},f=b.length===0?t:n.filter(N=>!N.tags||N.tags.length===0?!1:b.some(D=>N.tags.includes(D)));return i?x.jsx(Fn,{children:x.jsxs("div",{className:"snippet-list-page",children:[x.jsx("div",{className:"snippet-list-controls",children:x.jsx("div",{className:"snippet-list-filters",children:x.jsx(xw,{selectedTags:b,onTagsChange:E,sortBy:y,onSortChange:v,className:"snippet-list-tag-filter"})})}),x.jsx("div",{className:"snippet-list-grid",children:x.jsx(gc,{variant:"snippet",count:Jl})}),x.jsx("div",{className:"loading-status",children:"Loading snippets..."})]})}):o&&t.length===0?x.jsx(Fn,{children:x.jsx("div",{className:"snippet-list-page",children:x.jsxs("div",{className:"snippet-list-error",children:[x.jsx("div",{className:"error-icon",children:"⚠️"}),x.jsx("h2",{children:"Oops! Something went wrong"}),x.jsx("p",{children:o}),x.jsx("button",{className:"retry-button",onClick:P,children:"Try Again"})]})})}):x.jsx(Fn,{children:x.jsxs("div",{className:"snippet-list-page",children:[x.jsx("div",{className:"snippet-list-controls",children:x.jsx("div",{className:"snippet-list-filters",children:x.jsx(xw,{selectedTags:b,onTagsChange:E,sortBy:y,onSortChange:v,className:"snippet-list-tag-filter"})})}),t.length===0&&!i?x.jsxs("div",{className:"snippet-list-empty",children:[x.jsx("h2",{children:"No snippets yet"}),x.jsx("p",{children:"Be the first to share an HTML snippet with the community!"}),x.jsx("button",{className:"create-snippet-button",onClick:()=>g("/create"),children:"Create First Snippet"})]}):f.length===0&&b.length>0?x.jsxs("div",{className:"snippet-list-empty",children:[x.jsx("h2",{children:"No snippets found"}),x.jsx("button",{className:"create-snippet-button",onClick:()=>g("/create"),children:"Create New Snippet"})]}):x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"snippet-list-grid",children:[f.map(k=>x.jsx(uI,{snippet:k,onClick:R,className:"snippet-list-card",livePreview:!0},k.id)),i&&l>1&&x.jsx(gc,{variant:"snippet",count:6})]}),b.length===0&&h&&x.jsx("div",{className:"snippet-list-pagination",children:x.jsx(yr,{onClick:L,loading:i,loadingText:"Loading more...",variant:"primary",size:"medium",children:"Load More Snippets"})}),b.length===0&&!h&&t.length>0&&x.jsxs("div",{className:"snippet-list-end",children:[x.jsx("p",{children:"You've reached the end! 🎉"}),x.jsxs("p",{children:[x.jsx("button",{className:"create-snippet-link",onClick:()=>g("/create"),children:"Create a new snippet"})," ","to add more content."]})]})]}),o&&t.length>0&&x.jsxs("div",{className:"snippet-list-error-inline",children:[x.jsx("p",{children:"Failed to load more snippets. "}),x.jsx("button",{className:"retry-link",onClick:L,children:"Try again"})]})]})})},Yj=()=>{const[t,e]=S.useState(!1),[n,r]=S.useState(null),{user:i}=Ri(),s=Xn(),o=async a=>{e(!0),r(null);try{await new Promise(l=>setTimeout(l,1e3)),s("/snippets",{replace:!0})}catch(l){console.error("Error creating snippet:",l),r(l.message||"Failed to create snippet. Please try again.")}finally{e(!1)}};return x.jsx(Fn,{maxWidth:"narrow",children:x.jsxs("div",{className:"create-snippet-page",children:[x.jsx("div",{className:"page-header"}),n&&x.jsx("div",{className:"error-banner",children:x.jsxs("div",{className:"error-content",children:[x.jsx("span",{className:"error-icon",children:"⚠️"}),x.jsx("span",{className:"error-text",children:n}),x.jsx("button",{className:"error-dismiss",onClick:()=>r(null),"aria-label":"Dismiss error",children:"×"})]})}),x.jsxs("div",{className:"form-container",children:[x.jsx(Nj,{onSubmit:o,loading:t}),x.jsx("div",{className:"form-footer"})]})]})})},Jj=()=>{const{id:t}=oD(),e=Xn(),[n]=LD();bi();const[r,i]=S.useState(null),[s,o]=S.useState(!0),[a,l]=S.useState(null),c=n.get("tab")||"preview";S.useEffect(()=>{(async()=>{if(!t){l("No snippet ID provided"),o(!1);return}try{o(!0),l(null);const A=await lj(t);A?i(A):(l("Snippet not found"),i(null))}catch(A){console.error("Error loading snippet:",A),l("Failed to load snippet. Please try again."),i(null)}finally{setTimeout(()=>o(!1),500)}})()},[t]);const h=async b=>{try{return await navigator.clipboard.writeText(b),Promise.resolve()}catch(A){return console.error("Failed to copy to clipboard:",A),Promise.reject(A)}},d=async b=>{try{await new Promise(y=>setTimeout(y,1e3));const A={title:b.title,htmlContent:b.htmlContent,tags:b.tags||[]};i({...r,...A,updatedAt:new Date().toISOString()}),console.log("Snippet updated successfully (portfolio mode)")}catch(A){throw console.error("Error updating snippet:",A),A}},_=async b=>{try{await new Promise(A=>setTimeout(A,1e3)),console.log("Snippet deleted successfully (portfolio mode)"),e("/snippets")}catch(A){throw console.error("Error deleting snippet:",A),A}},C=()=>{n.get("tab")==="code"||window.history.length<=1?e("/snippets"):e(-1)};return s?x.jsx(Fn,{children:x.jsx("div",{className:"snippet-detail-page",children:x.jsxs("div",{className:"snippet-detail-container",children:[x.jsx("div",{className:"snippet-detail-navigation",children:x.jsx(yr,{variant:"secondary",disabled:!0,children:"← Back"})}),x.jsx(gc,{variant:"detail"})]})})}):a?x.jsx(Fn,{children:x.jsx("div",{className:"snippet-detail-page",children:x.jsx("div",{className:"snippet-detail-container",children:x.jsxs("div",{className:"snippet-detail-error",children:[x.jsx("h2",{children:"Error"}),x.jsx("p",{children:a}),x.jsxs("div",{className:"error-actions",children:[x.jsx(yr,{variant:"secondary",onClick:C,children:"Go Back"}),x.jsx(yr,{variant:"primary",onClick:()=>window.location.reload(),children:"Try Again"})]})]})})})}):x.jsx(Fn,{children:x.jsx("div",{className:"snippet-detail-page",children:x.jsxs("div",{className:"snippet-detail-container",children:[x.jsx("div",{className:"snippet-detail-navigation",children:x.jsx(yr,{variant:"secondary",onClick:C,children:"← Back"})}),x.jsx(Rj,{snippet:r,onCopy:h,onUpdate:d,onDelete:_,className:"snippet-detail-main",initialTab:c})]})})})},Zj=()=>{const t=Xn();return S.useEffect(()=>{t("/",{replace:!0})},[t]),null};function e3(){return x.jsxs(SD,{children:[x.jsx(qi,{path:"/",element:x.jsx(Qj,{})}),x.jsx(qi,{path:"/snippets",element:x.jsx(Xj,{})}),x.jsx(qi,{path:"/snippets/:id",element:x.jsx(Jj,{})}),x.jsx(qi,{path:"/create",element:x.jsx(FD,{children:x.jsx(Yj,{})})}),x.jsx(qi,{path:"/login",element:x.jsx(Zj,{})})]})}function t3(){return S.useEffect(()=>{document.body.classList.add("dark","dark-theme"),document.body.classList.remove("light","light-theme"),"scrollRestoration"in history&&(history.scrollRestoration="manual");const t=()=>window.scrollTo(0,0);window.scrollTo(0,0),window.addEventListener("scroll",t,{passive:!1});const e=setTimeout(()=>{window.removeEventListener("scroll",t)},1e3);return()=>{document.body.classList.remove("dark","dark-theme"),window.removeEventListener("scroll",t),clearTimeout(e)}},[]),x.jsx(Kd,{children:x.jsx(MD,{children:x.jsx(PD,{children:x.jsx(Kd,{message:"Something went wrong with the navigation. Please try refreshing the page.",children:x.jsx(Gj,{children:x.jsx(Kd,{message:"There was an error loading this page. Please try again.",children:x.jsx(e3,{})})})})})})})}Gd.createRoot(document.getElementById("root")).render(x.jsx(hn.StrictMode,{children:x.jsx(xT,{appearance:"dark",accentColor:"gray",grayColor:"blue",radius:"medium",scaling:"100%",children:x.jsx(t3,{})})}));
